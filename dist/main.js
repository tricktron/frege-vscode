var Jm=Object.create;var ki=Object.defineProperty;var Ym=Object.getOwnPropertyDescriptor;var Qm=Object.getOwnPropertyNames;var Zm=Object.getPrototypeOf,ev=Object.prototype.hasOwnProperty;var Du=t=>ki(t,"__esModule",{value:!0});var E=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),tv=(t,e)=>{Du(t);for(var r in e)ki(t,r,{get:e[r],enumerable:!0})},rv=(t,e,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let n of Qm(e))!ev.call(t,n)&&n!=="default"&&ki(t,n,{get:()=>e[n],enumerable:!(r=Ym(e,n))||r.enumerable});return t},Ir=t=>rv(Du(ki(t!=null?Jm(Zm(t)):{},"default",t&&t.__esModule&&"default"in t?{get:()=>t.default,enumerable:!0}:{value:t,enumerable:!0})),t);var Ln=E((aP,qu)=>{var nv="2.0.0",iv=256,ov=Number.MAX_SAFE_INTEGER||9007199254740991,sv=16;qu.exports={SEMVER_SPEC_VERSION:nv,MAX_LENGTH:iv,MAX_SAFE_INTEGER:ov,MAX_SAFE_COMPONENT_LENGTH:sv}});var An=E((uP,Ou)=>{var av=typeof process=="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...t)=>console.error("SEMVER",...t):()=>{};Ou.exports=av});var Fr=E((pr,xu)=>{var{MAX_SAFE_COMPONENT_LENGTH:ns}=Ln(),uv=An();pr=xu.exports={};var cv=pr.re=[],M=pr.src=[],j=pr.t={},lv=0,Y=(t,e,r)=>{let n=lv++;uv(n,e),j[t]=n,M[n]=e,cv[n]=new RegExp(e,r?"g":void 0)};Y("NUMERICIDENTIFIER","0|[1-9]\\d*");Y("NUMERICIDENTIFIERLOOSE","[0-9]+");Y("NONNUMERICIDENTIFIER","\\d*[a-zA-Z-][a-zA-Z0-9-]*");Y("MAINVERSION",`(${M[j.NUMERICIDENTIFIER]})\\.(${M[j.NUMERICIDENTIFIER]})\\.(${M[j.NUMERICIDENTIFIER]})`);Y("MAINVERSIONLOOSE",`(${M[j.NUMERICIDENTIFIERLOOSE]})\\.(${M[j.NUMERICIDENTIFIERLOOSE]})\\.(${M[j.NUMERICIDENTIFIERLOOSE]})`);Y("PRERELEASEIDENTIFIER",`(?:${M[j.NUMERICIDENTIFIER]}|${M[j.NONNUMERICIDENTIFIER]})`);Y("PRERELEASEIDENTIFIERLOOSE",`(?:${M[j.NUMERICIDENTIFIERLOOSE]}|${M[j.NONNUMERICIDENTIFIER]})`);Y("PRERELEASE",`(?:-(${M[j.PRERELEASEIDENTIFIER]}(?:\\.${M[j.PRERELEASEIDENTIFIER]})*))`);Y("PRERELEASELOOSE",`(?:-?(${M[j.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${M[j.PRERELEASEIDENTIFIERLOOSE]})*))`);Y("BUILDIDENTIFIER","[0-9A-Za-z-]+");Y("BUILD",`(?:\\+(${M[j.BUILDIDENTIFIER]}(?:\\.${M[j.BUILDIDENTIFIER]})*))`);Y("FULLPLAIN",`v?${M[j.MAINVERSION]}${M[j.PRERELEASE]}?${M[j.BUILD]}?`);Y("FULL",`^${M[j.FULLPLAIN]}$`);Y("LOOSEPLAIN",`[v=\\s]*${M[j.MAINVERSIONLOOSE]}${M[j.PRERELEASELOOSE]}?${M[j.BUILD]}?`);Y("LOOSE",`^${M[j.LOOSEPLAIN]}$`);Y("GTLT","((?:<|>)?=?)");Y("XRANGEIDENTIFIERLOOSE",`${M[j.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`);Y("XRANGEIDENTIFIER",`${M[j.NUMERICIDENTIFIER]}|x|X|\\*`);Y("XRANGEPLAIN",`[v=\\s]*(${M[j.XRANGEIDENTIFIER]})(?:\\.(${M[j.XRANGEIDENTIFIER]})(?:\\.(${M[j.XRANGEIDENTIFIER]})(?:${M[j.PRERELEASE]})?${M[j.BUILD]}?)?)?`);Y("XRANGEPLAINLOOSE",`[v=\\s]*(${M[j.XRANGEIDENTIFIERLOOSE]})(?:\\.(${M[j.XRANGEIDENTIFIERLOOSE]})(?:\\.(${M[j.XRANGEIDENTIFIERLOOSE]})(?:${M[j.PRERELEASELOOSE]})?${M[j.BUILD]}?)?)?`);Y("XRANGE",`^${M[j.GTLT]}\\s*${M[j.XRANGEPLAIN]}$`);Y("XRANGELOOSE",`^${M[j.GTLT]}\\s*${M[j.XRANGEPLAINLOOSE]}$`);Y("COERCE",`(^|[^\\d])(\\d{1,${ns}})(?:\\.(\\d{1,${ns}}))?(?:\\.(\\d{1,${ns}}))?(?:$|[^\\d])`);Y("COERCERTL",M[j.COERCE],!0);Y("LONETILDE","(?:~>?)");Y("TILDETRIM",`(\\s*)${M[j.LONETILDE]}\\s+`,!0);pr.tildeTrimReplace="$1~";Y("TILDE",`^${M[j.LONETILDE]}${M[j.XRANGEPLAIN]}$`);Y("TILDELOOSE",`^${M[j.LONETILDE]}${M[j.XRANGEPLAINLOOSE]}$`);Y("LONECARET","(?:\\^)");Y("CARETTRIM",`(\\s*)${M[j.LONECARET]}\\s+`,!0);pr.caretTrimReplace="$1^";Y("CARET",`^${M[j.LONECARET]}${M[j.XRANGEPLAIN]}$`);Y("CARETLOOSE",`^${M[j.LONECARET]}${M[j.XRANGEPLAINLOOSE]}$`);Y("COMPARATORLOOSE",`^${M[j.GTLT]}\\s*(${M[j.LOOSEPLAIN]})$|^$`);Y("COMPARATOR",`^${M[j.GTLT]}\\s*(${M[j.FULLPLAIN]})$|^$`);Y("COMPARATORTRIM",`(\\s*)${M[j.GTLT]}\\s*(${M[j.LOOSEPLAIN]}|${M[j.XRANGEPLAIN]})`,!0);pr.comparatorTrimReplace="$1$2$3";Y("HYPHENRANGE",`^\\s*(${M[j.XRANGEPLAIN]})\\s+-\\s+(${M[j.XRANGEPLAIN]})\\s*$`);Y("HYPHENRANGELOOSE",`^\\s*(${M[j.XRANGEPLAINLOOSE]})\\s+-\\s+(${M[j.XRANGEPLAINLOOSE]})\\s*$`);Y("STAR","(<|>)?=?\\s*\\*");Y("GTE0","^\\s*>=\\s*0.0.0\\s*$");Y("GTE0PRE","^\\s*>=\\s*0.0.0-0\\s*$")});var Mn=E((cP,ku)=>{var dv=["includePrerelease","loose","rtl"],fv=t=>t?typeof t!="object"?{loose:!0}:dv.filter(e=>t[e]).reduce((e,r)=>(e[r]=!0,e),{}):{};ku.exports=fv});var Ni=E((lP,Fu)=>{var Nu=/^[0-9]+$/,Iu=(t,e)=>{let r=Nu.test(t),n=Nu.test(e);return r&&n&&(t=+t,e=+e),t===e?0:r&&!n?-1:n&&!r?1:t<e?-1:1},hv=(t,e)=>Iu(e,t);Fu.exports={compareIdentifiers:Iu,rcompareIdentifiers:hv}});var Be=E((dP,ju)=>{var Ii=An(),{MAX_LENGTH:Lu,MAX_SAFE_INTEGER:Fi}=Ln(),{re:Au,t:Mu}=Fr(),pv=Mn(),{compareIdentifiers:jn}=Ni(),vt=class{constructor(e,r){if(r=pv(r),e instanceof vt){if(e.loose===!!r.loose&&e.includePrerelease===!!r.includePrerelease)return e;e=e.version}else if(typeof e!="string")throw new TypeError(`Invalid Version: ${e}`);if(e.length>Lu)throw new TypeError(`version is longer than ${Lu} characters`);Ii("SemVer",e,r),this.options=r,this.loose=!!r.loose,this.includePrerelease=!!r.includePrerelease;let n=e.trim().match(r.loose?Au[Mu.LOOSE]:Au[Mu.FULL]);if(!n)throw new TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+n[1],this.minor=+n[2],this.patch=+n[3],this.major>Fi||this.major<0)throw new TypeError("Invalid major version");if(this.minor>Fi||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>Fi||this.patch<0)throw new TypeError("Invalid patch version");n[4]?this.prerelease=n[4].split(".").map(i=>{if(/^[0-9]+$/.test(i)){let o=+i;if(o>=0&&o<Fi)return o}return i}):this.prerelease=[],this.build=n[5]?n[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(Ii("SemVer.compare",this.version,this.options,e),!(e instanceof vt)){if(typeof e=="string"&&e===this.version)return 0;e=new vt(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof vt||(e=new vt(e,this.options)),jn(this.major,e.major)||jn(this.minor,e.minor)||jn(this.patch,e.patch)}comparePre(e){if(e instanceof vt||(e=new vt(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let r=0;do{let n=this.prerelease[r],i=e.prerelease[r];if(Ii("prerelease compare",r,n,i),n===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(n===void 0)return-1;if(n===i)continue;return jn(n,i)}while(++r)}compareBuild(e){e instanceof vt||(e=new vt(e,this.options));let r=0;do{let n=this.build[r],i=e.build[r];if(Ii("prerelease compare",r,n,i),n===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(n===void 0)return-1;if(n===i)continue;return jn(n,i)}while(++r)}inc(e,r){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",r);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",r);break;case"prepatch":this.prerelease.length=0,this.inc("patch",r),this.inc("pre",r);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",r),this.inc("pre",r);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":if(this.prerelease.length===0)this.prerelease=[0];else{let n=this.prerelease.length;for(;--n>=0;)typeof this.prerelease[n]=="number"&&(this.prerelease[n]++,n=-2);n===-1&&this.prerelease.push(0)}r&&(this.prerelease[0]===r?isNaN(this.prerelease[1])&&(this.prerelease=[r,0]):this.prerelease=[r,0]);break;default:throw new Error(`invalid increment argument: ${e}`)}return this.format(),this.raw=this.version,this}};ju.exports=vt});var Lr=E((fP,Uu)=>{var{MAX_LENGTH:gv}=Ln(),{re:$u,t:Wu}=Fr(),Hu=Be(),mv=Mn(),vv=(t,e)=>{if(e=mv(e),t instanceof Hu)return t;if(typeof t!="string"||t.length>gv||!(e.loose?$u[Wu.LOOSE]:$u[Wu.FULL]).test(t))return null;try{return new Hu(t,e)}catch{return null}};Uu.exports=vv});var Ku=E((hP,zu)=>{var yv=Lr(),_v=(t,e)=>{let r=yv(t,e);return r?r.version:null};zu.exports=_v});var Gu=E((pP,Bu)=>{var Rv=Lr(),wv=(t,e)=>{let r=Rv(t.trim().replace(/^[=v]+/,""),e);return r?r.version:null};Bu.exports=wv});var Xu=E((gP,Vu)=>{var bv=Be(),Cv=(t,e,r,n)=>{typeof r=="string"&&(n=r,r=void 0);try{return new bv(t,r).inc(e,n).version}catch{return null}};Vu.exports=Cv});var yt=E((mP,Yu)=>{var Ju=Be(),Sv=(t,e,r)=>new Ju(t,r).compare(new Ju(e,r));Yu.exports=Sv});var Li=E((vP,Qu)=>{var Tv=yt(),Ev=(t,e,r)=>Tv(t,e,r)===0;Qu.exports=Ev});var tc=E((yP,ec)=>{var Zu=Lr(),Pv=Li(),Dv=(t,e)=>{if(Pv(t,e))return null;{let r=Zu(t),n=Zu(e),i=r.prerelease.length||n.prerelease.length,o=i?"pre":"",s=i?"prerelease":"";for(let d in r)if((d==="major"||d==="minor"||d==="patch")&&r[d]!==n[d])return o+d;return s}};ec.exports=Dv});var nc=E((_P,rc)=>{var qv=Be(),Ov=(t,e)=>new qv(t,e).major;rc.exports=Ov});var oc=E((RP,ic)=>{var xv=Be(),kv=(t,e)=>new xv(t,e).minor;ic.exports=kv});var ac=E((wP,sc)=>{var Nv=Be(),Iv=(t,e)=>new Nv(t,e).patch;sc.exports=Iv});var cc=E((bP,uc)=>{var Fv=Lr(),Lv=(t,e)=>{let r=Fv(t,e);return r&&r.prerelease.length?r.prerelease:null};uc.exports=Lv});var dc=E((CP,lc)=>{var Av=yt(),Mv=(t,e,r)=>Av(e,t,r);lc.exports=Mv});var hc=E((SP,fc)=>{var jv=yt(),$v=(t,e)=>jv(t,e,!0);fc.exports=$v});var Ai=E((TP,gc)=>{var pc=Be(),Wv=(t,e,r)=>{let n=new pc(t,r),i=new pc(e,r);return n.compare(i)||n.compareBuild(i)};gc.exports=Wv});var vc=E((EP,mc)=>{var Hv=Ai(),Uv=(t,e)=>t.sort((r,n)=>Hv(r,n,e));mc.exports=Uv});var _c=E((PP,yc)=>{var zv=Ai(),Kv=(t,e)=>t.sort((r,n)=>zv(n,r,e));yc.exports=Kv});var $n=E((DP,Rc)=>{var Bv=yt(),Gv=(t,e,r)=>Bv(t,e,r)>0;Rc.exports=Gv});var Mi=E((qP,wc)=>{var Vv=yt(),Xv=(t,e,r)=>Vv(t,e,r)<0;wc.exports=Xv});var is=E((OP,bc)=>{var Jv=yt(),Yv=(t,e,r)=>Jv(t,e,r)!==0;bc.exports=Yv});var ji=E((xP,Cc)=>{var Qv=yt(),Zv=(t,e,r)=>Qv(t,e,r)>=0;Cc.exports=Zv});var $i=E((kP,Sc)=>{var ey=yt(),ty=(t,e,r)=>ey(t,e,r)<=0;Sc.exports=ty});var os=E((NP,Tc)=>{var ry=Li(),ny=is(),iy=$n(),oy=ji(),sy=Mi(),ay=$i(),uy=(t,e,r,n)=>{switch(e){case"===":return typeof t=="object"&&(t=t.version),typeof r=="object"&&(r=r.version),t===r;case"!==":return typeof t=="object"&&(t=t.version),typeof r=="object"&&(r=r.version),t!==r;case"":case"=":case"==":return ry(t,r,n);case"!=":return ny(t,r,n);case">":return iy(t,r,n);case">=":return oy(t,r,n);case"<":return sy(t,r,n);case"<=":return ay(t,r,n);default:throw new TypeError(`Invalid operator: ${e}`)}};Tc.exports=uy});var Pc=E((IP,Ec)=>{var cy=Be(),ly=Lr(),{re:Wi,t:Hi}=Fr(),dy=(t,e)=>{if(t instanceof cy)return t;if(typeof t=="number"&&(t=String(t)),typeof t!="string")return null;e=e||{};let r=null;if(!e.rtl)r=t.match(Wi[Hi.COERCE]);else{let n;for(;(n=Wi[Hi.COERCERTL].exec(t))&&(!r||r.index+r[0].length!==t.length);)(!r||n.index+n[0].length!==r.index+r[0].length)&&(r=n),Wi[Hi.COERCERTL].lastIndex=n.index+n[1].length+n[2].length;Wi[Hi.COERCERTL].lastIndex=-1}return r===null?null:ly(`${r[2]}.${r[3]||"0"}.${r[4]||"0"}`,e)};Ec.exports=dy});var qc=E((FP,Dc)=>{"use strict";Dc.exports=function(t){t.prototype[Symbol.iterator]=function*(){for(let e=this.head;e;e=e.next)yield e.value}}});var xc=E((LP,Oc)=>{"use strict";Oc.exports=ie;ie.Node=Ar;ie.create=ie;function ie(t){var e=this;if(e instanceof ie||(e=new ie),e.tail=null,e.head=null,e.length=0,t&&typeof t.forEach=="function")t.forEach(function(i){e.push(i)});else if(arguments.length>0)for(var r=0,n=arguments.length;r<n;r++)e.push(arguments[r]);return e}ie.prototype.removeNode=function(t){if(t.list!==this)throw new Error("removing node which does not belong to this list");var e=t.next,r=t.prev;return e&&(e.prev=r),r&&(r.next=e),t===this.head&&(this.head=e),t===this.tail&&(this.tail=r),t.list.length--,t.next=null,t.prev=null,t.list=null,e};ie.prototype.unshiftNode=function(t){if(t!==this.head){t.list&&t.list.removeNode(t);var e=this.head;t.list=this,t.next=e,e&&(e.prev=t),this.head=t,this.tail||(this.tail=t),this.length++}};ie.prototype.pushNode=function(t){if(t!==this.tail){t.list&&t.list.removeNode(t);var e=this.tail;t.list=this,t.prev=e,e&&(e.next=t),this.tail=t,this.head||(this.head=t),this.length++}};ie.prototype.push=function(){for(var t=0,e=arguments.length;t<e;t++)hy(this,arguments[t]);return this.length};ie.prototype.unshift=function(){for(var t=0,e=arguments.length;t<e;t++)py(this,arguments[t]);return this.length};ie.prototype.pop=function(){if(!!this.tail){var t=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,t}};ie.prototype.shift=function(){if(!!this.head){var t=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,t}};ie.prototype.forEach=function(t,e){e=e||this;for(var r=this.head,n=0;r!==null;n++)t.call(e,r.value,n,this),r=r.next};ie.prototype.forEachReverse=function(t,e){e=e||this;for(var r=this.tail,n=this.length-1;r!==null;n--)t.call(e,r.value,n,this),r=r.prev};ie.prototype.get=function(t){for(var e=0,r=this.head;r!==null&&e<t;e++)r=r.next;if(e===t&&r!==null)return r.value};ie.prototype.getReverse=function(t){for(var e=0,r=this.tail;r!==null&&e<t;e++)r=r.prev;if(e===t&&r!==null)return r.value};ie.prototype.map=function(t,e){e=e||this;for(var r=new ie,n=this.head;n!==null;)r.push(t.call(e,n.value,this)),n=n.next;return r};ie.prototype.mapReverse=function(t,e){e=e||this;for(var r=new ie,n=this.tail;n!==null;)r.push(t.call(e,n.value,this)),n=n.prev;return r};ie.prototype.reduce=function(t,e){var r,n=this.head;if(arguments.length>1)r=e;else if(this.head)n=this.head.next,r=this.head.value;else throw new TypeError("Reduce of empty list with no initial value");for(var i=0;n!==null;i++)r=t(r,n.value,i),n=n.next;return r};ie.prototype.reduceReverse=function(t,e){var r,n=this.tail;if(arguments.length>1)r=e;else if(this.tail)n=this.tail.prev,r=this.tail.value;else throw new TypeError("Reduce of empty list with no initial value");for(var i=this.length-1;n!==null;i--)r=t(r,n.value,i),n=n.prev;return r};ie.prototype.toArray=function(){for(var t=new Array(this.length),e=0,r=this.head;r!==null;e++)t[e]=r.value,r=r.next;return t};ie.prototype.toArrayReverse=function(){for(var t=new Array(this.length),e=0,r=this.tail;r!==null;e++)t[e]=r.value,r=r.prev;return t};ie.prototype.slice=function(t,e){e=e||this.length,e<0&&(e+=this.length),t=t||0,t<0&&(t+=this.length);var r=new ie;if(e<t||e<0)return r;t<0&&(t=0),e>this.length&&(e=this.length);for(var n=0,i=this.head;i!==null&&n<t;n++)i=i.next;for(;i!==null&&n<e;n++,i=i.next)r.push(i.value);return r};ie.prototype.sliceReverse=function(t,e){e=e||this.length,e<0&&(e+=this.length),t=t||0,t<0&&(t+=this.length);var r=new ie;if(e<t||e<0)return r;t<0&&(t=0),e>this.length&&(e=this.length);for(var n=this.length,i=this.tail;i!==null&&n>e;n--)i=i.prev;for(;i!==null&&n>t;n--,i=i.prev)r.push(i.value);return r};ie.prototype.splice=function(t,e,...r){t>this.length&&(t=this.length-1),t<0&&(t=this.length+t);for(var n=0,i=this.head;i!==null&&n<t;n++)i=i.next;for(var o=[],n=0;i&&n<e;n++)o.push(i.value),i=this.removeNode(i);i===null&&(i=this.tail),i!==this.head&&i!==this.tail&&(i=i.prev);for(var n=0;n<r.length;n++)i=fy(this,i,r[n]);return o};ie.prototype.reverse=function(){for(var t=this.head,e=this.tail,r=t;r!==null;r=r.prev){var n=r.prev;r.prev=r.next,r.next=n}return this.head=e,this.tail=t,this};function fy(t,e,r){var n=e===t.head?new Ar(r,null,e,t):new Ar(r,e,e.next,t);return n.next===null&&(t.tail=n),n.prev===null&&(t.head=n),t.length++,n}function hy(t,e){t.tail=new Ar(e,t.tail,null,t),t.head||(t.head=t.tail),t.length++}function py(t,e){t.head=new Ar(e,null,t.head,t),t.tail||(t.tail=t.head),t.length++}function Ar(t,e,r,n){if(!(this instanceof Ar))return new Ar(t,e,r,n);this.list=n,this.value=t,e?(e.next=this,this.prev=e):this.prev=null,r?(r.prev=this,this.next=r):this.next=null}try{qc()(ie)}catch{}});var Mc=E((AP,Ac)=>{"use strict";var gy=xc(),Mr=Symbol("max"),Jt=Symbol("length"),sn=Symbol("lengthCalculator"),Wn=Symbol("allowStale"),jr=Symbol("maxAge"),Yt=Symbol("dispose"),kc=Symbol("noDisposeOnSet"),Me=Symbol("lruList"),Dt=Symbol("cache"),Nc=Symbol("updateAgeOnGet"),ss=()=>1,Ic=class{constructor(e){if(typeof e=="number"&&(e={max:e}),e||(e={}),e.max&&(typeof e.max!="number"||e.max<0))throw new TypeError("max must be a non-negative number");let r=this[Mr]=e.max||1/0,n=e.length||ss;if(this[sn]=typeof n!="function"?ss:n,this[Wn]=e.stale||!1,e.maxAge&&typeof e.maxAge!="number")throw new TypeError("maxAge must be a number");this[jr]=e.maxAge||0,this[Yt]=e.dispose,this[kc]=e.noDisposeOnSet||!1,this[Nc]=e.updateAgeOnGet||!1,this.reset()}set max(e){if(typeof e!="number"||e<0)throw new TypeError("max must be a non-negative number");this[Mr]=e||1/0,Hn(this)}get max(){return this[Mr]}set allowStale(e){this[Wn]=!!e}get allowStale(){return this[Wn]}set maxAge(e){if(typeof e!="number")throw new TypeError("maxAge must be a non-negative number");this[jr]=e,Hn(this)}get maxAge(){return this[jr]}set lengthCalculator(e){typeof e!="function"&&(e=ss),e!==this[sn]&&(this[sn]=e,this[Jt]=0,this[Me].forEach(r=>{r.length=this[sn](r.value,r.key),this[Jt]+=r.length})),Hn(this)}get lengthCalculator(){return this[sn]}get length(){return this[Jt]}get itemCount(){return this[Me].length}rforEach(e,r){r=r||this;for(let n=this[Me].tail;n!==null;){let i=n.prev;Lc(this,e,n,r),n=i}}forEach(e,r){r=r||this;for(let n=this[Me].head;n!==null;){let i=n.next;Lc(this,e,n,r),n=i}}keys(){return this[Me].toArray().map(e=>e.key)}values(){return this[Me].toArray().map(e=>e.value)}reset(){this[Yt]&&this[Me]&&this[Me].length&&this[Me].forEach(e=>this[Yt](e.key,e.value)),this[Dt]=new Map,this[Me]=new gy,this[Jt]=0}dump(){return this[Me].map(e=>Ui(this,e)?!1:{k:e.key,v:e.value,e:e.now+(e.maxAge||0)}).toArray().filter(e=>e)}dumpLru(){return this[Me]}set(e,r,n){if(n=n||this[jr],n&&typeof n!="number")throw new TypeError("maxAge must be a number");let i=n?Date.now():0,o=this[sn](r,e);if(this[Dt].has(e)){if(o>this[Mr])return an(this,this[Dt].get(e)),!1;let c=this[Dt].get(e).value;return this[Yt]&&(this[kc]||this[Yt](e,c.value)),c.now=i,c.maxAge=n,c.value=r,this[Jt]+=o-c.length,c.length=o,this.get(e),Hn(this),!0}let s=new Fc(e,r,o,i,n);return s.length>this[Mr]?(this[Yt]&&this[Yt](e,r),!1):(this[Jt]+=s.length,this[Me].unshift(s),this[Dt].set(e,this[Me].head),Hn(this),!0)}has(e){if(!this[Dt].has(e))return!1;let r=this[Dt].get(e).value;return!Ui(this,r)}get(e){return as(this,e,!0)}peek(e){return as(this,e,!1)}pop(){let e=this[Me].tail;return e?(an(this,e),e.value):null}del(e){an(this,this[Dt].get(e))}load(e){this.reset();let r=Date.now();for(let n=e.length-1;n>=0;n--){let i=e[n],o=i.e||0;if(o===0)this.set(i.k,i.v);else{let s=o-r;s>0&&this.set(i.k,i.v,s)}}}prune(){this[Dt].forEach((e,r)=>as(this,r,!1))}},as=(t,e,r)=>{let n=t[Dt].get(e);if(n){let i=n.value;if(Ui(t,i)){if(an(t,n),!t[Wn])return}else r&&(t[Nc]&&(n.value.now=Date.now()),t[Me].unshiftNode(n));return i.value}},Ui=(t,e)=>{if(!e||!e.maxAge&&!t[jr])return!1;let r=Date.now()-e.now;return e.maxAge?r>e.maxAge:t[jr]&&r>t[jr]},Hn=t=>{if(t[Jt]>t[Mr])for(let e=t[Me].tail;t[Jt]>t[Mr]&&e!==null;){let r=e.prev;an(t,e),e=r}},an=(t,e)=>{if(e){let r=e.value;t[Yt]&&t[Yt](r.key,r.value),t[Jt]-=r.length,t[Dt].delete(r.key),t[Me].removeNode(e)}},Fc=class{constructor(e,r,n,i,o){this.key=e,this.value=r,this.length=n,this.now=i,this.maxAge=o||0}},Lc=(t,e,r,n)=>{let i=r.value;Ui(t,i)&&(an(t,r),t[Wn]||(i=void 0)),i&&e.call(n,i.value,i.key,t)};Ac.exports=Ic});var _t=E((MP,Hc)=>{var un=class{constructor(e,r){if(r=vy(r),e instanceof un)return e.loose===!!r.loose&&e.includePrerelease===!!r.includePrerelease?e:new un(e.raw,r);if(e instanceof us)return this.raw=e.value,this.set=[[e]],this.format(),this;if(this.options=r,this.loose=!!r.loose,this.includePrerelease=!!r.includePrerelease,this.raw=e,this.set=e.split(/\s*\|\|\s*/).map(n=>this.parseRange(n.trim())).filter(n=>n.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${e}`);if(this.set.length>1){let n=this.set[0];if(this.set=this.set.filter(i=>!$c(i[0])),this.set.length===0)this.set=[n];else if(this.set.length>1){for(let i of this.set)if(i.length===1&&by(i[0])){this.set=[i];break}}}this.format()}format(){return this.range=this.set.map(e=>e.join(" ").trim()).join("||").trim(),this.range}toString(){return this.range}parseRange(e){e=e.trim();let n=`parseRange:${Object.keys(this.options).join(",")}:${e}`,i=jc.get(n);if(i)return i;let o=this.options.loose,s=o?Ge[Ue.HYPHENRANGELOOSE]:Ge[Ue.HYPHENRANGE];e=e.replace(s,ky(this.options.includePrerelease)),xe("hyphen replace",e),e=e.replace(Ge[Ue.COMPARATORTRIM],_y),xe("comparator trim",e,Ge[Ue.COMPARATORTRIM]),e=e.replace(Ge[Ue.TILDETRIM],Ry),e=e.replace(Ge[Ue.CARETTRIM],wy),e=e.split(/\s+/).join(" ");let d=o?Ge[Ue.COMPARATORLOOSE]:Ge[Ue.COMPARATOR],c=e.split(" ").map(w=>Cy(w,this.options)).join(" ").split(/\s+/).map(w=>xy(w,this.options)).filter(this.options.loose?w=>!!w.match(d):()=>!0).map(w=>new us(w,this.options)),h=c.length,m=new Map;for(let w of c){if($c(w))return[w];m.set(w.value,w)}m.size>1&&m.has("")&&m.delete("");let v=[...m.values()];return jc.set(n,v),v}intersects(e,r){if(!(e instanceof un))throw new TypeError("a Range is required");return this.set.some(n=>Wc(n,r)&&e.set.some(i=>Wc(i,r)&&n.every(o=>i.every(s=>o.intersects(s,r)))))}test(e){if(!e)return!1;if(typeof e=="string")try{e=new yy(e,this.options)}catch{return!1}for(let r=0;r<this.set.length;r++)if(Ny(this.set[r],e,this.options))return!0;return!1}};Hc.exports=un;var my=Mc(),jc=new my({max:1e3}),vy=Mn(),us=Un(),xe=An(),yy=Be(),{re:Ge,t:Ue,comparatorTrimReplace:_y,tildeTrimReplace:Ry,caretTrimReplace:wy}=Fr(),$c=t=>t.value==="<0.0.0-0",by=t=>t.value==="",Wc=(t,e)=>{let r=!0,n=t.slice(),i=n.pop();for(;r&&n.length;)r=n.every(o=>i.intersects(o,e)),i=n.pop();return r},Cy=(t,e)=>(xe("comp",t,e),t=Ey(t,e),xe("caret",t),t=Sy(t,e),xe("tildes",t),t=Dy(t,e),xe("xrange",t),t=Oy(t,e),xe("stars",t),t),Ze=t=>!t||t.toLowerCase()==="x"||t==="*",Sy=(t,e)=>t.trim().split(/\s+/).map(r=>Ty(r,e)).join(" "),Ty=(t,e)=>{let r=e.loose?Ge[Ue.TILDELOOSE]:Ge[Ue.TILDE];return t.replace(r,(n,i,o,s,d)=>{xe("tilde",t,n,i,o,s,d);let c;return Ze(i)?c="":Ze(o)?c=`>=${i}.0.0 <${+i+1}.0.0-0`:Ze(s)?c=`>=${i}.${o}.0 <${i}.${+o+1}.0-0`:d?(xe("replaceTilde pr",d),c=`>=${i}.${o}.${s}-${d} <${i}.${+o+1}.0-0`):c=`>=${i}.${o}.${s} <${i}.${+o+1}.0-0`,xe("tilde return",c),c})},Ey=(t,e)=>t.trim().split(/\s+/).map(r=>Py(r,e)).join(" "),Py=(t,e)=>{xe("caret",t,e);let r=e.loose?Ge[Ue.CARETLOOSE]:Ge[Ue.CARET],n=e.includePrerelease?"-0":"";return t.replace(r,(i,o,s,d,c)=>{xe("caret",t,i,o,s,d,c);let h;return Ze(o)?h="":Ze(s)?h=`>=${o}.0.0${n} <${+o+1}.0.0-0`:Ze(d)?o==="0"?h=`>=${o}.${s}.0${n} <${o}.${+s+1}.0-0`:h=`>=${o}.${s}.0${n} <${+o+1}.0.0-0`:c?(xe("replaceCaret pr",c),o==="0"?s==="0"?h=`>=${o}.${s}.${d}-${c} <${o}.${s}.${+d+1}-0`:h=`>=${o}.${s}.${d}-${c} <${o}.${+s+1}.0-0`:h=`>=${o}.${s}.${d}-${c} <${+o+1}.0.0-0`):(xe("no pr"),o==="0"?s==="0"?h=`>=${o}.${s}.${d}${n} <${o}.${s}.${+d+1}-0`:h=`>=${o}.${s}.${d}${n} <${o}.${+s+1}.0-0`:h=`>=${o}.${s}.${d} <${+o+1}.0.0-0`),xe("caret return",h),h})},Dy=(t,e)=>(xe("replaceXRanges",t,e),t.split(/\s+/).map(r=>qy(r,e)).join(" ")),qy=(t,e)=>{t=t.trim();let r=e.loose?Ge[Ue.XRANGELOOSE]:Ge[Ue.XRANGE];return t.replace(r,(n,i,o,s,d,c)=>{xe("xRange",t,n,i,o,s,d,c);let h=Ze(o),m=h||Ze(s),v=m||Ze(d),w=v;return i==="="&&w&&(i=""),c=e.includePrerelease?"-0":"",h?i===">"||i==="<"?n="<0.0.0-0":n="*":i&&w?(m&&(s=0),d=0,i===">"?(i=">=",m?(o=+o+1,s=0,d=0):(s=+s+1,d=0)):i==="<="&&(i="<",m?o=+o+1:s=+s+1),i==="<"&&(c="-0"),n=`${i+o}.${s}.${d}${c}`):m?n=`>=${o}.0.0${c} <${+o+1}.0.0-0`:v&&(n=`>=${o}.${s}.0${c} <${o}.${+s+1}.0-0`),xe("xRange return",n),n})},Oy=(t,e)=>(xe("replaceStars",t,e),t.trim().replace(Ge[Ue.STAR],"")),xy=(t,e)=>(xe("replaceGTE0",t,e),t.trim().replace(Ge[e.includePrerelease?Ue.GTE0PRE:Ue.GTE0],"")),ky=t=>(e,r,n,i,o,s,d,c,h,m,v,w,C)=>(Ze(n)?r="":Ze(i)?r=`>=${n}.0.0${t?"-0":""}`:Ze(o)?r=`>=${n}.${i}.0${t?"-0":""}`:s?r=`>=${r}`:r=`>=${r}${t?"-0":""}`,Ze(h)?c="":Ze(m)?c=`<${+h+1}.0.0-0`:Ze(v)?c=`<${h}.${+m+1}.0-0`:w?c=`<=${h}.${m}.${v}-${w}`:t?c=`<${h}.${m}.${+v+1}-0`:c=`<=${c}`,`${r} ${c}`.trim()),Ny=(t,e,r)=>{for(let n=0;n<t.length;n++)if(!t[n].test(e))return!1;if(e.prerelease.length&&!r.includePrerelease){for(let n=0;n<t.length;n++)if(xe(t[n].semver),t[n].semver!==us.ANY&&t[n].semver.prerelease.length>0){let i=t[n].semver;if(i.major===e.major&&i.minor===e.minor&&i.patch===e.patch)return!0}return!1}return!0}});var Un=E((jP,Gc)=>{var zn=Symbol("SemVer ANY"),Kn=class{static get ANY(){return zn}constructor(e,r){if(r=Iy(r),e instanceof Kn){if(e.loose===!!r.loose)return e;e=e.value}ls("comparator",e,r),this.options=r,this.loose=!!r.loose,this.parse(e),this.semver===zn?this.value="":this.value=this.operator+this.semver.version,ls("comp",this)}parse(e){let r=this.options.loose?Uc[zc.COMPARATORLOOSE]:Uc[zc.COMPARATOR],n=e.match(r);if(!n)throw new TypeError(`Invalid comparator: ${e}`);this.operator=n[1]!==void 0?n[1]:"",this.operator==="="&&(this.operator=""),n[2]?this.semver=new Kc(n[2],this.options.loose):this.semver=zn}toString(){return this.value}test(e){if(ls("Comparator.test",e,this.options.loose),this.semver===zn||e===zn)return!0;if(typeof e=="string")try{e=new Kc(e,this.options)}catch{return!1}return cs(e,this.operator,this.semver,this.options)}intersects(e,r){if(!(e instanceof Kn))throw new TypeError("a Comparator is required");if((!r||typeof r!="object")&&(r={loose:!!r,includePrerelease:!1}),this.operator==="")return this.value===""?!0:new Bc(e.value,r).test(this.value);if(e.operator==="")return e.value===""?!0:new Bc(this.value,r).test(e.semver);let n=(this.operator===">="||this.operator===">")&&(e.operator===">="||e.operator===">"),i=(this.operator==="<="||this.operator==="<")&&(e.operator==="<="||e.operator==="<"),o=this.semver.version===e.semver.version,s=(this.operator===">="||this.operator==="<=")&&(e.operator===">="||e.operator==="<="),d=cs(this.semver,"<",e.semver,r)&&(this.operator===">="||this.operator===">")&&(e.operator==="<="||e.operator==="<"),c=cs(this.semver,">",e.semver,r)&&(this.operator==="<="||this.operator==="<")&&(e.operator===">="||e.operator===">");return n||i||o&&s||d||c}};Gc.exports=Kn;var Iy=Mn(),{re:Uc,t:zc}=Fr(),cs=os(),ls=An(),Kc=Be(),Bc=_t()});var Bn=E(($P,Vc)=>{var Fy=_t(),Ly=(t,e,r)=>{try{e=new Fy(e,r)}catch{return!1}return e.test(t)};Vc.exports=Ly});var Jc=E((WP,Xc)=>{var Ay=_t(),My=(t,e)=>new Ay(t,e).set.map(r=>r.map(n=>n.value).join(" ").trim().split(" "));Xc.exports=My});var Qc=E((HP,Yc)=>{var jy=Be(),$y=_t(),Wy=(t,e,r)=>{let n=null,i=null,o=null;try{o=new $y(e,r)}catch{return null}return t.forEach(s=>{o.test(s)&&(!n||i.compare(s)===-1)&&(n=s,i=new jy(n,r))}),n};Yc.exports=Wy});var el=E((UP,Zc)=>{var Hy=Be(),Uy=_t(),zy=(t,e,r)=>{let n=null,i=null,o=null;try{o=new Uy(e,r)}catch{return null}return t.forEach(s=>{o.test(s)&&(!n||i.compare(s)===1)&&(n=s,i=new Hy(n,r))}),n};Zc.exports=zy});var nl=E((zP,rl)=>{var ds=Be(),Ky=_t(),tl=$n(),By=(t,e)=>{t=new Ky(t,e);let r=new ds("0.0.0");if(t.test(r)||(r=new ds("0.0.0-0"),t.test(r)))return r;r=null;for(let n=0;n<t.set.length;++n){let i=t.set[n],o=null;i.forEach(s=>{let d=new ds(s.semver.version);switch(s.operator){case">":d.prerelease.length===0?d.patch++:d.prerelease.push(0),d.raw=d.format();case"":case">=":(!o||tl(d,o))&&(o=d);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${s.operator}`)}}),o&&(!r||tl(r,o))&&(r=o)}return r&&t.test(r)?r:null};rl.exports=By});var ol=E((KP,il)=>{var Gy=_t(),Vy=(t,e)=>{try{return new Gy(t,e).range||"*"}catch{return null}};il.exports=Vy});var zi=E((BP,cl)=>{var Xy=Be(),sl=Un(),{ANY:Jy}=sl,Yy=_t(),Qy=Bn(),al=$n(),ul=Mi(),Zy=$i(),e_=ji(),t_=(t,e,r,n)=>{t=new Xy(t,n),e=new Yy(e,n);let i,o,s,d,c;switch(r){case">":i=al,o=Zy,s=ul,d=">",c=">=";break;case"<":i=ul,o=e_,s=al,d="<",c="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(Qy(t,e,n))return!1;for(let h=0;h<e.set.length;++h){let m=e.set[h],v=null,w=null;if(m.forEach(C=>{C.semver===Jy&&(C=new sl(">=0.0.0")),v=v||C,w=w||C,i(C.semver,v.semver,n)?v=C:s(C.semver,w.semver,n)&&(w=C)}),v.operator===d||v.operator===c||(!w.operator||w.operator===d)&&o(t,w.semver))return!1;if(w.operator===c&&s(t,w.semver))return!1}return!0};cl.exports=t_});var dl=E((GP,ll)=>{var r_=zi(),n_=(t,e,r)=>r_(t,e,">",r);ll.exports=n_});var hl=E((VP,fl)=>{var i_=zi(),o_=(t,e,r)=>i_(t,e,"<",r);fl.exports=o_});var ml=E((XP,gl)=>{var pl=_t(),s_=(t,e,r)=>(t=new pl(t,r),e=new pl(e,r),t.intersects(e));gl.exports=s_});var yl=E((JP,vl)=>{var a_=Bn(),u_=yt();vl.exports=(t,e,r)=>{let n=[],i=null,o=null,s=t.sort((m,v)=>u_(m,v,r));for(let m of s)a_(m,e,r)?(o=m,i||(i=m)):(o&&n.push([i,o]),o=null,i=null);i&&n.push([i,null]);let d=[];for(let[m,v]of n)m===v?d.push(m):!v&&m===s[0]?d.push("*"):v?m===s[0]?d.push(`<=${v}`):d.push(`${m} - ${v}`):d.push(`>=${m}`);let c=d.join(" || "),h=typeof e.raw=="string"?e.raw:String(e);return c.length<h.length?c:e}});var Cl=E((YP,bl)=>{var _l=_t(),Ki=Un(),{ANY:fs}=Ki,Gn=Bn(),hs=yt(),c_=(t,e,r={})=>{if(t===e)return!0;t=new _l(t,r),e=new _l(e,r);let n=!1;e:for(let i of t.set){for(let o of e.set){let s=l_(i,o,r);if(n=n||s!==null,s)continue e}if(n)return!1}return!0},l_=(t,e,r)=>{if(t===e)return!0;if(t.length===1&&t[0].semver===fs){if(e.length===1&&e[0].semver===fs)return!0;r.includePrerelease?t=[new Ki(">=0.0.0-0")]:t=[new Ki(">=0.0.0")]}if(e.length===1&&e[0].semver===fs){if(r.includePrerelease)return!0;e=[new Ki(">=0.0.0")]}let n=new Set,i,o;for(let C of t)C.operator===">"||C.operator===">="?i=Rl(i,C,r):C.operator==="<"||C.operator==="<="?o=wl(o,C,r):n.add(C.semver);if(n.size>1)return null;let s;if(i&&o){if(s=hs(i.semver,o.semver,r),s>0)return null;if(s===0&&(i.operator!==">="||o.operator!=="<="))return null}for(let C of n){if(i&&!Gn(C,String(i),r)||o&&!Gn(C,String(o),r))return null;for(let N of e)if(!Gn(C,String(N),r))return!1;return!0}let d,c,h,m,v=o&&!r.includePrerelease&&o.semver.prerelease.length?o.semver:!1,w=i&&!r.includePrerelease&&i.semver.prerelease.length?i.semver:!1;v&&v.prerelease.length===1&&o.operator==="<"&&v.prerelease[0]===0&&(v=!1);for(let C of e){if(m=m||C.operator===">"||C.operator===">=",h=h||C.operator==="<"||C.operator==="<=",i){if(w&&C.semver.prerelease&&C.semver.prerelease.length&&C.semver.major===w.major&&C.semver.minor===w.minor&&C.semver.patch===w.patch&&(w=!1),C.operator===">"||C.operator===">="){if(d=Rl(i,C,r),d===C&&d!==i)return!1}else if(i.operator===">="&&!Gn(i.semver,String(C),r))return!1}if(o){if(v&&C.semver.prerelease&&C.semver.prerelease.length&&C.semver.major===v.major&&C.semver.minor===v.minor&&C.semver.patch===v.patch&&(v=!1),C.operator==="<"||C.operator==="<="){if(c=wl(o,C,r),c===C&&c!==o)return!1}else if(o.operator==="<="&&!Gn(o.semver,String(C),r))return!1}if(!C.operator&&(o||i)&&s!==0)return!1}return!(i&&h&&!o&&s!==0||o&&m&&!i&&s!==0||w||v)},Rl=(t,e,r)=>{if(!t)return e;let n=hs(t.semver,e.semver,r);return n>0?t:n<0||e.operator===">"&&t.operator===">="?e:t},wl=(t,e,r)=>{if(!t)return e;let n=hs(t.semver,e.semver,r);return n<0?t:n>0||e.operator==="<"&&t.operator==="<="?e:t};bl.exports=c_});var Tl=E((QP,Sl)=>{var ps=Fr();Sl.exports={re:ps.re,src:ps.src,tokens:ps.t,SEMVER_SPEC_VERSION:Ln().SEMVER_SPEC_VERSION,SemVer:Be(),compareIdentifiers:Ni().compareIdentifiers,rcompareIdentifiers:Ni().rcompareIdentifiers,parse:Lr(),valid:Ku(),clean:Gu(),inc:Xu(),diff:tc(),major:nc(),minor:oc(),patch:ac(),prerelease:cc(),compare:yt(),rcompare:dc(),compareLoose:hc(),compareBuild:Ai(),sort:vc(),rsort:_c(),gt:$n(),lt:Mi(),eq:Li(),neq:is(),gte:ji(),lte:$i(),cmp:os(),coerce:Pc(),Comparator:Un(),Range:_t(),satisfies:Bn(),toComparators:Jc(),maxSatisfying:Qc(),minSatisfying:el(),minVersion:nl(),validRange:ol(),outside:zi(),gtr:dl(),ltr:hl(),intersects:ml(),simplifyRange:yl(),subset:Cl()}});var gr=E(Ee=>{"use strict";Object.defineProperty(Ee,"__esModule",{value:!0});Ee.asPromise=Ee.thenable=Ee.typedArray=Ee.stringArray=Ee.array=Ee.func=Ee.error=Ee.number=Ee.string=Ee.boolean=void 0;function d_(t){return t===!0||t===!1}Ee.boolean=d_;function El(t){return typeof t=="string"||t instanceof String}Ee.string=El;function f_(t){return typeof t=="number"||t instanceof Number}Ee.number=f_;function h_(t){return t instanceof Error}Ee.error=h_;function Pl(t){return typeof t=="function"}Ee.func=Pl;function Dl(t){return Array.isArray(t)}Ee.array=Dl;function p_(t){return Dl(t)&&t.every(e=>El(e))}Ee.stringArray=p_;function g_(t,e){return Array.isArray(t)&&t.every(e)}Ee.typedArray=g_;function ql(t){return t&&Pl(t.then)}Ee.thenable=ql;function m_(t){return t instanceof Promise?t:ql(t)?new Promise((e,r)=>{t.then(n=>e(n),n=>r(n))}):Promise.resolve(t)}Ee.asPromise=m_});var Qt=E(vs=>{"use strict";Object.defineProperty(vs,"__esModule",{value:!0});var gs;function ms(){if(gs===void 0)throw new Error("No runtime abstraction layer installed");return gs}(function(t){function e(r){if(r===void 0)throw new Error("No runtime abstraction layer provided");gs=r}t.install=e})(ms||(ms={}));vs.default=ms});var ys=E(Vn=>{"use strict";Object.defineProperty(Vn,"__esModule",{value:!0});Vn.Disposable=void 0;var v_;(function(t){function e(r){return{dispose:r}}t.create=e})(v_=Vn.Disposable||(Vn.Disposable={}))});var xl=E(Bi=>{"use strict";Object.defineProperty(Bi,"__esModule",{value:!0});Bi.AbstractMessageBuffer=void 0;var y_=13,__=10,R_=`\r
`,Ol=class{constructor(e="utf-8"){this._encoding=e,this._chunks=[],this._totalLength=0}get encoding(){return this._encoding}append(e){let r=typeof e=="string"?this.fromString(e,this._encoding):e;this._chunks.push(r),this._totalLength+=r.byteLength}tryReadHeaders(){if(this._chunks.length===0)return;let e=0,r=0,n=0,i=0;e:for(;r<this._chunks.length;){let c=this._chunks[r];n=0;t:for(;n<c.length;){switch(c[n]){case y_:switch(e){case 0:e=1;break;case 2:e=3;break;default:e=0}break;case __:switch(e){case 1:e=2;break;case 3:e=4,n++;break e;default:e=0}break;default:e=0}n++}i+=c.byteLength,r++}if(e!==4)return;let o=this._read(i+n),s=new Map,d=this.toString(o,"ascii").split(R_);if(d.length<2)return s;for(let c=0;c<d.length-2;c++){let h=d[c],m=h.indexOf(":");if(m===-1)throw new Error("Message header must separate key and value using :");let v=h.substr(0,m),w=h.substr(m+1).trim();s.set(v,w)}return s}tryReadBody(e){if(!(this._totalLength<e))return this._read(e)}get numberOfBytes(){return this._totalLength}_read(e){if(e===0)return this.emptyBuffer();if(e>this._totalLength)throw new Error("Cannot read so many bytes!");if(this._chunks[0].byteLength===e){let o=this._chunks[0];return this._chunks.shift(),this._totalLength-=e,this.asNative(o)}if(this._chunks[0].byteLength>e){let o=this._chunks[0],s=this.asNative(o,e);return this._chunks[0]=o.slice(e),this._totalLength-=e,s}let r=this.allocNative(e),n=0,i=0;for(;e>0;){let o=this._chunks[i];if(o.byteLength>e){let s=o.slice(0,e);r.set(s,n),n+=e,this._chunks[i]=o.slice(e),this._totalLength-=e,e-=e}else r.set(o,n),n+=o.byteLength,this._chunks.shift(),this._totalLength-=o.byteLength,e-=o.byteLength}return r}};Bi.AbstractMessageBuffer=Ol});var Ll=E(Rs=>{"use strict";Object.defineProperty(Rs,"__esModule",{value:!0});var w_=Qt(),kl=require("util"),$r=ys(),b_=xl(),Xn=class extends b_.AbstractMessageBuffer{constructor(e="utf-8"){super(e)}emptyBuffer(){return Xn.emptyBuffer}fromString(e,r){return Buffer.from(e,r)}toString(e,r){return e instanceof Buffer?e.toString(r):new kl.TextDecoder(r).decode(e)}asNative(e,r){return r===void 0?e instanceof Buffer?e:Buffer.from(e):e instanceof Buffer?e.slice(0,r):Buffer.from(e,0,r)}allocNative(e){return Buffer.allocUnsafe(e)}};Xn.emptyBuffer=Buffer.allocUnsafe(0);var Nl=class{constructor(e){this.stream=e}onClose(e){return this.stream.on("close",e),$r.Disposable.create(()=>this.stream.off("close",e))}onError(e){return this.stream.on("error",e),$r.Disposable.create(()=>this.stream.off("error",e))}onEnd(e){return this.stream.on("end",e),$r.Disposable.create(()=>this.stream.off("end",e))}onData(e){return this.stream.on("data",e),$r.Disposable.create(()=>this.stream.off("data",e))}},Il=class{constructor(e){this.stream=e}onClose(e){return this.stream.on("close",e),$r.Disposable.create(()=>this.stream.off("close",e))}onError(e){return this.stream.on("error",e),$r.Disposable.create(()=>this.stream.off("error",e))}onEnd(e){return this.stream.on("end",e),$r.Disposable.create(()=>this.stream.off("end",e))}write(e,r){return new Promise((n,i)=>{let o=s=>{s==null?n():i(s)};typeof e=="string"?this.stream.write(e,r,o):this.stream.write(e,o)})}end(){this.stream.end()}},Fl=Object.freeze({messageBuffer:Object.freeze({create:t=>new Xn(t)}),applicationJson:Object.freeze({encoder:Object.freeze({name:"application/json",encode:(t,e)=>{try{return Promise.resolve(Buffer.from(JSON.stringify(t,void 0,0),e.charset))}catch(r){return Promise.reject(r)}}}),decoder:Object.freeze({name:"application/json",decode:(t,e)=>{try{return t instanceof Buffer?Promise.resolve(JSON.parse(t.toString(e.charset))):Promise.resolve(JSON.parse(new kl.TextDecoder(e.charset).decode(t)))}catch(r){return Promise.reject(r)}}})}),stream:Object.freeze({asReadableStream:t=>new Nl(t),asWritableStream:t=>new Il(t)}),console,timer:Object.freeze({setTimeout(t,e,...r){return setTimeout(t,e,...r)},clearTimeout(t){clearTimeout(t)},setImmediate(t,...e){return setImmediate(t,...e)},clearImmediate(t){clearImmediate(t)}})});function _s(){return Fl}(function(t){function e(){w_.default.install(Fl)}t.install=e})(_s||(_s={}));Rs.default=_s});var cn=E(Ve=>{"use strict";Object.defineProperty(Ve,"__esModule",{value:!0});Ve.stringArray=Ve.array=Ve.func=Ve.error=Ve.number=Ve.string=Ve.boolean=void 0;function C_(t){return t===!0||t===!1}Ve.boolean=C_;function Al(t){return typeof t=="string"||t instanceof String}Ve.string=Al;function S_(t){return typeof t=="number"||t instanceof Number}Ve.number=S_;function T_(t){return t instanceof Error}Ve.error=T_;function E_(t){return typeof t=="function"}Ve.func=E_;function Ml(t){return Array.isArray(t)}Ve.array=Ml;function P_(t){return Ml(t)&&t.every(e=>Al(e))}Ve.stringArray=P_});var ws=E($=>{"use strict";Object.defineProperty($,"__esModule",{value:!0});$.isResponseMessage=$.isNotificationMessage=$.isRequestMessage=$.NotificationType9=$.NotificationType8=$.NotificationType7=$.NotificationType6=$.NotificationType5=$.NotificationType4=$.NotificationType3=$.NotificationType2=$.NotificationType1=$.NotificationType0=$.NotificationType=$.RequestType9=$.RequestType8=$.RequestType7=$.RequestType6=$.RequestType5=$.RequestType4=$.RequestType3=$.RequestType2=$.RequestType1=$.RequestType=$.RequestType0=$.AbstractMessageSignature=$.ParameterStructures=$.ResponseError=$.ErrorCodes=void 0;var Wr=cn(),jl;(function(t){t.ParseError=-32700,t.InvalidRequest=-32600,t.MethodNotFound=-32601,t.InvalidParams=-32602,t.InternalError=-32603,t.jsonrpcReservedErrorRangeStart=-32099,t.serverErrorStart=t.jsonrpcReservedErrorRangeStart,t.MessageWriteError=-32099,t.MessageReadError=-32098,t.ServerNotInitialized=-32002,t.UnknownErrorCode=-32001,t.jsonrpcReservedErrorRangeEnd=-32e3,t.serverErrorEnd=t.jsonrpcReservedErrorRangeEnd})(jl=$.ErrorCodes||($.ErrorCodes={}));var Gi=class extends Error{constructor(e,r,n){super(r);this.code=Wr.number(e)?e:jl.UnknownErrorCode,this.data=n,Object.setPrototypeOf(this,Gi.prototype)}toJson(){return{code:this.code,message:this.message,data:this.data}}};$.ResponseError=Gi;var ze=class{constructor(e){this.kind=e}static is(e){return e===ze.auto||e===ze.byName||e===ze.byPosition}toString(){return this.kind}};$.ParameterStructures=ze;ze.auto=new ze("auto");ze.byPosition=new ze("byPosition");ze.byName=new ze("byName");var Re=class{constructor(e,r){this.method=e,this.numberOfParams=r}get parameterStructures(){return ze.auto}};$.AbstractMessageSignature=Re;var $l=class extends Re{constructor(e){super(e,0)}};$.RequestType0=$l;var Wl=class extends Re{constructor(e,r=ze.auto){super(e,1);this._parameterStructures=r}get parameterStructures(){return this._parameterStructures}};$.RequestType=Wl;var Hl=class extends Re{constructor(e,r=ze.auto){super(e,1);this._parameterStructures=r}get parameterStructures(){return this._parameterStructures}};$.RequestType1=Hl;var Ul=class extends Re{constructor(e){super(e,2)}};$.RequestType2=Ul;var zl=class extends Re{constructor(e){super(e,3)}};$.RequestType3=zl;var Kl=class extends Re{constructor(e){super(e,4)}};$.RequestType4=Kl;var Bl=class extends Re{constructor(e){super(e,5)}};$.RequestType5=Bl;var Gl=class extends Re{constructor(e){super(e,6)}};$.RequestType6=Gl;var Vl=class extends Re{constructor(e){super(e,7)}};$.RequestType7=Vl;var Xl=class extends Re{constructor(e){super(e,8)}};$.RequestType8=Xl;var Jl=class extends Re{constructor(e){super(e,9)}};$.RequestType9=Jl;var Yl=class extends Re{constructor(e,r=ze.auto){super(e,1);this._parameterStructures=r}get parameterStructures(){return this._parameterStructures}};$.NotificationType=Yl;var Ql=class extends Re{constructor(e){super(e,0)}};$.NotificationType0=Ql;var Zl=class extends Re{constructor(e,r=ze.auto){super(e,1);this._parameterStructures=r}get parameterStructures(){return this._parameterStructures}};$.NotificationType1=Zl;var ed=class extends Re{constructor(e){super(e,2)}};$.NotificationType2=ed;var td=class extends Re{constructor(e){super(e,3)}};$.NotificationType3=td;var rd=class extends Re{constructor(e){super(e,4)}};$.NotificationType4=rd;var nd=class extends Re{constructor(e){super(e,5)}};$.NotificationType5=nd;var id=class extends Re{constructor(e){super(e,6)}};$.NotificationType6=id;var od=class extends Re{constructor(e){super(e,7)}};$.NotificationType7=od;var sd=class extends Re{constructor(e){super(e,8)}};$.NotificationType8=sd;var ad=class extends Re{constructor(e){super(e,9)}};$.NotificationType9=ad;function D_(t){let e=t;return e&&Wr.string(e.method)&&(Wr.string(e.id)||Wr.number(e.id))}$.isRequestMessage=D_;function q_(t){let e=t;return e&&Wr.string(e.method)&&t.id===void 0}$.isNotificationMessage=q_;function O_(t){let e=t;return e&&(e.result!==void 0||!!e.error)&&(Wr.string(e.id)||Wr.number(e.id)||e.id===null)}$.isResponseMessage=O_});var ln=E(Hr=>{"use strict";Object.defineProperty(Hr,"__esModule",{value:!0});Hr.Emitter=Hr.Event=void 0;var x_=Qt(),k_;(function(t){let e={dispose(){}};t.None=function(){return e}})(k_=Hr.Event||(Hr.Event={}));var ud=class{add(e,r=null,n){this._callbacks||(this._callbacks=[],this._contexts=[]),this._callbacks.push(e),this._contexts.push(r),Array.isArray(n)&&n.push({dispose:()=>this.remove(e,r)})}remove(e,r=null){if(!this._callbacks)return;let n=!1;for(let i=0,o=this._callbacks.length;i<o;i++)if(this._callbacks[i]===e)if(this._contexts[i]===r){this._callbacks.splice(i,1),this._contexts.splice(i,1);return}else n=!0;if(n)throw new Error("When adding a listener with a context, you should remove it with the same context")}invoke(...e){if(!this._callbacks)return[];let r=[],n=this._callbacks.slice(0),i=this._contexts.slice(0);for(let o=0,s=n.length;o<s;o++)try{r.push(n[o].apply(i[o],e))}catch(d){x_.default().console.error(d)}return r}isEmpty(){return!this._callbacks||this._callbacks.length===0}dispose(){this._callbacks=void 0,this._contexts=void 0}},Jn=class{constructor(e){this._options=e}get event(){return this._event||(this._event=(e,r,n)=>{this._callbacks||(this._callbacks=new ud),this._options&&this._options.onFirstListenerAdd&&this._callbacks.isEmpty()&&this._options.onFirstListenerAdd(this),this._callbacks.add(e,r);let i={dispose:()=>{!this._callbacks||(this._callbacks.remove(e,r),i.dispose=Jn._noop,this._options&&this._options.onLastListenerRemove&&this._callbacks.isEmpty()&&this._options.onLastListenerRemove(this))}};return Array.isArray(n)&&n.push(i),i}),this._event}fire(e){this._callbacks&&this._callbacks.invoke.call(this._callbacks,e)}dispose(){this._callbacks&&(this._callbacks.dispose(),this._callbacks=void 0)}};Hr.Emitter=Jn;Jn._noop=function(){}});var Ts=E(Ur=>{"use strict";Object.defineProperty(Ur,"__esModule",{value:!0});Ur.CancellationTokenSource=Ur.CancellationToken=void 0;var cd=Qt(),N_=cn(),bs=ln(),Cs;(function(t){t.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:bs.Event.None}),t.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:bs.Event.None});function e(r){let n=r;return n&&(n===t.None||n===t.Cancelled||N_.boolean(n.isCancellationRequested)&&!!n.onCancellationRequested)}t.is=e})(Cs=Ur.CancellationToken||(Ur.CancellationToken={}));var I_=Object.freeze(function(t,e){let r=cd.default().timer.setTimeout(t.bind(e),0);return{dispose(){cd.default().timer.clearTimeout(r)}}}),Ss=class{constructor(){this._isCancelled=!1}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?I_:(this._emitter||(this._emitter=new bs.Emitter),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=void 0)}},ld=class{get token(){return this._token||(this._token=new Ss),this._token}cancel(){this._token?this._token.cancel():this._token=Cs.Cancelled}dispose(){this._token?this._token instanceof Ss&&this._token.dispose():this._token=Cs.None}};Ur.CancellationTokenSource=ld});var fd=E(Zt=>{"use strict";Object.defineProperty(Zt,"__esModule",{value:!0});Zt.ReadableStreamMessageReader=Zt.AbstractMessageReader=Zt.MessageReader=void 0;var Vi=Qt(),dn=cn(),Es=ln(),F_;(function(t){function e(r){let n=r;return n&&dn.func(n.listen)&&dn.func(n.dispose)&&dn.func(n.onError)&&dn.func(n.onClose)&&dn.func(n.onPartialMessage)}t.is=e})(F_=Zt.MessageReader||(Zt.MessageReader={}));var Ps=class{constructor(){this.errorEmitter=new Es.Emitter,this.closeEmitter=new Es.Emitter,this.partialMessageEmitter=new Es.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(e){this.errorEmitter.fire(this.asError(e))}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}get onPartialMessage(){return this.partialMessageEmitter.event}firePartialMessage(e){this.partialMessageEmitter.fire(e)}asError(e){return e instanceof Error?e:new Error(`Reader received error. Reason: ${dn.string(e.message)?e.message:"unknown"}`)}};Zt.AbstractMessageReader=Ps;var Ds;(function(t){function e(r){var n;let i,o,s,d=new Map,c,h=new Map;if(r===void 0||typeof r=="string")i=r??"utf-8";else{if(i=(n=r.charset)!==null&&n!==void 0?n:"utf-8",r.contentDecoder!==void 0&&(s=r.contentDecoder,d.set(s.name,s)),r.contentDecoders!==void 0)for(let m of r.contentDecoders)d.set(m.name,m);if(r.contentTypeDecoder!==void 0&&(c=r.contentTypeDecoder,h.set(c.name,c)),r.contentTypeDecoders!==void 0)for(let m of r.contentTypeDecoders)h.set(m.name,m)}return c===void 0&&(c=Vi.default().applicationJson.decoder,h.set(c.name,c)),{charset:i,contentDecoder:s,contentDecoders:d,contentTypeDecoder:c,contentTypeDecoders:h}}t.fromOptions=e})(Ds||(Ds={}));var dd=class extends Ps{constructor(e,r){super();this.readable=e,this.options=Ds.fromOptions(r),this.buffer=Vi.default().messageBuffer.create(this.options.charset),this._partialMessageTimeout=1e4,this.nextMessageLength=-1,this.messageToken=0}set partialMessageTimeout(e){this._partialMessageTimeout=e}get partialMessageTimeout(){return this._partialMessageTimeout}listen(e){this.nextMessageLength=-1,this.messageToken=0,this.partialMessageTimer=void 0,this.callback=e;let r=this.readable.onData(n=>{this.onData(n)});return this.readable.onError(n=>this.fireError(n)),this.readable.onClose(()=>this.fireClose()),r}onData(e){for(this.buffer.append(e);;){if(this.nextMessageLength===-1){let i=this.buffer.tryReadHeaders();if(!i)return;let o=i.get("Content-Length");if(!o)throw new Error("Header must provide a Content-Length property.");let s=parseInt(o);if(isNaN(s))throw new Error("Content-Length value must be a number.");this.nextMessageLength=s}let r=this.buffer.tryReadBody(this.nextMessageLength);if(r===void 0){this.setPartialMessageTimer();return}this.clearPartialMessageTimer(),this.nextMessageLength=-1;let n;this.options.contentDecoder!==void 0?n=this.options.contentDecoder.decode(r):n=Promise.resolve(r),n.then(i=>{this.options.contentTypeDecoder.decode(i,this.options).then(o=>{this.callback(o)},o=>{this.fireError(o)})},i=>{this.fireError(i)})}}clearPartialMessageTimer(){this.partialMessageTimer&&(Vi.default().timer.clearTimeout(this.partialMessageTimer),this.partialMessageTimer=void 0)}setPartialMessageTimer(){this.clearPartialMessageTimer(),!(this._partialMessageTimeout<=0)&&(this.partialMessageTimer=Vi.default().timer.setTimeout((e,r)=>{this.partialMessageTimer=void 0,e===this.messageToken&&(this.firePartialMessage({messageToken:e,waitingTime:r}),this.setPartialMessageTimer())},this._partialMessageTimeout,this.messageToken,this._partialMessageTimeout))}};Zt.ReadableStreamMessageReader=dd});var pd=E(Xi=>{"use strict";Object.defineProperty(Xi,"__esModule",{value:!0});Xi.Semaphore=void 0;var L_=Qt(),hd=class{constructor(e=1){if(e<=0)throw new Error("Capacity must be greater than 0");this._capacity=e,this._active=0,this._waiting=[]}lock(e){return new Promise((r,n)=>{this._waiting.push({thunk:e,resolve:r,reject:n}),this.runNext()})}get active(){return this._active}runNext(){this._waiting.length===0||this._active===this._capacity||L_.default().timer.setImmediate(()=>this.doRunNext())}doRunNext(){if(this._waiting.length===0||this._active===this._capacity)return;let e=this._waiting.shift();if(this._active++,this._active>this._capacity)throw new Error("To many thunks active");try{let r=e.thunk();r instanceof Promise?r.then(n=>{this._active--,e.resolve(n),this.runNext()},n=>{this._active--,e.reject(n),this.runNext()}):(this._active--,e.resolve(r),this.runNext())}catch(r){this._active--,e.reject(r),this.runNext()}}};Xi.Semaphore=hd});var _d=E(er=>{"use strict";Object.defineProperty(er,"__esModule",{value:!0});er.WriteableStreamMessageWriter=er.AbstractMessageWriter=er.MessageWriter=void 0;var gd=Qt(),Yn=cn(),A_=pd(),md=ln(),M_="Content-Length: ",vd=`\r
`,j_;(function(t){function e(r){let n=r;return n&&Yn.func(n.dispose)&&Yn.func(n.onClose)&&Yn.func(n.onError)&&Yn.func(n.write)}t.is=e})(j_=er.MessageWriter||(er.MessageWriter={}));var qs=class{constructor(){this.errorEmitter=new md.Emitter,this.closeEmitter=new md.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(e,r,n){this.errorEmitter.fire([this.asError(e),r,n])}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}asError(e){return e instanceof Error?e:new Error(`Writer received error. Reason: ${Yn.string(e.message)?e.message:"unknown"}`)}};er.AbstractMessageWriter=qs;var Os;(function(t){function e(r){var n,i;return r===void 0||typeof r=="string"?{charset:r??"utf-8",contentTypeEncoder:gd.default().applicationJson.encoder}:{charset:(n=r.charset)!==null&&n!==void 0?n:"utf-8",contentEncoder:r.contentEncoder,contentTypeEncoder:(i=r.contentTypeEncoder)!==null&&i!==void 0?i:gd.default().applicationJson.encoder}}t.fromOptions=e})(Os||(Os={}));var yd=class extends qs{constructor(e,r){super();this.writable=e,this.options=Os.fromOptions(r),this.errorCount=0,this.writeSemaphore=new A_.Semaphore(1),this.writable.onError(n=>this.fireError(n)),this.writable.onClose(()=>this.fireClose())}async write(e){return this.writeSemaphore.lock(async()=>this.options.contentTypeEncoder.encode(e,this.options).then(n=>this.options.contentEncoder!==void 0?this.options.contentEncoder.encode(n):n).then(n=>{let i=[];return i.push(M_,n.byteLength.toString(),vd),i.push(vd),this.doWrite(e,i,n)},n=>{throw this.fireError(n),n}))}async doWrite(e,r,n){try{return await this.writable.write(r.join(""),"ascii"),this.writable.write(n)}catch(i){return this.handleError(i,e),Promise.reject(i)}}handleError(e,r){this.errorCount++,this.fireError(e,r,this.errorCount)}end(){this.writable.end()}};er.WriteableStreamMessageWriter=yd});var wd=E(tr=>{"use strict";Object.defineProperty(tr,"__esModule",{value:!0});tr.LRUCache=tr.LinkedMap=tr.Touch=void 0;var et;(function(t){t.None=0,t.First=1,t.AsOld=t.First,t.Last=2,t.AsNew=t.Last})(et=tr.Touch||(tr.Touch={}));var xs=class{constructor(){this[Symbol.toStringTag]="LinkedMap",this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0,this._state=0}clear(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0,this._state++}isEmpty(){return!this._head&&!this._tail}get size(){return this._size}get first(){var e;return(e=this._head)===null||e===void 0?void 0:e.value}get last(){var e;return(e=this._tail)===null||e===void 0?void 0:e.value}has(e){return this._map.has(e)}get(e,r=et.None){let n=this._map.get(e);if(!!n)return r!==et.None&&this.touch(n,r),n.value}set(e,r,n=et.None){let i=this._map.get(e);if(i)i.value=r,n!==et.None&&this.touch(i,n);else{switch(i={key:e,value:r,next:void 0,previous:void 0},n){case et.None:this.addItemLast(i);break;case et.First:this.addItemFirst(i);break;case et.Last:this.addItemLast(i);break;default:this.addItemLast(i);break}this._map.set(e,i),this._size++}return this}delete(e){return!!this.remove(e)}remove(e){let r=this._map.get(e);if(!!r)return this._map.delete(e),this.removeItem(r),this._size--,r.value}shift(){if(!this._head&&!this._tail)return;if(!this._head||!this._tail)throw new Error("Invalid list");let e=this._head;return this._map.delete(e.key),this.removeItem(e),this._size--,e.value}forEach(e,r){let n=this._state,i=this._head;for(;i;){if(r?e.bind(r)(i.value,i.key,this):e(i.value,i.key,this),this._state!==n)throw new Error("LinkedMap got modified during iteration.");i=i.next}}keys(){let e=this,r=this._state,n=this._head,i={[Symbol.iterator](){return i},next(){if(e._state!==r)throw new Error("LinkedMap got modified during iteration.");if(n){let o={value:n.key,done:!1};return n=n.next,o}else return{value:void 0,done:!0}}};return i}values(){let e=this,r=this._state,n=this._head,i={[Symbol.iterator](){return i},next(){if(e._state!==r)throw new Error("LinkedMap got modified during iteration.");if(n){let o={value:n.value,done:!1};return n=n.next,o}else return{value:void 0,done:!0}}};return i}entries(){let e=this,r=this._state,n=this._head,i={[Symbol.iterator](){return i},next(){if(e._state!==r)throw new Error("LinkedMap got modified during iteration.");if(n){let o={value:[n.key,n.value],done:!1};return n=n.next,o}else return{value:void 0,done:!0}}};return i}[Symbol.iterator](){return this.entries()}trimOld(e){if(e>=this.size)return;if(e===0){this.clear();return}let r=this._head,n=this.size;for(;r&&n>e;)this._map.delete(r.key),r=r.next,n--;this._head=r,this._size=n,r&&(r.previous=void 0),this._state++}addItemFirst(e){if(!this._head&&!this._tail)this._tail=e;else if(this._head)e.next=this._head,this._head.previous=e;else throw new Error("Invalid list");this._head=e,this._state++}addItemLast(e){if(!this._head&&!this._tail)this._head=e;else if(this._tail)e.previous=this._tail,this._tail.next=e;else throw new Error("Invalid list");this._tail=e,this._state++}removeItem(e){if(e===this._head&&e===this._tail)this._head=void 0,this._tail=void 0;else if(e===this._head){if(!e.next)throw new Error("Invalid list");e.next.previous=void 0,this._head=e.next}else if(e===this._tail){if(!e.previous)throw new Error("Invalid list");e.previous.next=void 0,this._tail=e.previous}else{let r=e.next,n=e.previous;if(!r||!n)throw new Error("Invalid list");r.previous=n,n.next=r}e.next=void 0,e.previous=void 0,this._state++}touch(e,r){if(!this._head||!this._tail)throw new Error("Invalid list");if(!(r!==et.First&&r!==et.Last)){if(r===et.First){if(e===this._head)return;let n=e.next,i=e.previous;e===this._tail?(i.next=void 0,this._tail=i):(n.previous=i,i.next=n),e.previous=void 0,e.next=this._head,this._head.previous=e,this._head=e,this._state++}else if(r===et.Last){if(e===this._tail)return;let n=e.next,i=e.previous;e===this._head?(n.previous=void 0,this._head=n):(n.previous=i,i.next=n),e.next=void 0,e.previous=this._tail,this._tail.next=e,this._tail=e,this._state++}}}toJSON(){let e=[];return this.forEach((r,n)=>{e.push([n,r])}),e}fromJSON(e){this.clear();for(let[r,n]of e)this.set(r,n)}};tr.LinkedMap=xs;var Rd=class extends xs{constructor(e,r=1){super();this._limit=e,this._ratio=Math.min(Math.max(0,r),1)}get limit(){return this._limit}set limit(e){this._limit=e,this.checkTrim()}get ratio(){return this._ratio}set ratio(e){this._ratio=Math.min(Math.max(0,e),1),this.checkTrim()}get(e,r=et.AsNew){return super.get(e,r)}peek(e){return super.get(e,et.None)}set(e,r){return super.set(e,r,et.Last),this.checkTrim(),this}checkTrim(){this.size>this._limit&&this.trimOld(Math.round(this._limit*this._ratio))}};tr.LRUCache=Rd});var Pd=E(G=>{"use strict";Object.defineProperty(G,"__esModule",{value:!0});G.createMessageConnection=G.ConnectionOptions=G.CancellationStrategy=G.CancellationSenderStrategy=G.CancellationReceiverStrategy=G.ConnectionStrategy=G.ConnectionError=G.ConnectionErrors=G.LogTraceNotification=G.SetTraceNotification=G.TraceFormat=G.Trace=G.NullLogger=G.ProgressType=void 0;var bd=Qt(),je=cn(),B=ws(),Cd=wd(),Qn=ln(),ks=Ts(),Zn;(function(t){t.type=new B.NotificationType("$/cancelRequest")})(Zn||(Zn={}));var Ji;(function(t){t.type=new B.NotificationType("$/progress")})(Ji||(Ji={}));var Sd=class{constructor(){}};G.ProgressType=Sd;var Ns;(function(t){function e(r){return je.func(r)}t.is=e})(Ns||(Ns={}));G.NullLogger=Object.freeze({error:()=>{},warn:()=>{},info:()=>{},log:()=>{}});var Ne;(function(t){t[t.Off=0]="Off",t[t.Messages=1]="Messages",t[t.Verbose=2]="Verbose"})(Ne=G.Trace||(G.Trace={}));(function(t){function e(n){if(!je.string(n))return t.Off;switch(n=n.toLowerCase(),n){case"off":return t.Off;case"messages":return t.Messages;case"verbose":return t.Verbose;default:return t.Off}}t.fromString=e;function r(n){switch(n){case t.Off:return"off";case t.Messages:return"messages";case t.Verbose:return"verbose";default:return"off"}}t.toString=r})(Ne=G.Trace||(G.Trace={}));var qt;(function(t){t.Text="text",t.JSON="json"})(qt=G.TraceFormat||(G.TraceFormat={}));(function(t){function e(r){return r=r.toLowerCase(),r==="json"?t.JSON:t.Text}t.fromString=e})(qt=G.TraceFormat||(G.TraceFormat={}));var Td;(function(t){t.type=new B.NotificationType("$/setTrace")})(Td=G.SetTraceNotification||(G.SetTraceNotification={}));var Is;(function(t){t.type=new B.NotificationType("$/logTrace")})(Is=G.LogTraceNotification||(G.LogTraceNotification={}));var Yi;(function(t){t[t.Closed=1]="Closed",t[t.Disposed=2]="Disposed",t[t.AlreadyListening=3]="AlreadyListening"})(Yi=G.ConnectionErrors||(G.ConnectionErrors={}));var zr=class extends Error{constructor(e,r){super(r);this.code=e,Object.setPrototypeOf(this,zr.prototype)}};G.ConnectionError=zr;var Ed;(function(t){function e(r){let n=r;return n&&je.func(n.cancelUndispatched)}t.is=e})(Ed=G.ConnectionStrategy||(G.ConnectionStrategy={}));var Fs;(function(t){t.Message=Object.freeze({createCancellationTokenSource(r){return new ks.CancellationTokenSource}});function e(r){let n=r;return n&&je.func(n.createCancellationTokenSource)}t.is=e})(Fs=G.CancellationReceiverStrategy||(G.CancellationReceiverStrategy={}));var Ls;(function(t){t.Message=Object.freeze({sendCancellation(r,n){r.sendNotification(Zn.type,{id:n})},cleanup(r){}});function e(r){let n=r;return n&&je.func(n.sendCancellation)&&je.func(n.cleanup)}t.is=e})(Ls=G.CancellationSenderStrategy||(G.CancellationSenderStrategy={}));var As;(function(t){t.Message=Object.freeze({receiver:Fs.Message,sender:Ls.Message});function e(r){let n=r;return n&&Fs.is(n.receiver)&&Ls.is(n.sender)}t.is=e})(As=G.CancellationStrategy||(G.CancellationStrategy={}));var $_;(function(t){function e(r){let n=r;return n&&(As.is(n.cancellationStrategy)||Ed.is(n.connectionStrategy))}t.is=e})($_=G.ConnectionOptions||(G.ConnectionOptions={}));var Ot;(function(t){t[t.New=1]="New",t[t.Listening=2]="Listening",t[t.Closed=3]="Closed",t[t.Disposed=4]="Disposed"})(Ot||(Ot={}));function W_(t,e,r,n){let i=r!==void 0?r:G.NullLogger,o=0,s=0,d=0,c="2.0",h,m=Object.create(null),v,w=Object.create(null),C=new Map,N,I=new Cd.LinkedMap,L=Object.create(null),O=Object.create(null),x=Ne.Off,P=qt.Text,q,U=Ot.New,he=new Qn.Emitter,be=new Qn.Emitter,ye=new Qn.Emitter,ce=new Qn.Emitter,oe=new Qn.Emitter,ae=n&&n.cancellationStrategy?n.cancellationStrategy:As.Message;function Te(b){if(b===null)throw new Error("Can't send requests with id null since the response can't be correlated.");return"req-"+b.toString()}function Ye(b){return b===null?"res-unknown-"+(++d).toString():"res-"+b.toString()}function nt(){return"not-"+(++s).toString()}function Qe(b,g){B.isRequestMessage(g)?b.set(Te(g.id),g):B.isResponseMessage(g)?b.set(Ye(g.id),g):b.set(nt(),g)}function lt(b){}function me(){return U===Ot.Listening}function Et(){return U===Ot.Closed}function Ae(){return U===Ot.Disposed}function at(){(U===Ot.New||U===Ot.Listening)&&(U=Ot.Closed,be.fire(void 0))}function dt(b){he.fire([b,void 0,void 0])}function Pt(b){he.fire(b)}t.onClose(at),t.onError(dt),e.onClose(at),e.onError(Pt);function ar(){N||I.size===0||(N=bd.default().timer.setImmediate(()=>{N=void 0,ur()}))}function ur(){if(I.size===0)return;let b=I.shift();try{B.isRequestMessage(b)?Bt(b):B.isNotificationMessage(b)?At(b):B.isResponseMessage(b)?Lt(b):Gt(b)}finally{ar()}}let Kt=b=>{try{if(B.isNotificationMessage(b)&&b.method===Zn.type.method){let g=Te(b.params.id),f=I.get(g);if(B.isRequestMessage(f)){let y=n==null?void 0:n.connectionStrategy,S=y&&y.cancelUndispatched?y.cancelUndispatched(f,lt):lt(f);if(S&&(S.error!==void 0||S.result!==void 0)){I.delete(g),S.id=f.id,ft(S,b.method,Date.now()),e.write(S);return}}}Qe(I,b)}finally{ar()}};function Bt(b){if(Ae())return;function g(T,F,H){let V={jsonrpc:c,id:b.id};T instanceof B.ResponseError?V.error=T.toJson():V.result=T===void 0?null:T,ft(V,F,H),e.write(V)}function f(T,F,H){let V={jsonrpc:c,id:b.id,error:T.toJson()};ft(V,F,H),e.write(V)}function y(T,F,H){T===void 0&&(T=null);let V={jsonrpc:c,id:b.id,result:T};ft(V,F,H),e.write(V)}lr(b);let S=m[b.method],a,u;S&&(a=S.type,u=S.handler);let R=Date.now();if(u||h){let T=String(b.id),F=ae.receiver.createCancellationTokenSource(T);O[T]=F;try{let H;if(u)if(b.params===void 0){if(a!==void 0&&a.numberOfParams!==0){f(new B.ResponseError(B.ErrorCodes.InvalidParams,`Request ${b.method} defines ${a.numberOfParams} params but recevied none.`),b.method,R);return}H=u(F.token)}else if(Array.isArray(b.params)){if(a!==void 0&&a.parameterStructures===B.ParameterStructures.byName){f(new B.ResponseError(B.ErrorCodes.InvalidParams,`Request ${b.method} defines parameters by name but received parameters by position`),b.method,R);return}H=u(...b.params,F.token)}else{if(a!==void 0&&a.parameterStructures===B.ParameterStructures.byPosition){f(new B.ResponseError(B.ErrorCodes.InvalidParams,`Request ${b.method} defines parameters by position but received parameters by name`),b.method,R);return}H=u(b.params,F.token)}else h&&(H=h(b.method,b.params,F.token));let V=H;H?V.then?V.then(le=>{delete O[T],g(le,b.method,R)},le=>{delete O[T],le instanceof B.ResponseError?f(le,b.method,R):le&&je.string(le.message)?f(new B.ResponseError(B.ErrorCodes.InternalError,`Request ${b.method} failed with message: ${le.message}`),b.method,R):f(new B.ResponseError(B.ErrorCodes.InternalError,`Request ${b.method} failed unexpectedly without providing any details.`),b.method,R)}):(delete O[T],g(H,b.method,R)):(delete O[T],y(H,b.method,R))}catch(H){delete O[T],H instanceof B.ResponseError?g(H,b.method,R):H&&je.string(H.message)?f(new B.ResponseError(B.ErrorCodes.InternalError,`Request ${b.method} failed with message: ${H.message}`),b.method,R):f(new B.ResponseError(B.ErrorCodes.InternalError,`Request ${b.method} failed unexpectedly without providing any details.`),b.method,R)}}else f(new B.ResponseError(B.ErrorCodes.MethodNotFound,`Unhandled method ${b.method}`),b.method,R)}function Lt(b){if(!Ae())if(b.id===null)b.error?i.error(`Received response message without id: Error is: 
${JSON.stringify(b.error,void 0,4)}`):i.error("Received response message without id. No further error information provided.");else{let g=String(b.id),f=L[g];if(Or(b,f),f){delete L[g];try{if(b.error){let y=b.error;f.reject(new B.ResponseError(y.code,y.message,y.data))}else if(b.result!==void 0)f.resolve(b.result);else throw new Error("Should never happen.")}catch(y){y.message?i.error(`Response handler '${f.method}' failed with message: ${y.message}`):i.error(`Response handler '${f.method}' failed unexpectedly.`)}}}}function At(b){if(Ae())return;let g,f;if(b.method===Zn.type.method)f=y=>{let S=y.id,a=O[String(S)];a&&a.cancel()};else{let y=w[b.method];y&&(f=y.handler,g=y.type)}if(f||v)try{ht(b),f?b.params===void 0?(g!==void 0&&g.numberOfParams!==0&&g.parameterStructures!==B.ParameterStructures.byName&&i.error(`Notification ${b.method} defines ${g.numberOfParams} params but recevied none.`),f()):Array.isArray(b.params)?(g!==void 0&&(g.parameterStructures===B.ParameterStructures.byName&&i.error(`Notification ${b.method} defines parameters by name but received parameters by position`),g.numberOfParams!==b.params.length&&i.error(`Notification ${b.method} defines ${g.numberOfParams} params but received ${b.params.length} argumennts`)),f(...b.params)):(g!==void 0&&g.parameterStructures===B.ParameterStructures.byPosition&&i.error(`Notification ${b.method} defines parameters by position but received parameters by name`),f(b.params)):v&&v(b.method,b.params)}catch(y){y.message?i.error(`Notification handler '${b.method}' failed with message: ${y.message}`):i.error(`Notification handler '${b.method}' failed unexpectedly.`)}else ye.fire(b)}function Gt(b){if(!b){i.error("Received empty message.");return}i.error(`Received message which is neither a response nor a notification message:
${JSON.stringify(b,null,4)}`);let g=b;if(je.string(g.id)||je.number(g.id)){let f=String(g.id),y=L[f];y&&y.reject(new Error("The received response has neither a result nor an error property."))}}function cr(b){if(!(x===Ne.Off||!q))if(P===qt.Text){let g;x===Ne.Verbose&&b.params&&(g=`Params: ${JSON.stringify(b.params,null,4)}

`),q.log(`Sending request '${b.method} - (${b.id})'.`,g)}else De("send-request",b)}function qr(b){if(!(x===Ne.Off||!q))if(P===qt.Text){let g;x===Ne.Verbose&&(b.params?g=`Params: ${JSON.stringify(b.params,null,4)}

`:g=`No parameters provided.

`),q.log(`Sending notification '${b.method}'.`,g)}else De("send-notification",b)}function ft(b,g,f){if(!(x===Ne.Off||!q))if(P===qt.Text){let y;x===Ne.Verbose&&(b.error&&b.error.data?y=`Error data: ${JSON.stringify(b.error.data,null,4)}

`:b.result?y=`Result: ${JSON.stringify(b.result,null,4)}

`:b.error===void 0&&(y=`No result returned.

`)),q.log(`Sending response '${g} - (${b.id})'. Processing request took ${Date.now()-f}ms`,y)}else De("send-response",b)}function lr(b){if(!(x===Ne.Off||!q))if(P===qt.Text){let g;x===Ne.Verbose&&b.params&&(g=`Params: ${JSON.stringify(b.params,null,4)}

`),q.log(`Received request '${b.method} - (${b.id})'.`,g)}else De("receive-request",b)}function ht(b){if(!(x===Ne.Off||!q||b.method===Is.type.method))if(P===qt.Text){let g;x===Ne.Verbose&&(b.params?g=`Params: ${JSON.stringify(b.params,null,4)}

`:g=`No parameters provided.

`),q.log(`Received notification '${b.method}'.`,g)}else De("receive-notification",b)}function Or(b,g){if(!(x===Ne.Off||!q))if(P===qt.Text){let f;if(x===Ne.Verbose&&(b.error&&b.error.data?f=`Error data: ${JSON.stringify(b.error.data,null,4)}

`:b.result?f=`Result: ${JSON.stringify(b.result,null,4)}

`:b.error===void 0&&(f=`No result returned.

`)),g){let y=b.error?` Request failed: ${b.error.message} (${b.error.code}).`:"";q.log(`Received response '${g.method} - (${b.id})' in ${Date.now()-g.timerStart}ms.${y}`,f)}else q.log(`Received response ${b.id} without active response promise.`,f)}else De("receive-response",b)}function De(b,g){if(!q||x===Ne.Off)return;let f={isLSPMessage:!0,type:b,message:g,timestamp:Date.now()};q.log(f)}function it(){if(Et())throw new zr(Yi.Closed,"Connection is closed.");if(Ae())throw new zr(Yi.Disposed,"Connection is disposed.")}function dr(){if(me())throw new zr(Yi.AlreadyListening,"Connection is already listening")}function xr(){if(!me())throw new Error("Call listen() first.")}function pt(b){return b===void 0?null:b}function fr(b){if(b!==null)return b}function Vt(b){return b!=null&&!Array.isArray(b)&&typeof b=="object"}function gt(b,g){switch(b){case B.ParameterStructures.auto:return Vt(g)?fr(g):[pt(g)];case B.ParameterStructures.byName:if(!Vt(g))throw new Error("Recevied parameters by name but param is not an object literal.");return fr(g);case B.ParameterStructures.byPosition:return[pt(g)];default:throw new Error(`Unknown parameter structure ${b.toString()}`)}}function Xt(b,g){let f,y=b.numberOfParams;switch(y){case 0:f=void 0;break;case 1:f=gt(b.parameterStructures,g[0]);break;default:f=[];for(let S=0;S<g.length&&S<y;S++)f.push(pt(g[S]));if(g.length<y)for(let S=g.length;S<y;S++)f.push(null);break}return f}let mt={sendNotification:(b,...g)=>{it();let f,y;if(je.string(b)){f=b;let a=g[0],u=0,R=B.ParameterStructures.auto;B.ParameterStructures.is(a)&&(u=1,R=a);let T=g.length,F=T-u;switch(F){case 0:y=void 0;break;case 1:y=gt(R,g[u]);break;default:if(R===B.ParameterStructures.byName)throw new Error(`Recevied ${F} parameters for 'by Name' notification parameter structure.`);y=g.slice(u,T).map(H=>pt(H));break}}else{let a=g;f=b.method,y=Xt(b,a)}let S={jsonrpc:c,method:f,params:y};qr(S),e.write(S)},onNotification:(b,g)=>{it();let f;return je.func(b)?v=b:g&&(je.string(b)?(f=b,w[b]={type:void 0,handler:g}):(f=b.method,w[b.method]={type:b,handler:g})),{dispose:()=>{f!==void 0?delete w[f]:v=void 0}}},onProgress:(b,g,f)=>{if(C.has(g))throw new Error(`Progress handler for token ${g} already registered`);return C.set(g,f),{dispose:()=>{C.delete(g)}}},sendProgress:(b,g,f)=>{mt.sendNotification(Ji.type,{token:g,value:f})},onUnhandledProgress:ce.event,sendRequest:(b,...g)=>{it(),xr();let f,y,S;if(je.string(b)){f=b;let T=g[0],F=g[g.length-1],H=0,V=B.ParameterStructures.auto;B.ParameterStructures.is(T)&&(H=1,V=T);let le=g.length;ks.CancellationToken.is(F)&&(le=le-1,S=F);let qe=le-H;switch(qe){case 0:y=void 0;break;case 1:y=gt(V,g[H]);break;default:if(V===B.ParameterStructures.byName)throw new Error(`Recevied ${qe} parameters for 'by Name' request parameter structure.`);y=g.slice(H,le).map(Oe=>pt(Oe));break}}else{let T=g;f=b.method,y=Xt(b,T);let F=b.numberOfParams;S=ks.CancellationToken.is(T[F])?T[F]:void 0}let a=o++,u;return S&&(u=S.onCancellationRequested(()=>{ae.sender.sendCancellation(mt,a)})),new Promise((T,F)=>{let H={jsonrpc:c,id:a,method:f,params:y},V=Oe=>{T(Oe),ae.sender.cleanup(a),u==null||u.dispose()},le=Oe=>{F(Oe),ae.sender.cleanup(a),u==null||u.dispose()},qe={method:f,timerStart:Date.now(),resolve:V,reject:le};cr(H);try{e.write(H)}catch(Oe){qe.reject(new B.ResponseError(B.ErrorCodes.MessageWriteError,Oe.message?Oe.message:"Unknown reason")),qe=null}qe&&(L[String(a)]=qe)})},onRequest:(b,g)=>{it();let f=null;return Ns.is(b)?(f=void 0,h=b):je.string(b)?(f=null,g!==void 0&&(f=b,m[b]={handler:g,type:void 0})):g!==void 0&&(f=b.method,m[b.method]={type:b,handler:g}),{dispose:()=>{f!==null&&(f!==void 0?delete m[f]:h=void 0)}}},trace:(b,g,f)=>{let y=!1,S=qt.Text;f!==void 0&&(je.boolean(f)?y=f:(y=f.sendNotification||!1,S=f.traceFormat||qt.Text)),x=b,P=S,x===Ne.Off?q=void 0:q=g,y&&!Et()&&!Ae()&&mt.sendNotification(Td.type,{value:Ne.toString(b)})},onError:he.event,onClose:be.event,onUnhandledNotification:ye.event,onDispose:oe.event,end:()=>{e.end()},dispose:()=>{if(Ae())return;U=Ot.Disposed,oe.fire(void 0);let b=new Error("Connection got disposed.");Object.keys(L).forEach(g=>{L[g].reject(b)}),L=Object.create(null),O=Object.create(null),I=new Cd.LinkedMap,je.func(e.dispose)&&e.dispose(),je.func(t.dispose)&&t.dispose()},listen:()=>{it(),dr(),U=Ot.Listening,t.listen(Kt)},inspect:()=>{bd.default().console.log("inspect")}};return mt.onNotification(Is.type,b=>{x===Ne.Off||!q||q.log(b.message,x===Ne.Verbose?b.verbose:void 0)}),mt.onNotification(Ji.type,b=>{let g=C.get(b.token);g?g(b.value):ce.fire(b)}),mt}G.createMessageConnection=W_});var $s=E(k=>{"use strict";Object.defineProperty(k,"__esModule",{value:!0});k.CancellationSenderStrategy=k.CancellationReceiverStrategy=k.ConnectionError=k.ConnectionErrors=k.LogTraceNotification=k.SetTraceNotification=k.TraceFormat=k.Trace=k.ProgressType=k.createMessageConnection=k.NullLogger=k.ConnectionOptions=k.ConnectionStrategy=k.WriteableStreamMessageWriter=k.AbstractMessageWriter=k.MessageWriter=k.ReadableStreamMessageReader=k.AbstractMessageReader=k.MessageReader=k.CancellationToken=k.CancellationTokenSource=k.Emitter=k.Event=k.Disposable=k.ParameterStructures=k.NotificationType9=k.NotificationType8=k.NotificationType7=k.NotificationType6=k.NotificationType5=k.NotificationType4=k.NotificationType3=k.NotificationType2=k.NotificationType1=k.NotificationType0=k.NotificationType=k.ErrorCodes=k.ResponseError=k.RequestType9=k.RequestType8=k.RequestType7=k.RequestType6=k.RequestType5=k.RequestType4=k.RequestType3=k.RequestType2=k.RequestType1=k.RequestType0=k.RequestType=k.RAL=void 0;k.CancellationStrategy=void 0;var _e=ws();Object.defineProperty(k,"RequestType",{enumerable:!0,get:function(){return _e.RequestType}});Object.defineProperty(k,"RequestType0",{enumerable:!0,get:function(){return _e.RequestType0}});Object.defineProperty(k,"RequestType1",{enumerable:!0,get:function(){return _e.RequestType1}});Object.defineProperty(k,"RequestType2",{enumerable:!0,get:function(){return _e.RequestType2}});Object.defineProperty(k,"RequestType3",{enumerable:!0,get:function(){return _e.RequestType3}});Object.defineProperty(k,"RequestType4",{enumerable:!0,get:function(){return _e.RequestType4}});Object.defineProperty(k,"RequestType5",{enumerable:!0,get:function(){return _e.RequestType5}});Object.defineProperty(k,"RequestType6",{enumerable:!0,get:function(){return _e.RequestType6}});Object.defineProperty(k,"RequestType7",{enumerable:!0,get:function(){return _e.RequestType7}});Object.defineProperty(k,"RequestType8",{enumerable:!0,get:function(){return _e.RequestType8}});Object.defineProperty(k,"RequestType9",{enumerable:!0,get:function(){return _e.RequestType9}});Object.defineProperty(k,"ResponseError",{enumerable:!0,get:function(){return _e.ResponseError}});Object.defineProperty(k,"ErrorCodes",{enumerable:!0,get:function(){return _e.ErrorCodes}});Object.defineProperty(k,"NotificationType",{enumerable:!0,get:function(){return _e.NotificationType}});Object.defineProperty(k,"NotificationType0",{enumerable:!0,get:function(){return _e.NotificationType0}});Object.defineProperty(k,"NotificationType1",{enumerable:!0,get:function(){return _e.NotificationType1}});Object.defineProperty(k,"NotificationType2",{enumerable:!0,get:function(){return _e.NotificationType2}});Object.defineProperty(k,"NotificationType3",{enumerable:!0,get:function(){return _e.NotificationType3}});Object.defineProperty(k,"NotificationType4",{enumerable:!0,get:function(){return _e.NotificationType4}});Object.defineProperty(k,"NotificationType5",{enumerable:!0,get:function(){return _e.NotificationType5}});Object.defineProperty(k,"NotificationType6",{enumerable:!0,get:function(){return _e.NotificationType6}});Object.defineProperty(k,"NotificationType7",{enumerable:!0,get:function(){return _e.NotificationType7}});Object.defineProperty(k,"NotificationType8",{enumerable:!0,get:function(){return _e.NotificationType8}});Object.defineProperty(k,"NotificationType9",{enumerable:!0,get:function(){return _e.NotificationType9}});Object.defineProperty(k,"ParameterStructures",{enumerable:!0,get:function(){return _e.ParameterStructures}});var H_=ys();Object.defineProperty(k,"Disposable",{enumerable:!0,get:function(){return H_.Disposable}});var Dd=ln();Object.defineProperty(k,"Event",{enumerable:!0,get:function(){return Dd.Event}});Object.defineProperty(k,"Emitter",{enumerable:!0,get:function(){return Dd.Emitter}});var qd=Ts();Object.defineProperty(k,"CancellationTokenSource",{enumerable:!0,get:function(){return qd.CancellationTokenSource}});Object.defineProperty(k,"CancellationToken",{enumerable:!0,get:function(){return qd.CancellationToken}});var Ms=fd();Object.defineProperty(k,"MessageReader",{enumerable:!0,get:function(){return Ms.MessageReader}});Object.defineProperty(k,"AbstractMessageReader",{enumerable:!0,get:function(){return Ms.AbstractMessageReader}});Object.defineProperty(k,"ReadableStreamMessageReader",{enumerable:!0,get:function(){return Ms.ReadableStreamMessageReader}});var js=_d();Object.defineProperty(k,"MessageWriter",{enumerable:!0,get:function(){return js.MessageWriter}});Object.defineProperty(k,"AbstractMessageWriter",{enumerable:!0,get:function(){return js.AbstractMessageWriter}});Object.defineProperty(k,"WriteableStreamMessageWriter",{enumerable:!0,get:function(){return js.WriteableStreamMessageWriter}});var ot=Pd();Object.defineProperty(k,"ConnectionStrategy",{enumerable:!0,get:function(){return ot.ConnectionStrategy}});Object.defineProperty(k,"ConnectionOptions",{enumerable:!0,get:function(){return ot.ConnectionOptions}});Object.defineProperty(k,"NullLogger",{enumerable:!0,get:function(){return ot.NullLogger}});Object.defineProperty(k,"createMessageConnection",{enumerable:!0,get:function(){return ot.createMessageConnection}});Object.defineProperty(k,"ProgressType",{enumerable:!0,get:function(){return ot.ProgressType}});Object.defineProperty(k,"Trace",{enumerable:!0,get:function(){return ot.Trace}});Object.defineProperty(k,"TraceFormat",{enumerable:!0,get:function(){return ot.TraceFormat}});Object.defineProperty(k,"SetTraceNotification",{enumerable:!0,get:function(){return ot.SetTraceNotification}});Object.defineProperty(k,"LogTraceNotification",{enumerable:!0,get:function(){return ot.LogTraceNotification}});Object.defineProperty(k,"ConnectionErrors",{enumerable:!0,get:function(){return ot.ConnectionErrors}});Object.defineProperty(k,"ConnectionError",{enumerable:!0,get:function(){return ot.ConnectionError}});Object.defineProperty(k,"CancellationReceiverStrategy",{enumerable:!0,get:function(){return ot.CancellationReceiverStrategy}});Object.defineProperty(k,"CancellationSenderStrategy",{enumerable:!0,get:function(){return ot.CancellationSenderStrategy}});Object.defineProperty(k,"CancellationStrategy",{enumerable:!0,get:function(){return ot.CancellationStrategy}});var U_=Qt();k.RAL=U_.default});var gn=E(se=>{"use strict";var z_=se&&se.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),K_=se&&se.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&z_(e,t,r)};Object.defineProperty(se,"__esModule",{value:!0});se.createMessageConnection=se.createServerSocketTransport=se.createClientSocketTransport=se.createServerPipeTransport=se.createClientPipeTransport=se.generateRandomPipeName=se.StreamMessageWriter=se.StreamMessageReader=se.SocketMessageWriter=se.SocketMessageReader=se.IPCMessageWriter=se.IPCMessageReader=void 0;var fn=Ll();fn.default.install();var Mt=$s(),Od=require("path"),B_=require("os"),G_=require("crypto"),Qi=require("net");K_($s(),se);var xd=class extends Mt.AbstractMessageReader{constructor(e){super();this.process=e;let r=this.process;r.on("error",n=>this.fireError(n)),r.on("close",()=>this.fireClose())}listen(e){return this.process.on("message",e),Mt.Disposable.create(()=>this.process.off("message",e))}};se.IPCMessageReader=xd;var kd=class extends Mt.AbstractMessageWriter{constructor(e){super();this.process=e,this.errorCount=0;let r=this.process;r.on("error",n=>this.fireError(n)),r.on("close",()=>this.fireClose)}write(e){try{return typeof this.process.send=="function"&&this.process.send(e,void 0,void 0,r=>{r?(this.errorCount++,this.handleError(r,e)):this.errorCount=0}),Promise.resolve()}catch(r){return this.handleError(r,e),Promise.reject(r)}}handleError(e,r){this.errorCount++,this.fireError(e,r,this.errorCount)}end(){}};se.IPCMessageWriter=kd;var hn=class extends Mt.ReadableStreamMessageReader{constructor(e,r="utf-8"){super(fn.default().stream.asReadableStream(e),r)}};se.SocketMessageReader=hn;var pn=class extends Mt.WriteableStreamMessageWriter{constructor(e,r){super(fn.default().stream.asWritableStream(e),r);this.socket=e}dispose(){super.dispose(),this.socket.destroy()}};se.SocketMessageWriter=pn;var Ws=class extends Mt.ReadableStreamMessageReader{constructor(e,r){super(fn.default().stream.asReadableStream(e),r)}};se.StreamMessageReader=Ws;var Hs=class extends Mt.WriteableStreamMessageWriter{constructor(e,r){super(fn.default().stream.asWritableStream(e),r)}};se.StreamMessageWriter=Hs;var Nd=process.env.XDG_RUNTIME_DIR,V_=new Map([["linux",107],["darwin",103]]);function X_(){let t=G_.randomBytes(21).toString("hex");if(process.platform==="win32")return`\\\\.\\pipe\\vscode-jsonrpc-${t}-sock`;let e;Nd?e=Od.join(Nd,`vscode-ipc-${t}.sock`):e=Od.join(B_.tmpdir(),`vscode-${t}.sock`);let r=V_.get(process.platform);return r!==void 0&&e.length>=r&&fn.default().console.warn(`WARNING: IPC handle "${e}" is longer than ${r} characters.`),e}se.generateRandomPipeName=X_;function J_(t,e="utf-8"){let r,n=new Promise((i,o)=>{r=i});return new Promise((i,o)=>{let s=Qi.createServer(d=>{s.close(),r([new hn(d,e),new pn(d,e)])});s.on("error",o),s.listen(t,()=>{s.removeListener("error",o),i({onConnected:()=>n})})})}se.createClientPipeTransport=J_;function Y_(t,e="utf-8"){let r=Qi.createConnection(t);return[new hn(r,e),new pn(r,e)]}se.createServerPipeTransport=Y_;function Q_(t,e="utf-8"){let r,n=new Promise((i,o)=>{r=i});return new Promise((i,o)=>{let s=Qi.createServer(d=>{s.close(),r([new hn(d,e),new pn(d,e)])});s.on("error",o),s.listen(t,"127.0.0.1",()=>{s.removeListener("error",o),i({onConnected:()=>n})})})}se.createClientSocketTransport=Q_;function Z_(t,e="utf-8"){let r=Qi.createConnection(t,"127.0.0.1");return[new hn(r,e),new pn(r,e)]}se.createServerSocketTransport=Z_;function eR(t){let e=t;return e.read!==void 0&&e.addListener!==void 0}function tR(t){let e=t;return e.write!==void 0&&e.addListener!==void 0}function rR(t,e,r,n){r||(r=Mt.NullLogger);let i=eR(t)?new Ws(t):t,o=tR(e)?new Hs(e):e;return Mt.ConnectionStrategy.is(n)&&(n={connectionStrategy:n}),Mt.createMessageConnection(i,o,r,n)}se.createMessageConnection=rR});var Us=E((gD,Id)=>{"use strict";Id.exports=gn()});var Ld=E((Fd,Zi)=>{(function(t){if(typeof Zi=="object"&&typeof Zi.exports=="object"){var e=t(require,Fd);e!==void 0&&(Zi.exports=e)}else typeof define=="function"&&define.amd&&define(["require","exports"],t)})(function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TextDocument=e.EOL=e.SelectionRange=e.DocumentLink=e.FormattingOptions=e.CodeLens=e.CodeAction=e.CodeActionContext=e.CodeActionKind=e.DocumentSymbol=e.SymbolInformation=e.SymbolTag=e.SymbolKind=e.DocumentHighlight=e.DocumentHighlightKind=e.SignatureInformation=e.ParameterInformation=e.Hover=e.MarkedString=e.CompletionList=e.CompletionItem=e.InsertTextMode=e.InsertReplaceEdit=e.CompletionItemTag=e.InsertTextFormat=e.CompletionItemKind=e.MarkupContent=e.MarkupKind=e.TextDocumentItem=e.OptionalVersionedTextDocumentIdentifier=e.VersionedTextDocumentIdentifier=e.TextDocumentIdentifier=e.WorkspaceChange=e.WorkspaceEdit=e.DeleteFile=e.RenameFile=e.CreateFile=e.TextDocumentEdit=e.AnnotatedTextEdit=e.ChangeAnnotationIdentifier=e.ChangeAnnotation=e.TextEdit=e.Command=e.Diagnostic=e.CodeDescription=e.DiagnosticTag=e.DiagnosticSeverity=e.DiagnosticRelatedInformation=e.FoldingRange=e.FoldingRangeKind=e.ColorPresentation=e.ColorInformation=e.Color=e.LocationLink=e.Location=e.Range=e.Position=e.uinteger=e.integer=void 0;var r;(function(f){f.MIN_VALUE=-2147483648,f.MAX_VALUE=2147483647})(r=e.integer||(e.integer={}));var n;(function(f){f.MIN_VALUE=0,f.MAX_VALUE=2147483647})(n=e.uinteger||(e.uinteger={}));var i;(function(f){function y(a,u){return a===Number.MAX_VALUE&&(a=n.MAX_VALUE),u===Number.MAX_VALUE&&(u=n.MAX_VALUE),{line:a,character:u}}f.create=y;function S(a){var u=a;return g.objectLiteral(u)&&g.uinteger(u.line)&&g.uinteger(u.character)}f.is=S})(i=e.Position||(e.Position={}));var o;(function(f){function y(a,u,R,T){if(g.uinteger(a)&&g.uinteger(u)&&g.uinteger(R)&&g.uinteger(T))return{start:i.create(a,u),end:i.create(R,T)};if(i.is(a)&&i.is(u))return{start:a,end:u};throw new Error("Range#create called with invalid arguments["+a+", "+u+", "+R+", "+T+"]")}f.create=y;function S(a){var u=a;return g.objectLiteral(u)&&i.is(u.start)&&i.is(u.end)}f.is=S})(o=e.Range||(e.Range={}));var s;(function(f){function y(a,u){return{uri:a,range:u}}f.create=y;function S(a){var u=a;return g.defined(u)&&o.is(u.range)&&(g.string(u.uri)||g.undefined(u.uri))}f.is=S})(s=e.Location||(e.Location={}));var d;(function(f){function y(a,u,R,T){return{targetUri:a,targetRange:u,targetSelectionRange:R,originSelectionRange:T}}f.create=y;function S(a){var u=a;return g.defined(u)&&o.is(u.targetRange)&&g.string(u.targetUri)&&(o.is(u.targetSelectionRange)||g.undefined(u.targetSelectionRange))&&(o.is(u.originSelectionRange)||g.undefined(u.originSelectionRange))}f.is=S})(d=e.LocationLink||(e.LocationLink={}));var c;(function(f){function y(a,u,R,T){return{red:a,green:u,blue:R,alpha:T}}f.create=y;function S(a){var u=a;return g.numberRange(u.red,0,1)&&g.numberRange(u.green,0,1)&&g.numberRange(u.blue,0,1)&&g.numberRange(u.alpha,0,1)}f.is=S})(c=e.Color||(e.Color={}));var h;(function(f){function y(a,u){return{range:a,color:u}}f.create=y;function S(a){var u=a;return o.is(u.range)&&c.is(u.color)}f.is=S})(h=e.ColorInformation||(e.ColorInformation={}));var m;(function(f){function y(a,u,R){return{label:a,textEdit:u,additionalTextEdits:R}}f.create=y;function S(a){var u=a;return g.string(u.label)&&(g.undefined(u.textEdit)||P.is(u))&&(g.undefined(u.additionalTextEdits)||g.typedArray(u.additionalTextEdits,P.is))}f.is=S})(m=e.ColorPresentation||(e.ColorPresentation={}));var v;(function(f){f.Comment="comment",f.Imports="imports",f.Region="region"})(v=e.FoldingRangeKind||(e.FoldingRangeKind={}));var w;(function(f){function y(a,u,R,T,F){var H={startLine:a,endLine:u};return g.defined(R)&&(H.startCharacter=R),g.defined(T)&&(H.endCharacter=T),g.defined(F)&&(H.kind=F),H}f.create=y;function S(a){var u=a;return g.uinteger(u.startLine)&&g.uinteger(u.startLine)&&(g.undefined(u.startCharacter)||g.uinteger(u.startCharacter))&&(g.undefined(u.endCharacter)||g.uinteger(u.endCharacter))&&(g.undefined(u.kind)||g.string(u.kind))}f.is=S})(w=e.FoldingRange||(e.FoldingRange={}));var C;(function(f){function y(a,u){return{location:a,message:u}}f.create=y;function S(a){var u=a;return g.defined(u)&&s.is(u.location)&&g.string(u.message)}f.is=S})(C=e.DiagnosticRelatedInformation||(e.DiagnosticRelatedInformation={}));var N;(function(f){f.Error=1,f.Warning=2,f.Information=3,f.Hint=4})(N=e.DiagnosticSeverity||(e.DiagnosticSeverity={}));var I;(function(f){f.Unnecessary=1,f.Deprecated=2})(I=e.DiagnosticTag||(e.DiagnosticTag={}));var L;(function(f){function y(S){var a=S;return a!=null&&g.string(a.href)}f.is=y})(L=e.CodeDescription||(e.CodeDescription={}));var O;(function(f){function y(a,u,R,T,F,H){var V={range:a,message:u};return g.defined(R)&&(V.severity=R),g.defined(T)&&(V.code=T),g.defined(F)&&(V.source=F),g.defined(H)&&(V.relatedInformation=H),V}f.create=y;function S(a){var u,R=a;return g.defined(R)&&o.is(R.range)&&g.string(R.message)&&(g.number(R.severity)||g.undefined(R.severity))&&(g.integer(R.code)||g.string(R.code)||g.undefined(R.code))&&(g.undefined(R.codeDescription)||g.string((u=R.codeDescription)===null||u===void 0?void 0:u.href))&&(g.string(R.source)||g.undefined(R.source))&&(g.undefined(R.relatedInformation)||g.typedArray(R.relatedInformation,C.is))}f.is=S})(O=e.Diagnostic||(e.Diagnostic={}));var x;(function(f){function y(a,u){for(var R=[],T=2;T<arguments.length;T++)R[T-2]=arguments[T];var F={title:a,command:u};return g.defined(R)&&R.length>0&&(F.arguments=R),F}f.create=y;function S(a){var u=a;return g.defined(u)&&g.string(u.title)&&g.string(u.command)}f.is=S})(x=e.Command||(e.Command={}));var P;(function(f){function y(R,T){return{range:R,newText:T}}f.replace=y;function S(R,T){return{range:{start:R,end:R},newText:T}}f.insert=S;function a(R){return{range:R,newText:""}}f.del=a;function u(R){var T=R;return g.objectLiteral(T)&&g.string(T.newText)&&o.is(T.range)}f.is=u})(P=e.TextEdit||(e.TextEdit={}));var q;(function(f){function y(a,u,R){var T={label:a};return u!==void 0&&(T.needsConfirmation=u),R!==void 0&&(T.description=R),T}f.create=y;function S(a){var u=a;return u!==void 0&&g.objectLiteral(u)&&g.string(u.label)&&(g.boolean(u.needsConfirmation)||u.needsConfirmation===void 0)&&(g.string(u.description)||u.description===void 0)}f.is=S})(q=e.ChangeAnnotation||(e.ChangeAnnotation={}));var U;(function(f){function y(S){var a=S;return typeof a=="string"}f.is=y})(U=e.ChangeAnnotationIdentifier||(e.ChangeAnnotationIdentifier={}));var he;(function(f){function y(R,T,F){return{range:R,newText:T,annotationId:F}}f.replace=y;function S(R,T,F){return{range:{start:R,end:R},newText:T,annotationId:F}}f.insert=S;function a(R,T){return{range:R,newText:"",annotationId:T}}f.del=a;function u(R){var T=R;return P.is(T)&&(q.is(T.annotationId)||U.is(T.annotationId))}f.is=u})(he=e.AnnotatedTextEdit||(e.AnnotatedTextEdit={}));var be;(function(f){function y(a,u){return{textDocument:a,edits:u}}f.create=y;function S(a){var u=a;return g.defined(u)&&me.is(u.textDocument)&&Array.isArray(u.edits)}f.is=S})(be=e.TextDocumentEdit||(e.TextDocumentEdit={}));var ye;(function(f){function y(a,u,R){var T={kind:"create",uri:a};return u!==void 0&&(u.overwrite!==void 0||u.ignoreIfExists!==void 0)&&(T.options=u),R!==void 0&&(T.annotationId=R),T}f.create=y;function S(a){var u=a;return u&&u.kind==="create"&&g.string(u.uri)&&(u.options===void 0||(u.options.overwrite===void 0||g.boolean(u.options.overwrite))&&(u.options.ignoreIfExists===void 0||g.boolean(u.options.ignoreIfExists)))&&(u.annotationId===void 0||U.is(u.annotationId))}f.is=S})(ye=e.CreateFile||(e.CreateFile={}));var ce;(function(f){function y(a,u,R,T){var F={kind:"rename",oldUri:a,newUri:u};return R!==void 0&&(R.overwrite!==void 0||R.ignoreIfExists!==void 0)&&(F.options=R),T!==void 0&&(F.annotationId=T),F}f.create=y;function S(a){var u=a;return u&&u.kind==="rename"&&g.string(u.oldUri)&&g.string(u.newUri)&&(u.options===void 0||(u.options.overwrite===void 0||g.boolean(u.options.overwrite))&&(u.options.ignoreIfExists===void 0||g.boolean(u.options.ignoreIfExists)))&&(u.annotationId===void 0||U.is(u.annotationId))}f.is=S})(ce=e.RenameFile||(e.RenameFile={}));var oe;(function(f){function y(a,u,R){var T={kind:"delete",uri:a};return u!==void 0&&(u.recursive!==void 0||u.ignoreIfNotExists!==void 0)&&(T.options=u),R!==void 0&&(T.annotationId=R),T}f.create=y;function S(a){var u=a;return u&&u.kind==="delete"&&g.string(u.uri)&&(u.options===void 0||(u.options.recursive===void 0||g.boolean(u.options.recursive))&&(u.options.ignoreIfNotExists===void 0||g.boolean(u.options.ignoreIfNotExists)))&&(u.annotationId===void 0||U.is(u.annotationId))}f.is=S})(oe=e.DeleteFile||(e.DeleteFile={}));var ae;(function(f){function y(S){var a=S;return a&&(a.changes!==void 0||a.documentChanges!==void 0)&&(a.documentChanges===void 0||a.documentChanges.every(function(u){return g.string(u.kind)?ye.is(u)||ce.is(u)||oe.is(u):be.is(u)}))}f.is=y})(ae=e.WorkspaceEdit||(e.WorkspaceEdit={}));var Te=function(){function f(y,S){this.edits=y,this.changeAnnotations=S}return f.prototype.insert=function(y,S,a){var u,R;if(a===void 0?u=P.insert(y,S):U.is(a)?(R=a,u=he.insert(y,S,a)):(this.assertChangeAnnotations(this.changeAnnotations),R=this.changeAnnotations.manage(a),u=he.insert(y,S,R)),this.edits.push(u),R!==void 0)return R},f.prototype.replace=function(y,S,a){var u,R;if(a===void 0?u=P.replace(y,S):U.is(a)?(R=a,u=he.replace(y,S,a)):(this.assertChangeAnnotations(this.changeAnnotations),R=this.changeAnnotations.manage(a),u=he.replace(y,S,R)),this.edits.push(u),R!==void 0)return R},f.prototype.delete=function(y,S){var a,u;if(S===void 0?a=P.del(y):U.is(S)?(u=S,a=he.del(y,S)):(this.assertChangeAnnotations(this.changeAnnotations),u=this.changeAnnotations.manage(S),a=he.del(y,u)),this.edits.push(a),u!==void 0)return u},f.prototype.add=function(y){this.edits.push(y)},f.prototype.all=function(){return this.edits},f.prototype.clear=function(){this.edits.splice(0,this.edits.length)},f.prototype.assertChangeAnnotations=function(y){if(y===void 0)throw new Error("Text edit change is not configured to manage change annotations.")},f}(),Ye=function(){function f(y){this._annotations=y===void 0?Object.create(null):y,this._counter=0,this._size=0}return f.prototype.all=function(){return this._annotations},Object.defineProperty(f.prototype,"size",{get:function(){return this._size},enumerable:!1,configurable:!0}),f.prototype.manage=function(y,S){var a;if(U.is(y)?a=y:(a=this.nextId(),S=y),this._annotations[a]!==void 0)throw new Error("Id "+a+" is already in use.");if(S===void 0)throw new Error("No annotation provided for id "+a);return this._annotations[a]=S,this._size++,a},f.prototype.nextId=function(){return this._counter++,this._counter.toString()},f}(),nt=function(){function f(y){var S=this;this._textEditChanges=Object.create(null),y!==void 0?(this._workspaceEdit=y,y.documentChanges?(this._changeAnnotations=new Ye(y.changeAnnotations),y.changeAnnotations=this._changeAnnotations.all(),y.documentChanges.forEach(function(a){if(be.is(a)){var u=new Te(a.edits,S._changeAnnotations);S._textEditChanges[a.textDocument.uri]=u}})):y.changes&&Object.keys(y.changes).forEach(function(a){var u=new Te(y.changes[a]);S._textEditChanges[a]=u})):this._workspaceEdit={}}return Object.defineProperty(f.prototype,"edit",{get:function(){return this.initDocumentChanges(),this._changeAnnotations!==void 0&&(this._changeAnnotations.size===0?this._workspaceEdit.changeAnnotations=void 0:this._workspaceEdit.changeAnnotations=this._changeAnnotations.all()),this._workspaceEdit},enumerable:!1,configurable:!0}),f.prototype.getTextEditChange=function(y){if(me.is(y)){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var S={uri:y.uri,version:y.version},a=this._textEditChanges[S.uri];if(!a){var u=[],R={textDocument:S,edits:u};this._workspaceEdit.documentChanges.push(R),a=new Te(u,this._changeAnnotations),this._textEditChanges[S.uri]=a}return a}else{if(this.initChanges(),this._workspaceEdit.changes===void 0)throw new Error("Workspace edit is not configured for normal text edit changes.");var a=this._textEditChanges[y];if(!a){var u=[];this._workspaceEdit.changes[y]=u,a=new Te(u),this._textEditChanges[y]=a}return a}},f.prototype.initDocumentChanges=function(){this._workspaceEdit.documentChanges===void 0&&this._workspaceEdit.changes===void 0&&(this._changeAnnotations=new Ye,this._workspaceEdit.documentChanges=[],this._workspaceEdit.changeAnnotations=this._changeAnnotations.all())},f.prototype.initChanges=function(){this._workspaceEdit.documentChanges===void 0&&this._workspaceEdit.changes===void 0&&(this._workspaceEdit.changes=Object.create(null))},f.prototype.createFile=function(y,S,a){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var u;q.is(S)||U.is(S)?u=S:a=S;var R,T;if(u===void 0?R=ye.create(y,a):(T=U.is(u)?u:this._changeAnnotations.manage(u),R=ye.create(y,a,T)),this._workspaceEdit.documentChanges.push(R),T!==void 0)return T},f.prototype.renameFile=function(y,S,a,u){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var R;q.is(a)||U.is(a)?R=a:u=a;var T,F;if(R===void 0?T=ce.create(y,S,u):(F=U.is(R)?R:this._changeAnnotations.manage(R),T=ce.create(y,S,u,F)),this._workspaceEdit.documentChanges.push(T),F!==void 0)return F},f.prototype.deleteFile=function(y,S,a){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var u;q.is(S)||U.is(S)?u=S:a=S;var R,T;if(u===void 0?R=oe.create(y,a):(T=U.is(u)?u:this._changeAnnotations.manage(u),R=oe.create(y,a,T)),this._workspaceEdit.documentChanges.push(R),T!==void 0)return T},f}();e.WorkspaceChange=nt;var Qe;(function(f){function y(a){return{uri:a}}f.create=y;function S(a){var u=a;return g.defined(u)&&g.string(u.uri)}f.is=S})(Qe=e.TextDocumentIdentifier||(e.TextDocumentIdentifier={}));var lt;(function(f){function y(a,u){return{uri:a,version:u}}f.create=y;function S(a){var u=a;return g.defined(u)&&g.string(u.uri)&&g.integer(u.version)}f.is=S})(lt=e.VersionedTextDocumentIdentifier||(e.VersionedTextDocumentIdentifier={}));var me;(function(f){function y(a,u){return{uri:a,version:u}}f.create=y;function S(a){var u=a;return g.defined(u)&&g.string(u.uri)&&(u.version===null||g.integer(u.version))}f.is=S})(me=e.OptionalVersionedTextDocumentIdentifier||(e.OptionalVersionedTextDocumentIdentifier={}));var Et;(function(f){function y(a,u,R,T){return{uri:a,languageId:u,version:R,text:T}}f.create=y;function S(a){var u=a;return g.defined(u)&&g.string(u.uri)&&g.string(u.languageId)&&g.integer(u.version)&&g.string(u.text)}f.is=S})(Et=e.TextDocumentItem||(e.TextDocumentItem={}));var Ae;(function(f){f.PlainText="plaintext",f.Markdown="markdown"})(Ae=e.MarkupKind||(e.MarkupKind={})),function(f){function y(S){var a=S;return a===f.PlainText||a===f.Markdown}f.is=y}(Ae=e.MarkupKind||(e.MarkupKind={}));var at;(function(f){function y(S){var a=S;return g.objectLiteral(S)&&Ae.is(a.kind)&&g.string(a.value)}f.is=y})(at=e.MarkupContent||(e.MarkupContent={}));var dt;(function(f){f.Text=1,f.Method=2,f.Function=3,f.Constructor=4,f.Field=5,f.Variable=6,f.Class=7,f.Interface=8,f.Module=9,f.Property=10,f.Unit=11,f.Value=12,f.Enum=13,f.Keyword=14,f.Snippet=15,f.Color=16,f.File=17,f.Reference=18,f.Folder=19,f.EnumMember=20,f.Constant=21,f.Struct=22,f.Event=23,f.Operator=24,f.TypeParameter=25})(dt=e.CompletionItemKind||(e.CompletionItemKind={}));var Pt;(function(f){f.PlainText=1,f.Snippet=2})(Pt=e.InsertTextFormat||(e.InsertTextFormat={}));var ar;(function(f){f.Deprecated=1})(ar=e.CompletionItemTag||(e.CompletionItemTag={}));var ur;(function(f){function y(a,u,R){return{newText:a,insert:u,replace:R}}f.create=y;function S(a){var u=a;return u&&g.string(u.newText)&&o.is(u.insert)&&o.is(u.replace)}f.is=S})(ur=e.InsertReplaceEdit||(e.InsertReplaceEdit={}));var Kt;(function(f){f.asIs=1,f.adjustIndentation=2})(Kt=e.InsertTextMode||(e.InsertTextMode={}));var Bt;(function(f){function y(S){return{label:S}}f.create=y})(Bt=e.CompletionItem||(e.CompletionItem={}));var Lt;(function(f){function y(S,a){return{items:S||[],isIncomplete:!!a}}f.create=y})(Lt=e.CompletionList||(e.CompletionList={}));var At;(function(f){function y(a){return a.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")}f.fromPlainText=y;function S(a){var u=a;return g.string(u)||g.objectLiteral(u)&&g.string(u.language)&&g.string(u.value)}f.is=S})(At=e.MarkedString||(e.MarkedString={}));var Gt;(function(f){function y(S){var a=S;return!!a&&g.objectLiteral(a)&&(at.is(a.contents)||At.is(a.contents)||g.typedArray(a.contents,At.is))&&(S.range===void 0||o.is(S.range))}f.is=y})(Gt=e.Hover||(e.Hover={}));var cr;(function(f){function y(S,a){return a?{label:S,documentation:a}:{label:S}}f.create=y})(cr=e.ParameterInformation||(e.ParameterInformation={}));var qr;(function(f){function y(S,a){for(var u=[],R=2;R<arguments.length;R++)u[R-2]=arguments[R];var T={label:S};return g.defined(a)&&(T.documentation=a),g.defined(u)?T.parameters=u:T.parameters=[],T}f.create=y})(qr=e.SignatureInformation||(e.SignatureInformation={}));var ft;(function(f){f.Text=1,f.Read=2,f.Write=3})(ft=e.DocumentHighlightKind||(e.DocumentHighlightKind={}));var lr;(function(f){function y(S,a){var u={range:S};return g.number(a)&&(u.kind=a),u}f.create=y})(lr=e.DocumentHighlight||(e.DocumentHighlight={}));var ht;(function(f){f.File=1,f.Module=2,f.Namespace=3,f.Package=4,f.Class=5,f.Method=6,f.Property=7,f.Field=8,f.Constructor=9,f.Enum=10,f.Interface=11,f.Function=12,f.Variable=13,f.Constant=14,f.String=15,f.Number=16,f.Boolean=17,f.Array=18,f.Object=19,f.Key=20,f.Null=21,f.EnumMember=22,f.Struct=23,f.Event=24,f.Operator=25,f.TypeParameter=26})(ht=e.SymbolKind||(e.SymbolKind={}));var Or;(function(f){f.Deprecated=1})(Or=e.SymbolTag||(e.SymbolTag={}));var De;(function(f){function y(S,a,u,R,T){var F={name:S,kind:a,location:{uri:R,range:u}};return T&&(F.containerName=T),F}f.create=y})(De=e.SymbolInformation||(e.SymbolInformation={}));var it;(function(f){function y(a,u,R,T,F,H){var V={name:a,detail:u,kind:R,range:T,selectionRange:F};return H!==void 0&&(V.children=H),V}f.create=y;function S(a){var u=a;return u&&g.string(u.name)&&g.number(u.kind)&&o.is(u.range)&&o.is(u.selectionRange)&&(u.detail===void 0||g.string(u.detail))&&(u.deprecated===void 0||g.boolean(u.deprecated))&&(u.children===void 0||Array.isArray(u.children))&&(u.tags===void 0||Array.isArray(u.tags))}f.is=S})(it=e.DocumentSymbol||(e.DocumentSymbol={}));var dr;(function(f){f.Empty="",f.QuickFix="quickfix",f.Refactor="refactor",f.RefactorExtract="refactor.extract",f.RefactorInline="refactor.inline",f.RefactorRewrite="refactor.rewrite",f.Source="source",f.SourceOrganizeImports="source.organizeImports",f.SourceFixAll="source.fixAll"})(dr=e.CodeActionKind||(e.CodeActionKind={}));var xr;(function(f){function y(a,u){var R={diagnostics:a};return u!=null&&(R.only=u),R}f.create=y;function S(a){var u=a;return g.defined(u)&&g.typedArray(u.diagnostics,O.is)&&(u.only===void 0||g.typedArray(u.only,g.string))}f.is=S})(xr=e.CodeActionContext||(e.CodeActionContext={}));var pt;(function(f){function y(a,u,R){var T={title:a},F=!0;return typeof u=="string"?(F=!1,T.kind=u):x.is(u)?T.command=u:T.edit=u,F&&R!==void 0&&(T.kind=R),T}f.create=y;function S(a){var u=a;return u&&g.string(u.title)&&(u.diagnostics===void 0||g.typedArray(u.diagnostics,O.is))&&(u.kind===void 0||g.string(u.kind))&&(u.edit!==void 0||u.command!==void 0)&&(u.command===void 0||x.is(u.command))&&(u.isPreferred===void 0||g.boolean(u.isPreferred))&&(u.edit===void 0||ae.is(u.edit))}f.is=S})(pt=e.CodeAction||(e.CodeAction={}));var fr;(function(f){function y(a,u){var R={range:a};return g.defined(u)&&(R.data=u),R}f.create=y;function S(a){var u=a;return g.defined(u)&&o.is(u.range)&&(g.undefined(u.command)||x.is(u.command))}f.is=S})(fr=e.CodeLens||(e.CodeLens={}));var Vt;(function(f){function y(a,u){return{tabSize:a,insertSpaces:u}}f.create=y;function S(a){var u=a;return g.defined(u)&&g.uinteger(u.tabSize)&&g.boolean(u.insertSpaces)}f.is=S})(Vt=e.FormattingOptions||(e.FormattingOptions={}));var gt;(function(f){function y(a,u,R){return{range:a,target:u,data:R}}f.create=y;function S(a){var u=a;return g.defined(u)&&o.is(u.range)&&(g.undefined(u.target)||g.string(u.target))}f.is=S})(gt=e.DocumentLink||(e.DocumentLink={}));var Xt;(function(f){function y(a,u){return{range:a,parent:u}}f.create=y;function S(a){var u=a;return u!==void 0&&o.is(u.range)&&(u.parent===void 0||f.is(u.parent))}f.is=S})(Xt=e.SelectionRange||(e.SelectionRange={})),e.EOL=[`
`,`\r
`,"\r"];var mt;(function(f){function y(R,T,F,H){return new b(R,T,F,H)}f.create=y;function S(R){var T=R;return!!(g.defined(T)&&g.string(T.uri)&&(g.undefined(T.languageId)||g.string(T.languageId))&&g.uinteger(T.lineCount)&&g.func(T.getText)&&g.func(T.positionAt)&&g.func(T.offsetAt))}f.is=S;function a(R,T){for(var F=R.getText(),H=u(T,function(hr,kr){var xi=hr.range.start.line-kr.range.start.line;return xi===0?hr.range.start.character-kr.range.start.character:xi}),V=F.length,le=H.length-1;le>=0;le--){var qe=H[le],Oe=R.offsetAt(qe.range.start),te=R.offsetAt(qe.range.end);if(te<=V)F=F.substring(0,Oe)+qe.newText+F.substring(te,F.length);else throw new Error("Overlapping edit");V=Oe}return F}f.applyEdits=a;function u(R,T){if(R.length<=1)return R;var F=R.length/2|0,H=R.slice(0,F),V=R.slice(F);u(H,T),u(V,T);for(var le=0,qe=0,Oe=0;le<H.length&&qe<V.length;){var te=T(H[le],V[qe]);te<=0?R[Oe++]=H[le++]:R[Oe++]=V[qe++]}for(;le<H.length;)R[Oe++]=H[le++];for(;qe<V.length;)R[Oe++]=V[qe++];return R}})(mt=e.TextDocument||(e.TextDocument={}));var b=function(){function f(y,S,a,u){this._uri=y,this._languageId=S,this._version=a,this._content=u,this._lineOffsets=void 0}return Object.defineProperty(f.prototype,"uri",{get:function(){return this._uri},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"languageId",{get:function(){return this._languageId},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"version",{get:function(){return this._version},enumerable:!1,configurable:!0}),f.prototype.getText=function(y){if(y){var S=this.offsetAt(y.start),a=this.offsetAt(y.end);return this._content.substring(S,a)}return this._content},f.prototype.update=function(y,S){this._content=y.text,this._version=S,this._lineOffsets=void 0},f.prototype.getLineOffsets=function(){if(this._lineOffsets===void 0){for(var y=[],S=this._content,a=!0,u=0;u<S.length;u++){a&&(y.push(u),a=!1);var R=S.charAt(u);a=R==="\r"||R===`
`,R==="\r"&&u+1<S.length&&S.charAt(u+1)===`
`&&u++}a&&S.length>0&&y.push(S.length),this._lineOffsets=y}return this._lineOffsets},f.prototype.positionAt=function(y){y=Math.max(Math.min(y,this._content.length),0);var S=this.getLineOffsets(),a=0,u=S.length;if(u===0)return i.create(0,y);for(;a<u;){var R=Math.floor((a+u)/2);S[R]>y?u=R:a=R+1}var T=a-1;return i.create(T,y-S[T])},f.prototype.offsetAt=function(y){var S=this.getLineOffsets();if(y.line>=S.length)return this._content.length;if(y.line<0)return 0;var a=S[y.line],u=y.line+1<S.length?S[y.line+1]:this._content.length;return Math.max(Math.min(a+y.character,u),a)},Object.defineProperty(f.prototype,"lineCount",{get:function(){return this.getLineOffsets().length},enumerable:!1,configurable:!0}),f}(),g;(function(f){var y=Object.prototype.toString;function S(te){return typeof te!="undefined"}f.defined=S;function a(te){return typeof te=="undefined"}f.undefined=a;function u(te){return te===!0||te===!1}f.boolean=u;function R(te){return y.call(te)==="[object String]"}f.string=R;function T(te){return y.call(te)==="[object Number]"}f.number=T;function F(te,hr,kr){return y.call(te)==="[object Number]"&&hr<=te&&te<=kr}f.numberRange=F;function H(te){return y.call(te)==="[object Number]"&&-2147483648<=te&&te<=2147483647}f.integer=H;function V(te){return y.call(te)==="[object Number]"&&0<=te&&te<=2147483647}f.uinteger=V;function le(te){return y.call(te)==="[object Function]"}f.func=le;function qe(te){return te!==null&&typeof te=="object"}f.objectLiteral=qe;function Oe(te,hr){return Array.isArray(te)&&te.every(hr)}f.typedArray=Oe})(g||(g={}))})});var $e=E(Rt=>{"use strict";Object.defineProperty(Rt,"__esModule",{value:!0});Rt.ProtocolNotificationType=Rt.ProtocolNotificationType0=Rt.ProtocolRequestType=Rt.ProtocolRequestType0=Rt.RegistrationType=void 0;var mn=gn(),Ad=class{constructor(e){this.method=e}};Rt.RegistrationType=Ad;var Md=class extends mn.RequestType0{constructor(e){super(e)}};Rt.ProtocolRequestType0=Md;var jd=class extends mn.RequestType{constructor(e){super(e,mn.ParameterStructures.byName)}};Rt.ProtocolRequestType=jd;var $d=class extends mn.NotificationType0{constructor(e){super(e)}};Rt.ProtocolNotificationType0=$d;var Wd=class extends mn.NotificationType{constructor(e){super(e,mn.ParameterStructures.byName)}};Rt.ProtocolNotificationType=Wd});var zd=E(Ie=>{"use strict";Object.defineProperty(Ie,"__esModule",{value:!0});Ie.objectLiteral=Ie.typedArray=Ie.stringArray=Ie.array=Ie.func=Ie.error=Ie.number=Ie.string=Ie.boolean=void 0;function nR(t){return t===!0||t===!1}Ie.boolean=nR;function Hd(t){return typeof t=="string"||t instanceof String}Ie.string=Hd;function iR(t){return typeof t=="number"||t instanceof Number}Ie.number=iR;function oR(t){return t instanceof Error}Ie.error=oR;function sR(t){return typeof t=="function"}Ie.func=sR;function Ud(t){return Array.isArray(t)}Ie.array=Ud;function aR(t){return Ud(t)&&t.every(e=>Hd(e))}Ie.stringArray=aR;function uR(t,e){return Array.isArray(t)&&t.every(e)}Ie.typedArray=uR;function cR(t){return t!==null&&typeof t=="object"}Ie.objectLiteral=cR});var Kd=E(ei=>{"use strict";Object.defineProperty(ei,"__esModule",{value:!0});ei.ImplementationRequest=void 0;var lR=$e(),dR;(function(t){t.method="textDocument/implementation",t.type=new lR.ProtocolRequestType(t.method)})(dR=ei.ImplementationRequest||(ei.ImplementationRequest={}))});var Bd=E(ti=>{"use strict";Object.defineProperty(ti,"__esModule",{value:!0});ti.TypeDefinitionRequest=void 0;var fR=$e(),hR;(function(t){t.method="textDocument/typeDefinition",t.type=new fR.ProtocolRequestType(t.method)})(hR=ti.TypeDefinitionRequest||(ti.TypeDefinitionRequest={}))});var Vd=E(mr=>{"use strict";Object.defineProperty(mr,"__esModule",{value:!0});mr.DidChangeWorkspaceFoldersNotification=mr.WorkspaceFoldersRequest=void 0;var Gd=$e(),pR;(function(t){t.type=new Gd.ProtocolRequestType0("workspace/workspaceFolders")})(pR=mr.WorkspaceFoldersRequest||(mr.WorkspaceFoldersRequest={}));var gR;(function(t){t.type=new Gd.ProtocolNotificationType("workspace/didChangeWorkspaceFolders")})(gR=mr.DidChangeWorkspaceFoldersNotification||(mr.DidChangeWorkspaceFoldersNotification={}))});var Xd=E(ri=>{"use strict";Object.defineProperty(ri,"__esModule",{value:!0});ri.ConfigurationRequest=void 0;var mR=$e(),vR;(function(t){t.type=new mR.ProtocolRequestType("workspace/configuration")})(vR=ri.ConfigurationRequest||(ri.ConfigurationRequest={}))});var Yd=E(vr=>{"use strict";Object.defineProperty(vr,"__esModule",{value:!0});vr.ColorPresentationRequest=vr.DocumentColorRequest=void 0;var Jd=$e(),yR;(function(t){t.method="textDocument/documentColor",t.type=new Jd.ProtocolRequestType(t.method)})(yR=vr.DocumentColorRequest||(vr.DocumentColorRequest={}));var _R;(function(t){t.type=new Jd.ProtocolRequestType("textDocument/colorPresentation")})(_R=vr.ColorPresentationRequest||(vr.ColorPresentationRequest={}))});var Qd=E(yr=>{"use strict";Object.defineProperty(yr,"__esModule",{value:!0});yr.FoldingRangeRequest=yr.FoldingRangeKind=void 0;var RR=$e(),wR;(function(t){t.Comment="comment",t.Imports="imports",t.Region="region"})(wR=yr.FoldingRangeKind||(yr.FoldingRangeKind={}));var bR;(function(t){t.method="textDocument/foldingRange",t.type=new RR.ProtocolRequestType(t.method)})(bR=yr.FoldingRangeRequest||(yr.FoldingRangeRequest={}))});var Zd=E(ni=>{"use strict";Object.defineProperty(ni,"__esModule",{value:!0});ni.DeclarationRequest=void 0;var CR=$e(),SR;(function(t){t.method="textDocument/declaration",t.type=new CR.ProtocolRequestType(t.method)})(SR=ni.DeclarationRequest||(ni.DeclarationRequest={}))});var ef=E(ii=>{"use strict";Object.defineProperty(ii,"__esModule",{value:!0});ii.SelectionRangeRequest=void 0;var TR=$e(),ER;(function(t){t.method="textDocument/selectionRange",t.type=new TR.ProtocolRequestType(t.method)})(ER=ii.SelectionRangeRequest||(ii.SelectionRangeRequest={}))});var rf=E(xt=>{"use strict";Object.defineProperty(xt,"__esModule",{value:!0});xt.WorkDoneProgressCancelNotification=xt.WorkDoneProgressCreateRequest=xt.WorkDoneProgress=void 0;var PR=gn(),tf=$e(),DR;(function(t){t.type=new PR.ProgressType;function e(r){return r===t.type}t.is=e})(DR=xt.WorkDoneProgress||(xt.WorkDoneProgress={}));var qR;(function(t){t.type=new tf.ProtocolRequestType("window/workDoneProgress/create")})(qR=xt.WorkDoneProgressCreateRequest||(xt.WorkDoneProgressCreateRequest={}));var OR;(function(t){t.type=new tf.ProtocolNotificationType("window/workDoneProgress/cancel")})(OR=xt.WorkDoneProgressCancelNotification||(xt.WorkDoneProgressCancelNotification={}))});var nf=E(kt=>{"use strict";Object.defineProperty(kt,"__esModule",{value:!0});kt.CallHierarchyOutgoingCallsRequest=kt.CallHierarchyIncomingCallsRequest=kt.CallHierarchyPrepareRequest=void 0;var zs=$e(),xR;(function(t){t.method="textDocument/prepareCallHierarchy",t.type=new zs.ProtocolRequestType(t.method)})(xR=kt.CallHierarchyPrepareRequest||(kt.CallHierarchyPrepareRequest={}));var kR;(function(t){t.method="callHierarchy/incomingCalls",t.type=new zs.ProtocolRequestType(t.method)})(kR=kt.CallHierarchyIncomingCallsRequest||(kt.CallHierarchyIncomingCallsRequest={}));var NR;(function(t){t.method="callHierarchy/outgoingCalls",t.type=new zs.ProtocolRequestType(t.method)})(NR=kt.CallHierarchyOutgoingCallsRequest||(kt.CallHierarchyOutgoingCallsRequest={}))});var of=E(de=>{"use strict";Object.defineProperty(de,"__esModule",{value:!0});de.SemanticTokensRefreshRequest=de.SemanticTokensRangeRequest=de.SemanticTokensDeltaRequest=de.SemanticTokensRequest=de.SemanticTokensRegistrationType=de.TokenFormat=de.SemanticTokens=de.SemanticTokenModifiers=de.SemanticTokenTypes=void 0;var oi=$e(),IR;(function(t){t.namespace="namespace",t.type="type",t.class="class",t.enum="enum",t.interface="interface",t.struct="struct",t.typeParameter="typeParameter",t.parameter="parameter",t.variable="variable",t.property="property",t.enumMember="enumMember",t.event="event",t.function="function",t.method="method",t.macro="macro",t.keyword="keyword",t.modifier="modifier",t.comment="comment",t.string="string",t.number="number",t.regexp="regexp",t.operator="operator"})(IR=de.SemanticTokenTypes||(de.SemanticTokenTypes={}));var FR;(function(t){t.declaration="declaration",t.definition="definition",t.readonly="readonly",t.static="static",t.deprecated="deprecated",t.abstract="abstract",t.async="async",t.modification="modification",t.documentation="documentation",t.defaultLibrary="defaultLibrary"})(FR=de.SemanticTokenModifiers||(de.SemanticTokenModifiers={}));var LR;(function(t){function e(r){let n=r;return n!==void 0&&(n.resultId===void 0||typeof n.resultId=="string")&&Array.isArray(n.data)&&(n.data.length===0||typeof n.data[0]=="number")}t.is=e})(LR=de.SemanticTokens||(de.SemanticTokens={}));var AR;(function(t){t.Relative="relative"})(AR=de.TokenFormat||(de.TokenFormat={}));var MR;(function(t){t.method="textDocument/semanticTokens",t.type=new oi.RegistrationType(t.method)})(MR=de.SemanticTokensRegistrationType||(de.SemanticTokensRegistrationType={}));var jR;(function(t){t.method="textDocument/semanticTokens/full",t.type=new oi.ProtocolRequestType(t.method)})(jR=de.SemanticTokensRequest||(de.SemanticTokensRequest={}));var $R;(function(t){t.method="textDocument/semanticTokens/full/delta",t.type=new oi.ProtocolRequestType(t.method)})($R=de.SemanticTokensDeltaRequest||(de.SemanticTokensDeltaRequest={}));var WR;(function(t){t.method="textDocument/semanticTokens/range",t.type=new oi.ProtocolRequestType(t.method)})(WR=de.SemanticTokensRangeRequest||(de.SemanticTokensRangeRequest={}));var HR;(function(t){t.method="workspace/semanticTokens/refresh",t.type=new oi.ProtocolRequestType0(t.method)})(HR=de.SemanticTokensRefreshRequest||(de.SemanticTokensRefreshRequest={}))});var sf=E(si=>{"use strict";Object.defineProperty(si,"__esModule",{value:!0});si.ShowDocumentRequest=void 0;var UR=$e(),zR;(function(t){t.method="window/showDocument",t.type=new UR.ProtocolRequestType(t.method)})(zR=si.ShowDocumentRequest||(si.ShowDocumentRequest={}))});var af=E(ai=>{"use strict";Object.defineProperty(ai,"__esModule",{value:!0});ai.LinkedEditingRangeRequest=void 0;var KR=$e(),BR;(function(t){t.method="textDocument/linkedEditingRange",t.type=new KR.ProtocolRequestType(t.method)})(BR=ai.LinkedEditingRangeRequest||(ai.LinkedEditingRangeRequest={}))});var uf=E(Ce=>{"use strict";Object.defineProperty(Ce,"__esModule",{value:!0});Ce.WillDeleteFilesRequest=Ce.DidDeleteFilesNotification=Ce.DidRenameFilesNotification=Ce.WillRenameFilesRequest=Ce.DidCreateFilesNotification=Ce.WillCreateFilesRequest=Ce.FileOperationPatternKind=void 0;var vn=$e(),GR;(function(t){t.file="file",t.folder="folder"})(GR=Ce.FileOperationPatternKind||(Ce.FileOperationPatternKind={}));var VR;(function(t){t.method="workspace/willCreateFiles",t.type=new vn.ProtocolRequestType(t.method)})(VR=Ce.WillCreateFilesRequest||(Ce.WillCreateFilesRequest={}));var XR;(function(t){t.method="workspace/didCreateFiles",t.type=new vn.ProtocolNotificationType(t.method)})(XR=Ce.DidCreateFilesNotification||(Ce.DidCreateFilesNotification={}));var JR;(function(t){t.method="workspace/willRenameFiles",t.type=new vn.ProtocolRequestType(t.method)})(JR=Ce.WillRenameFilesRequest||(Ce.WillRenameFilesRequest={}));var YR;(function(t){t.method="workspace/didRenameFiles",t.type=new vn.ProtocolNotificationType(t.method)})(YR=Ce.DidRenameFilesNotification||(Ce.DidRenameFilesNotification={}));var QR;(function(t){t.method="workspace/didDeleteFiles",t.type=new vn.ProtocolNotificationType(t.method)})(QR=Ce.DidDeleteFilesNotification||(Ce.DidDeleteFilesNotification={}));var ZR;(function(t){t.method="workspace/willDeleteFiles",t.type=new vn.ProtocolRequestType(t.method)})(ZR=Ce.WillDeleteFilesRequest||(Ce.WillDeleteFilesRequest={}))});var cf=E(Nt=>{"use strict";Object.defineProperty(Nt,"__esModule",{value:!0});Nt.MonikerRequest=Nt.MonikerKind=Nt.UniquenessLevel=void 0;var ew=$e(),tw;(function(t){t.document="document",t.project="project",t.group="group",t.scheme="scheme",t.global="global"})(tw=Nt.UniquenessLevel||(Nt.UniquenessLevel={}));var rw;(function(t){t.import="import",t.export="export",t.local="local"})(rw=Nt.MonikerKind||(Nt.MonikerKind={}));var nw;(function(t){t.method="textDocument/moniker",t.type=new ew.ProtocolRequestType(t.method)})(nw=Nt.MonikerRequest||(Nt.MonikerRequest={}))});var pf=E(p=>{"use strict";Object.defineProperty(p,"__esModule",{value:!0});p.DocumentLinkRequest=p.CodeLensRefreshRequest=p.CodeLensResolveRequest=p.CodeLensRequest=p.WorkspaceSymbolRequest=p.CodeActionResolveRequest=p.CodeActionRequest=p.DocumentSymbolRequest=p.DocumentHighlightRequest=p.ReferencesRequest=p.DefinitionRequest=p.SignatureHelpRequest=p.SignatureHelpTriggerKind=p.HoverRequest=p.CompletionResolveRequest=p.CompletionRequest=p.CompletionTriggerKind=p.PublishDiagnosticsNotification=p.WatchKind=p.FileChangeType=p.DidChangeWatchedFilesNotification=p.WillSaveTextDocumentWaitUntilRequest=p.WillSaveTextDocumentNotification=p.TextDocumentSaveReason=p.DidSaveTextDocumentNotification=p.DidCloseTextDocumentNotification=p.DidChangeTextDocumentNotification=p.TextDocumentContentChangeEvent=p.DidOpenTextDocumentNotification=p.TextDocumentSyncKind=p.TelemetryEventNotification=p.LogMessageNotification=p.ShowMessageRequest=p.ShowMessageNotification=p.MessageType=p.DidChangeConfigurationNotification=p.ExitNotification=p.ShutdownRequest=p.InitializedNotification=p.InitializeError=p.InitializeRequest=p.WorkDoneProgressOptions=p.TextDocumentRegistrationOptions=p.StaticRegistrationOptions=p.FailureHandlingKind=p.ResourceOperationKind=p.UnregistrationRequest=p.RegistrationRequest=p.DocumentSelector=p.DocumentFilter=void 0;p.MonikerRequest=p.MonikerKind=p.UniquenessLevel=p.WillDeleteFilesRequest=p.DidDeleteFilesNotification=p.WillRenameFilesRequest=p.DidRenameFilesNotification=p.WillCreateFilesRequest=p.DidCreateFilesNotification=p.FileOperationPatternKind=p.LinkedEditingRangeRequest=p.ShowDocumentRequest=p.SemanticTokensRegistrationType=p.SemanticTokensRefreshRequest=p.SemanticTokensRangeRequest=p.SemanticTokensDeltaRequest=p.SemanticTokensRequest=p.TokenFormat=p.SemanticTokens=p.SemanticTokenModifiers=p.SemanticTokenTypes=p.CallHierarchyPrepareRequest=p.CallHierarchyOutgoingCallsRequest=p.CallHierarchyIncomingCallsRequest=p.WorkDoneProgressCancelNotification=p.WorkDoneProgressCreateRequest=p.WorkDoneProgress=p.SelectionRangeRequest=p.DeclarationRequest=p.FoldingRangeRequest=p.ColorPresentationRequest=p.DocumentColorRequest=p.ConfigurationRequest=p.DidChangeWorkspaceFoldersNotification=p.WorkspaceFoldersRequest=p.TypeDefinitionRequest=p.ImplementationRequest=p.ApplyWorkspaceEditRequest=p.ExecuteCommandRequest=p.PrepareRenameRequest=p.RenameRequest=p.PrepareSupportDefaultBehavior=p.DocumentOnTypeFormattingRequest=p.DocumentRangeFormattingRequest=p.DocumentFormattingRequest=p.DocumentLinkResolveRequest=void 0;var _r=zd(),X=$e(),iw=Kd();Object.defineProperty(p,"ImplementationRequest",{enumerable:!0,get:function(){return iw.ImplementationRequest}});var ow=Bd();Object.defineProperty(p,"TypeDefinitionRequest",{enumerable:!0,get:function(){return ow.TypeDefinitionRequest}});var lf=Vd();Object.defineProperty(p,"WorkspaceFoldersRequest",{enumerable:!0,get:function(){return lf.WorkspaceFoldersRequest}});Object.defineProperty(p,"DidChangeWorkspaceFoldersNotification",{enumerable:!0,get:function(){return lf.DidChangeWorkspaceFoldersNotification}});var sw=Xd();Object.defineProperty(p,"ConfigurationRequest",{enumerable:!0,get:function(){return sw.ConfigurationRequest}});var df=Yd();Object.defineProperty(p,"DocumentColorRequest",{enumerable:!0,get:function(){return df.DocumentColorRequest}});Object.defineProperty(p,"ColorPresentationRequest",{enumerable:!0,get:function(){return df.ColorPresentationRequest}});var aw=Qd();Object.defineProperty(p,"FoldingRangeRequest",{enumerable:!0,get:function(){return aw.FoldingRangeRequest}});var uw=Zd();Object.defineProperty(p,"DeclarationRequest",{enumerable:!0,get:function(){return uw.DeclarationRequest}});var cw=ef();Object.defineProperty(p,"SelectionRangeRequest",{enumerable:!0,get:function(){return cw.SelectionRangeRequest}});var Ks=rf();Object.defineProperty(p,"WorkDoneProgress",{enumerable:!0,get:function(){return Ks.WorkDoneProgress}});Object.defineProperty(p,"WorkDoneProgressCreateRequest",{enumerable:!0,get:function(){return Ks.WorkDoneProgressCreateRequest}});Object.defineProperty(p,"WorkDoneProgressCancelNotification",{enumerable:!0,get:function(){return Ks.WorkDoneProgressCancelNotification}});var Bs=nf();Object.defineProperty(p,"CallHierarchyIncomingCallsRequest",{enumerable:!0,get:function(){return Bs.CallHierarchyIncomingCallsRequest}});Object.defineProperty(p,"CallHierarchyOutgoingCallsRequest",{enumerable:!0,get:function(){return Bs.CallHierarchyOutgoingCallsRequest}});Object.defineProperty(p,"CallHierarchyPrepareRequest",{enumerable:!0,get:function(){return Bs.CallHierarchyPrepareRequest}});var rr=of();Object.defineProperty(p,"SemanticTokenTypes",{enumerable:!0,get:function(){return rr.SemanticTokenTypes}});Object.defineProperty(p,"SemanticTokenModifiers",{enumerable:!0,get:function(){return rr.SemanticTokenModifiers}});Object.defineProperty(p,"SemanticTokens",{enumerable:!0,get:function(){return rr.SemanticTokens}});Object.defineProperty(p,"TokenFormat",{enumerable:!0,get:function(){return rr.TokenFormat}});Object.defineProperty(p,"SemanticTokensRequest",{enumerable:!0,get:function(){return rr.SemanticTokensRequest}});Object.defineProperty(p,"SemanticTokensDeltaRequest",{enumerable:!0,get:function(){return rr.SemanticTokensDeltaRequest}});Object.defineProperty(p,"SemanticTokensRangeRequest",{enumerable:!0,get:function(){return rr.SemanticTokensRangeRequest}});Object.defineProperty(p,"SemanticTokensRefreshRequest",{enumerable:!0,get:function(){return rr.SemanticTokensRefreshRequest}});Object.defineProperty(p,"SemanticTokensRegistrationType",{enumerable:!0,get:function(){return rr.SemanticTokensRegistrationType}});var lw=sf();Object.defineProperty(p,"ShowDocumentRequest",{enumerable:!0,get:function(){return lw.ShowDocumentRequest}});var dw=af();Object.defineProperty(p,"LinkedEditingRangeRequest",{enumerable:!0,get:function(){return dw.LinkedEditingRangeRequest}});var Kr=uf();Object.defineProperty(p,"FileOperationPatternKind",{enumerable:!0,get:function(){return Kr.FileOperationPatternKind}});Object.defineProperty(p,"DidCreateFilesNotification",{enumerable:!0,get:function(){return Kr.DidCreateFilesNotification}});Object.defineProperty(p,"WillCreateFilesRequest",{enumerable:!0,get:function(){return Kr.WillCreateFilesRequest}});Object.defineProperty(p,"DidRenameFilesNotification",{enumerable:!0,get:function(){return Kr.DidRenameFilesNotification}});Object.defineProperty(p,"WillRenameFilesRequest",{enumerable:!0,get:function(){return Kr.WillRenameFilesRequest}});Object.defineProperty(p,"DidDeleteFilesNotification",{enumerable:!0,get:function(){return Kr.DidDeleteFilesNotification}});Object.defineProperty(p,"WillDeleteFilesRequest",{enumerable:!0,get:function(){return Kr.WillDeleteFilesRequest}});var Gs=cf();Object.defineProperty(p,"UniquenessLevel",{enumerable:!0,get:function(){return Gs.UniquenessLevel}});Object.defineProperty(p,"MonikerKind",{enumerable:!0,get:function(){return Gs.MonikerKind}});Object.defineProperty(p,"MonikerRequest",{enumerable:!0,get:function(){return Gs.MonikerRequest}});var ff;(function(t){function e(r){let n=r;return _r.string(n.language)||_r.string(n.scheme)||_r.string(n.pattern)}t.is=e})(ff=p.DocumentFilter||(p.DocumentFilter={}));var hf;(function(t){function e(r){if(!Array.isArray(r))return!1;for(let n of r)if(!_r.string(n)&&!ff.is(n))return!1;return!0}t.is=e})(hf=p.DocumentSelector||(p.DocumentSelector={}));var fw;(function(t){t.type=new X.ProtocolRequestType("client/registerCapability")})(fw=p.RegistrationRequest||(p.RegistrationRequest={}));var hw;(function(t){t.type=new X.ProtocolRequestType("client/unregisterCapability")})(hw=p.UnregistrationRequest||(p.UnregistrationRequest={}));var pw;(function(t){t.Create="create",t.Rename="rename",t.Delete="delete"})(pw=p.ResourceOperationKind||(p.ResourceOperationKind={}));var gw;(function(t){t.Abort="abort",t.Transactional="transactional",t.TextOnlyTransactional="textOnlyTransactional",t.Undo="undo"})(gw=p.FailureHandlingKind||(p.FailureHandlingKind={}));var mw;(function(t){function e(r){let n=r;return n&&_r.string(n.id)&&n.id.length>0}t.hasId=e})(mw=p.StaticRegistrationOptions||(p.StaticRegistrationOptions={}));var vw;(function(t){function e(r){let n=r;return n&&(n.documentSelector===null||hf.is(n.documentSelector))}t.is=e})(vw=p.TextDocumentRegistrationOptions||(p.TextDocumentRegistrationOptions={}));var yw;(function(t){function e(n){let i=n;return _r.objectLiteral(i)&&(i.workDoneProgress===void 0||_r.boolean(i.workDoneProgress))}t.is=e;function r(n){let i=n;return i&&_r.boolean(i.workDoneProgress)}t.hasWorkDoneProgress=r})(yw=p.WorkDoneProgressOptions||(p.WorkDoneProgressOptions={}));var _w;(function(t){t.type=new X.ProtocolRequestType("initialize")})(_w=p.InitializeRequest||(p.InitializeRequest={}));var Rw;(function(t){t.unknownProtocolVersion=1})(Rw=p.InitializeError||(p.InitializeError={}));var ww;(function(t){t.type=new X.ProtocolNotificationType("initialized")})(ww=p.InitializedNotification||(p.InitializedNotification={}));var bw;(function(t){t.type=new X.ProtocolRequestType0("shutdown")})(bw=p.ShutdownRequest||(p.ShutdownRequest={}));var Cw;(function(t){t.type=new X.ProtocolNotificationType0("exit")})(Cw=p.ExitNotification||(p.ExitNotification={}));var Sw;(function(t){t.type=new X.ProtocolNotificationType("workspace/didChangeConfiguration")})(Sw=p.DidChangeConfigurationNotification||(p.DidChangeConfigurationNotification={}));var Tw;(function(t){t.Error=1,t.Warning=2,t.Info=3,t.Log=4})(Tw=p.MessageType||(p.MessageType={}));var Ew;(function(t){t.type=new X.ProtocolNotificationType("window/showMessage")})(Ew=p.ShowMessageNotification||(p.ShowMessageNotification={}));var Pw;(function(t){t.type=new X.ProtocolRequestType("window/showMessageRequest")})(Pw=p.ShowMessageRequest||(p.ShowMessageRequest={}));var Dw;(function(t){t.type=new X.ProtocolNotificationType("window/logMessage")})(Dw=p.LogMessageNotification||(p.LogMessageNotification={}));var qw;(function(t){t.type=new X.ProtocolNotificationType("telemetry/event")})(qw=p.TelemetryEventNotification||(p.TelemetryEventNotification={}));var Ow;(function(t){t.None=0,t.Full=1,t.Incremental=2})(Ow=p.TextDocumentSyncKind||(p.TextDocumentSyncKind={}));var xw;(function(t){t.method="textDocument/didOpen",t.type=new X.ProtocolNotificationType(t.method)})(xw=p.DidOpenTextDocumentNotification||(p.DidOpenTextDocumentNotification={}));var kw;(function(t){function e(n){let i=n;return i!=null&&typeof i.text=="string"&&i.range!==void 0&&(i.rangeLength===void 0||typeof i.rangeLength=="number")}t.isIncremental=e;function r(n){let i=n;return i!=null&&typeof i.text=="string"&&i.range===void 0&&i.rangeLength===void 0}t.isFull=r})(kw=p.TextDocumentContentChangeEvent||(p.TextDocumentContentChangeEvent={}));var Nw;(function(t){t.method="textDocument/didChange",t.type=new X.ProtocolNotificationType(t.method)})(Nw=p.DidChangeTextDocumentNotification||(p.DidChangeTextDocumentNotification={}));var Iw;(function(t){t.method="textDocument/didClose",t.type=new X.ProtocolNotificationType(t.method)})(Iw=p.DidCloseTextDocumentNotification||(p.DidCloseTextDocumentNotification={}));var Fw;(function(t){t.method="textDocument/didSave",t.type=new X.ProtocolNotificationType(t.method)})(Fw=p.DidSaveTextDocumentNotification||(p.DidSaveTextDocumentNotification={}));var Lw;(function(t){t.Manual=1,t.AfterDelay=2,t.FocusOut=3})(Lw=p.TextDocumentSaveReason||(p.TextDocumentSaveReason={}));var Aw;(function(t){t.method="textDocument/willSave",t.type=new X.ProtocolNotificationType(t.method)})(Aw=p.WillSaveTextDocumentNotification||(p.WillSaveTextDocumentNotification={}));var Mw;(function(t){t.method="textDocument/willSaveWaitUntil",t.type=new X.ProtocolRequestType(t.method)})(Mw=p.WillSaveTextDocumentWaitUntilRequest||(p.WillSaveTextDocumentWaitUntilRequest={}));var jw;(function(t){t.type=new X.ProtocolNotificationType("workspace/didChangeWatchedFiles")})(jw=p.DidChangeWatchedFilesNotification||(p.DidChangeWatchedFilesNotification={}));var $w;(function(t){t.Created=1,t.Changed=2,t.Deleted=3})($w=p.FileChangeType||(p.FileChangeType={}));var Ww;(function(t){t.Create=1,t.Change=2,t.Delete=4})(Ww=p.WatchKind||(p.WatchKind={}));var Hw;(function(t){t.type=new X.ProtocolNotificationType("textDocument/publishDiagnostics")})(Hw=p.PublishDiagnosticsNotification||(p.PublishDiagnosticsNotification={}));var Uw;(function(t){t.Invoked=1,t.TriggerCharacter=2,t.TriggerForIncompleteCompletions=3})(Uw=p.CompletionTriggerKind||(p.CompletionTriggerKind={}));var zw;(function(t){t.method="textDocument/completion",t.type=new X.ProtocolRequestType(t.method)})(zw=p.CompletionRequest||(p.CompletionRequest={}));var Kw;(function(t){t.method="completionItem/resolve",t.type=new X.ProtocolRequestType(t.method)})(Kw=p.CompletionResolveRequest||(p.CompletionResolveRequest={}));var Bw;(function(t){t.method="textDocument/hover",t.type=new X.ProtocolRequestType(t.method)})(Bw=p.HoverRequest||(p.HoverRequest={}));var Gw;(function(t){t.Invoked=1,t.TriggerCharacter=2,t.ContentChange=3})(Gw=p.SignatureHelpTriggerKind||(p.SignatureHelpTriggerKind={}));var Vw;(function(t){t.method="textDocument/signatureHelp",t.type=new X.ProtocolRequestType(t.method)})(Vw=p.SignatureHelpRequest||(p.SignatureHelpRequest={}));var Xw;(function(t){t.method="textDocument/definition",t.type=new X.ProtocolRequestType(t.method)})(Xw=p.DefinitionRequest||(p.DefinitionRequest={}));var Jw;(function(t){t.method="textDocument/references",t.type=new X.ProtocolRequestType(t.method)})(Jw=p.ReferencesRequest||(p.ReferencesRequest={}));var Yw;(function(t){t.method="textDocument/documentHighlight",t.type=new X.ProtocolRequestType(t.method)})(Yw=p.DocumentHighlightRequest||(p.DocumentHighlightRequest={}));var Qw;(function(t){t.method="textDocument/documentSymbol",t.type=new X.ProtocolRequestType(t.method)})(Qw=p.DocumentSymbolRequest||(p.DocumentSymbolRequest={}));var Zw;(function(t){t.method="textDocument/codeAction",t.type=new X.ProtocolRequestType(t.method)})(Zw=p.CodeActionRequest||(p.CodeActionRequest={}));var eb;(function(t){t.method="codeAction/resolve",t.type=new X.ProtocolRequestType(t.method)})(eb=p.CodeActionResolveRequest||(p.CodeActionResolveRequest={}));var tb;(function(t){t.method="workspace/symbol",t.type=new X.ProtocolRequestType(t.method)})(tb=p.WorkspaceSymbolRequest||(p.WorkspaceSymbolRequest={}));var rb;(function(t){t.method="textDocument/codeLens",t.type=new X.ProtocolRequestType(t.method)})(rb=p.CodeLensRequest||(p.CodeLensRequest={}));var nb;(function(t){t.method="codeLens/resolve",t.type=new X.ProtocolRequestType(t.method)})(nb=p.CodeLensResolveRequest||(p.CodeLensResolveRequest={}));var ib;(function(t){t.method="workspace/codeLens/refresh",t.type=new X.ProtocolRequestType0(t.method)})(ib=p.CodeLensRefreshRequest||(p.CodeLensRefreshRequest={}));var ob;(function(t){t.method="textDocument/documentLink",t.type=new X.ProtocolRequestType(t.method)})(ob=p.DocumentLinkRequest||(p.DocumentLinkRequest={}));var sb;(function(t){t.method="documentLink/resolve",t.type=new X.ProtocolRequestType(t.method)})(sb=p.DocumentLinkResolveRequest||(p.DocumentLinkResolveRequest={}));var ab;(function(t){t.method="textDocument/formatting",t.type=new X.ProtocolRequestType(t.method)})(ab=p.DocumentFormattingRequest||(p.DocumentFormattingRequest={}));var ub;(function(t){t.method="textDocument/rangeFormatting",t.type=new X.ProtocolRequestType(t.method)})(ub=p.DocumentRangeFormattingRequest||(p.DocumentRangeFormattingRequest={}));var cb;(function(t){t.method="textDocument/onTypeFormatting",t.type=new X.ProtocolRequestType(t.method)})(cb=p.DocumentOnTypeFormattingRequest||(p.DocumentOnTypeFormattingRequest={}));var lb;(function(t){t.Identifier=1})(lb=p.PrepareSupportDefaultBehavior||(p.PrepareSupportDefaultBehavior={}));var db;(function(t){t.method="textDocument/rename",t.type=new X.ProtocolRequestType(t.method)})(db=p.RenameRequest||(p.RenameRequest={}));var fb;(function(t){t.method="textDocument/prepareRename",t.type=new X.ProtocolRequestType(t.method)})(fb=p.PrepareRenameRequest||(p.PrepareRenameRequest={}));var hb;(function(t){t.type=new X.ProtocolRequestType("workspace/executeCommand")})(hb=p.ExecuteCommandRequest||(p.ExecuteCommandRequest={}));var pb;(function(t){t.type=new X.ProtocolRequestType("workspace/applyEdit")})(pb=p.ApplyWorkspaceEditRequest||(p.ApplyWorkspaceEditRequest={}))});var mf=E(eo=>{"use strict";Object.defineProperty(eo,"__esModule",{value:!0});eo.createProtocolConnection=void 0;var gf=gn();function gb(t,e,r,n){return gf.ConnectionStrategy.is(n)&&(n={connectionStrategy:n}),gf.createMessageConnection(t,e,r,n)}eo.createProtocolConnection=gb});var vf=E(tt=>{"use strict";var mb=tt&&tt.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),to=tt&&tt.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&mb(e,t,r)};Object.defineProperty(tt,"__esModule",{value:!0});tt.LSPErrorCodes=tt.createProtocolConnection=void 0;to(gn(),tt);to(Ld(),tt);to($e(),tt);to(pf(),tt);var vb=mf();Object.defineProperty(tt,"createProtocolConnection",{enumerable:!0,get:function(){return vb.createProtocolConnection}});var yb;(function(t){t.lspReservedErrorRangeStart=-32899,t.ContentModified=-32801,t.RequestCancelled=-32800,t.lspReservedErrorRangeEnd=-32800})(yb=tt.LSPErrorCodes||(tt.LSPErrorCodes={}))});var Se=E(jt=>{"use strict";var _b=jt&&jt.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),yf=jt&&jt.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&_b(e,t,r)};Object.defineProperty(jt,"__esModule",{value:!0});jt.createProtocolConnection=void 0;var Rb=Us();yf(Us(),jt);yf(vf(),jt);function wb(t,e,r,n){return Rb.createMessageConnection(t,e,r,n)}jt.createProtocolConnection=wb});var Xs=E(_n=>{"use strict";Object.defineProperty(_n,"__esModule",{value:!0});_n.toJSONObject=_n.ConfigurationFeature=void 0;var Vs=require("vscode"),bb=Se(),_f=class{constructor(e){this._client=e}fillClientCapabilities(e){e.workspace=e.workspace||{},e.workspace.configuration=!0}initialize(){let e=this._client;e.onRequest(bb.ConfigurationRequest.type,(r,n)=>{let i=s=>{let d=[];for(let c of s.items){let h=c.scopeUri!==void 0&&c.scopeUri!==null?this._client.protocol2CodeConverter.asUri(c.scopeUri):void 0;d.push(this.getConfiguration(h,c.section!==null?c.section:void 0))}return d},o=e.clientOptions.middleware.workspace;return o&&o.configuration?o.configuration(r,n,i):i(r,n)})}getConfiguration(e,r){let n=null;if(r){let i=r.lastIndexOf(".");if(i===-1)n=yn(Vs.workspace.getConfiguration(void 0,e).get(r));else{let o=Vs.workspace.getConfiguration(r.substr(0,i),e);o&&(n=yn(o.get(r.substr(i+1))))}}else{let i=Vs.workspace.getConfiguration(void 0,e);n={};for(let o of Object.keys(i))i.has(o)&&(n[o]=yn(i.get(o)))}return n===void 0&&(n=null),n}dispose(){}};_n.ConfigurationFeature=_f;function yn(t){if(t){if(Array.isArray(t))return t.map(yn);if(typeof t=="object"){let e=Object.create(null);for(let r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=yn(t[r]));return e}}return t}_n.toJSONObject=yn});var Ys=E(Js=>{"use strict";Object.defineProperty(Js,"__esModule",{value:!0});var Cb=require("vscode"),Rf=class extends Cb.CompletionItem{constructor(e){super(e)}};Js.default=Rf});var Zs=E(Qs=>{"use strict";Object.defineProperty(Qs,"__esModule",{value:!0});var Sb=require("vscode"),wf=class extends Sb.CodeLens{constructor(e){super(e)}};Qs.default=wf});var ta=E(ea=>{"use strict";Object.defineProperty(ea,"__esModule",{value:!0});var Tb=require("vscode"),bf=class extends Tb.DocumentLink{constructor(e,r){super(e,r)}};ea.default=bf});var na=E(ra=>{"use strict";Object.defineProperty(ra,"__esModule",{value:!0});var Eb=require("vscode"),Cf=class extends Eb.CodeAction{constructor(e,r){super(e);this.data=r}};ra.default=Cf});var oa=E(Br=>{"use strict";Object.defineProperty(Br,"__esModule",{value:!0});Br.ProtocolDiagnostic=Br.DiagnosticCode=void 0;var Pb=require("vscode"),ia=gr(),Db;(function(t){function e(r){let n=r;return n!=null&&(ia.number(n.value)||ia.string(n.value))&&ia.string(n.target)}t.is=e})(Db=Br.DiagnosticCode||(Br.DiagnosticCode={}));var Sf=class extends Pb.Diagnostic{constructor(e,r,n,i){super(e,r,n);this.data=i,this.hasDiagnosticCode=!1}};Br.ProtocolDiagnostic=Sf});var aa=E(sa=>{"use strict";Object.defineProperty(sa,"__esModule",{value:!0});var qb=require("vscode"),Tf=class extends qb.CallHierarchyItem{constructor(e,r,n,i,o,s,d){super(e,r,n,i,o,s);d!==void 0&&(this.data=d)}};sa.default=Tf});var Pf=E(ro=>{"use strict";Object.defineProperty(ro,"__esModule",{value:!0});ro.createConverter=void 0;var We=require("vscode"),ue=Se(),ui=gr(),Ob=Ys(),xb=Zs(),kb=ta(),Nb=na(),Ef=oa(),Ib=aa(),Fb=Se(),ua;(function(t){function e(r){let n=r;return n&&!!n.inserting&&!!n.replacing}t.is=e})(ua||(ua={}));function Lb(t){let r=t||(a=>a.toString());function n(a){return r(a)}function i(a){return{uri:r(a.uri)}}function o(a){return{uri:r(a.uri),version:a.version}}function s(a){return{textDocument:{uri:r(a.uri),languageId:a.languageId,version:a.version,text:a.getText()}}}function d(a){let u=a;return!!u.document&&!!u.contentChanges}function c(a){let u=a;return!!u.uri&&!!u.version}function h(a){if(c(a))return{textDocument:{uri:r(a.uri),version:a.version},contentChanges:[{text:a.getText()}]};if(d(a)){let u=a.document;return{textDocument:{uri:r(u.uri),version:u.version},contentChanges:a.contentChanges.map(T=>{let F=T.range;return{range:{start:{line:F.start.line,character:F.start.character},end:{line:F.end.line,character:F.end.character}},rangeLength:T.rangeLength,text:T.text}})}}else throw Error("Unsupported text document change parameter")}function m(a){return{textDocument:i(a)}}function v(a,u=!1){let R={textDocument:i(a)};return u&&(R.text=a.getText()),R}function w(a){switch(a){case We.TextDocumentSaveReason.Manual:return ue.TextDocumentSaveReason.Manual;case We.TextDocumentSaveReason.AfterDelay:return ue.TextDocumentSaveReason.AfterDelay;case We.TextDocumentSaveReason.FocusOut:return ue.TextDocumentSaveReason.FocusOut}return ue.TextDocumentSaveReason.Manual}function C(a){return{textDocument:i(a.document),reason:w(a.reason)}}function N(a){return{files:a.files.map(u=>({uri:r(u)}))}}function I(a){return{files:a.files.map(u=>({oldUri:r(u.oldUri),newUri:r(u.newUri)}))}}function L(a){return{files:a.files.map(u=>({uri:r(u)}))}}function O(a){return{files:a.files.map(u=>({uri:r(u)}))}}function x(a){return{files:a.files.map(u=>({oldUri:r(u.oldUri),newUri:r(u.newUri)}))}}function P(a){return{files:a.files.map(u=>({uri:r(u)}))}}function q(a,u){return{textDocument:i(a),position:nt(u)}}function U(a){switch(a){case We.CompletionTriggerKind.TriggerCharacter:return ue.CompletionTriggerKind.TriggerCharacter;case We.CompletionTriggerKind.TriggerForIncompleteCompletions:return ue.CompletionTriggerKind.TriggerForIncompleteCompletions;default:return ue.CompletionTriggerKind.Invoked}}function he(a,u,R){return{textDocument:i(a),position:nt(u),context:{triggerKind:U(R.triggerKind),triggerCharacter:R.triggerCharacter}}}function be(a){switch(a){case We.SignatureHelpTriggerKind.Invoke:return ue.SignatureHelpTriggerKind.Invoked;case We.SignatureHelpTriggerKind.TriggerCharacter:return ue.SignatureHelpTriggerKind.TriggerCharacter;case We.SignatureHelpTriggerKind.ContentChange:return ue.SignatureHelpTriggerKind.ContentChange}}function ye(a){return{label:a.label}}function ce(a){return a.map(ye)}function oe(a){return{label:a.label,parameters:ce(a.parameters)}}function ae(a){return a.map(oe)}function Te(a){return a===void 0?a:{signatures:ae(a.signatures),activeSignature:a.activeSignature,activeParameter:a.activeParameter}}function Ye(a,u,R){return{textDocument:i(a),position:nt(u),context:{isRetrigger:R.isRetrigger,triggerCharacter:R.triggerCharacter,triggerKind:be(R.triggerKind),activeSignatureHelp:Te(R.activeSignatureHelp)}}}function nt(a){return{line:a.line,character:a.character}}function Qe(a){return a==null?a:{line:a.line,character:a.character}}function lt(a){let u=[];for(let R of a)u.push(Qe(R));return u}function me(a){return a==null?a:{start:Qe(a.start),end:Qe(a.end)}}function Et(a){return a==null?a:ue.Location.create(n(a.uri),me(a.range))}function Ae(a){switch(a){case We.DiagnosticSeverity.Error:return ue.DiagnosticSeverity.Error;case We.DiagnosticSeverity.Warning:return ue.DiagnosticSeverity.Warning;case We.DiagnosticSeverity.Information:return ue.DiagnosticSeverity.Information;case We.DiagnosticSeverity.Hint:return ue.DiagnosticSeverity.Hint}}function at(a){if(!a)return;let u=[];for(let R of a){let T=dt(R);T!==void 0&&u.push(T)}return u.length>0?u:void 0}function dt(a){switch(a){case We.DiagnosticTag.Unnecessary:return ue.DiagnosticTag.Unnecessary;case We.DiagnosticTag.Deprecated:return ue.DiagnosticTag.Deprecated;default:return}}function Pt(a){return{message:a.message,location:Et(a.location)}}function ar(a){return a.map(Pt)}function ur(a){if(a!=null)return ui.number(a)||ui.string(a)?a:{value:a.value,target:n(a.target)}}function Kt(a){let u=ue.Diagnostic.create(me(a.range),a.message),R=a instanceof Ef.ProtocolDiagnostic?a:void 0;R!==void 0&&R.data!==void 0&&(u.data=R.data);let T=ur(a.code);return Ef.DiagnosticCode.is(T)?R!==void 0&&R.hasDiagnosticCode?u.code=T:(u.code=T.value,u.codeDescription={href:T.target}):u.code=T,ui.number(a.severity)&&(u.severity=Ae(a.severity)),Array.isArray(a.tags)&&(u.tags=at(a.tags)),a.relatedInformation&&(u.relatedInformation=ar(a.relatedInformation)),a.source&&(u.source=a.source),u}function Bt(a){return a==null?a:a.map(Kt)}function Lt(a,u){switch(a){case"$string":return u;case ue.MarkupKind.PlainText:return{kind:a,value:u};case ue.MarkupKind.Markdown:return{kind:a,value:u.value};default:return`Unsupported Markup content received. Kind is: ${a}`}}function At(a){switch(a){case We.CompletionItemTag.Deprecated:return ue.CompletionItemTag.Deprecated}}function Gt(a){if(a===void 0)return a;let u=[];for(let R of a){let T=At(R);T!==void 0&&u.push(T)}return u}function cr(a,u){return u!==void 0?u:a+1}function qr(a){let u={label:a.label},R=a instanceof Ob.default?a:void 0;a.detail&&(u.detail=a.detail),a.documentation&&(!R||R.documentationFormat==="$string"?u.documentation=a.documentation:u.documentation=Lt(R.documentationFormat,a.documentation)),a.filterText&&(u.filterText=a.filterText),ft(u,a),ui.number(a.kind)&&(u.kind=cr(a.kind,R&&R.originalItemKind)),a.sortText&&(u.sortText=a.sortText),a.additionalTextEdits&&(u.additionalTextEdits=Or(a.additionalTextEdits)),a.commitCharacters&&(u.commitCharacters=a.commitCharacters.slice()),a.command&&(u.command=gt(a.command)),(a.preselect===!0||a.preselect===!1)&&(u.preselect=a.preselect);let T=Gt(a.tags);if(R){if(R.data!==void 0&&(u.data=R.data),R.deprecated===!0||R.deprecated===!1){if(R.deprecated===!0&&T!==void 0&&T.length>0){let F=T.indexOf(We.CompletionItemTag.Deprecated);F!==-1&&T.splice(F,1)}u.deprecated=R.deprecated}R.insertTextMode!==void 0&&(u.insertTextMode=R.insertTextMode)}return T!==void 0&&T.length>0&&(u.tags=T),u.insertTextMode===void 0&&a.keepWhitespace===!0&&(u.insertTextMode=Fb.InsertTextMode.adjustIndentation),u}function ft(a,u){let R=ue.InsertTextFormat.PlainText,T,F;u.textEdit?(T=u.textEdit.newText,F=u.textEdit.range):u.insertText instanceof We.SnippetString?(R=ue.InsertTextFormat.Snippet,T=u.insertText.value):T=u.insertText,u.range&&(F=u.range),a.insertTextFormat=R,u.fromEdit&&T!==void 0&&F!==void 0?a.textEdit=lr(T,F):a.insertText=T}function lr(a,u){return ua.is(u)?ue.InsertReplaceEdit.create(a,me(u.inserting),me(u.replacing)):{newText:a,range:me(u)}}function ht(a){return{range:me(a.range),newText:a.newText}}function Or(a){return a==null?a:a.map(ht)}function De(a){return a<=We.SymbolKind.TypeParameter?a+1:ue.SymbolKind.Property}function it(a){return a}function dr(a){return a.map(it)}function xr(a,u,R){return{textDocument:i(a),position:nt(u),context:{includeDeclaration:R.includeDeclaration}}}function pt(a){let u=ue.CodeAction.create(a.title);if(a instanceof Nb.default&&a.data!==void 0&&(u.data=a.data),a.kind!==void 0&&(u.kind=Vt(a.kind)),a.diagnostics!==void 0&&(u.diagnostics=Bt(a.diagnostics)),a.edit!==void 0)throw new Error("VS Code code actions can only be converted to a protocol code action without an edit.");return a.command!==void 0&&(u.command=gt(a.command)),a.isPreferred!==void 0&&(u.isPreferred=a.isPreferred),a.disabled!==void 0&&(u.disabled={reason:a.disabled.reason}),u}function fr(a){if(a==null)return a;let u;return a.only&&ui.string(a.only.value)&&(u=[a.only.value]),ue.CodeActionContext.create(Bt(a.diagnostics),u)}function Vt(a){if(a!=null)return a.value}function gt(a){let u=ue.Command.create(a.title,a.command);return a.arguments&&(u.arguments=a.arguments),u}function Xt(a){let u=ue.CodeLens.create(me(a.range));return a.command&&(u.command=gt(a.command)),a instanceof xb.default&&a.data&&(u.data=a.data),u}function mt(a,u){let R={tabSize:a.tabSize,insertSpaces:a.insertSpaces};return u.trimTrailingWhitespace&&(R.trimTrailingWhitespace=!0),u.trimFinalNewlines&&(R.trimFinalNewlines=!0),u.insertFinalNewline&&(R.insertFinalNewline=!0),R}function b(a){return{textDocument:i(a)}}function g(a){return{textDocument:i(a)}}function f(a){let u=ue.DocumentLink.create(me(a.range));a.target&&(u.target=n(a.target)),a.tooltip!==void 0&&(u.tooltip=a.tooltip);let R=a instanceof kb.default?a:void 0;return R&&R.data&&(u.data=R.data),u}function y(a){return{textDocument:i(a)}}function S(a){let u={name:a.name,kind:De(a.kind),uri:n(a.uri),range:me(a.range),selectionRange:me(a.selectionRange)};return a.detail!==void 0&&a.detail.length>0&&(u.detail=a.detail),a.tags!==void 0&&(u.tags=dr(a.tags)),a instanceof Ib.default&&a.data!==void 0&&(u.data=a.data),u}return{asUri:n,asTextDocumentIdentifier:i,asVersionedTextDocumentIdentifier:o,asOpenTextDocumentParams:s,asChangeTextDocumentParams:h,asCloseTextDocumentParams:m,asSaveTextDocumentParams:v,asWillSaveTextDocumentParams:C,asDidCreateFilesParams:N,asDidRenameFilesParams:I,asDidDeleteFilesParams:L,asWillCreateFilesParams:O,asWillRenameFilesParams:x,asWillDeleteFilesParams:P,asTextDocumentPositionParams:q,asCompletionParams:he,asSignatureHelpParams:Ye,asWorkerPosition:nt,asRange:me,asPosition:Qe,asPositions:lt,asLocation:Et,asDiagnosticSeverity:Ae,asDiagnosticTag:dt,asDiagnostic:Kt,asDiagnostics:Bt,asCompletionItem:qr,asTextEdit:ht,asSymbolKind:De,asSymbolTag:it,asSymbolTags:dr,asReferenceParams:xr,asCodeAction:pt,asCodeActionContext:fr,asCommand:gt,asCodeLens:Xt,asFormattingOptions:mt,asDocumentSymbolParams:b,asCodeLensParams:g,asDocumentLink:f,asDocumentLinkParams:y,asCallHierarchyItem:S}}ro.createConverter=Lb});var Of=E(io=>{"use strict";Object.defineProperty(io,"__esModule",{value:!0});io.createConverter=void 0;var W=require("vscode"),Q=Se(),It=gr(),Ab=Ys(),Mb=Zs(),jb=ta(),$b=na(),Df=oa(),Wb=aa(),qf=Se(),no;(function(t){function e(r){let n=r;return n&&It.string(n.language)&&It.string(n.value)}t.is=e})(no||(no={}));function Hb(t,e){let n=t||(l=>W.Uri.parse(l));function i(l){return n(l)}function o(l){return l.map(s)}function s(l){let D=new Df.ProtocolDiagnostic(w(l.range),l.message,N(l.severity),l.data);return l.code!==void 0&&(Q.CodeDescription.is(l.codeDescription)?D.code={value:l.code,target:i(l.codeDescription.href)}:Df.DiagnosticCode.is(l.code)?(D.hasDiagnosticCode=!0,D.code={value:l.code.value,target:i(l.code.target)}):D.code=l.code),l.source&&(D.source=l.source),l.relatedInformation&&(D.relatedInformation=d(l.relatedInformation)),Array.isArray(l.tags)&&(D.tags=h(l.tags)),D}function d(l){return l.map(c)}function c(l){return new W.DiagnosticRelatedInformation(me(l.location),l.message)}function h(l){if(!l)return;let D=[];for(let K of l){let re=m(K);re!==void 0&&D.push(re)}return D.length>0?D:void 0}function m(l){switch(l){case Q.DiagnosticTag.Unnecessary:return W.DiagnosticTag.Unnecessary;case Q.DiagnosticTag.Deprecated:return W.DiagnosticTag.Deprecated;default:return}}function v(l){if(!!l)return new W.Position(l.line,l.character)}function w(l){if(!!l)return new W.Range(v(l.start),v(l.end))}function C(l){return l.map(D=>w(D))}function N(l){if(l==null)return W.DiagnosticSeverity.Error;switch(l){case Q.DiagnosticSeverity.Error:return W.DiagnosticSeverity.Error;case Q.DiagnosticSeverity.Warning:return W.DiagnosticSeverity.Warning;case Q.DiagnosticSeverity.Information:return W.DiagnosticSeverity.Information;case Q.DiagnosticSeverity.Hint:return W.DiagnosticSeverity.Hint}return W.DiagnosticSeverity.Error}function I(l){if(It.string(l))return O(l);if(no.is(l))return O().appendCodeblock(l.value,l.language);if(Array.isArray(l)){let D=[];for(let K of l){let re=O();no.is(K)?re.appendCodeblock(K.value,K.language):re.appendMarkdown(K),D.push(re)}return D}else{let D;switch(l.kind){case Q.MarkupKind.Markdown:return O(l.value);case Q.MarkupKind.PlainText:return D=O(),D.appendText(l.value),D;default:return D=O(),D.appendText(`Unsupported Markup content received. Kind is: ${l.kind}`),D}}}function L(l){if(It.string(l))return l;switch(l.kind){case Q.MarkupKind.Markdown:return O(l.value);case Q.MarkupKind.PlainText:return l.value;default:return`Unsupported Markup content received. Kind is: ${l.kind}`}}function O(l){let D=new W.MarkdownString(l);return e===!0&&(D.isTrusted=e),D}function x(l){if(!!l)return new W.Hover(I(l.contents),w(l.range))}function P(l){if(!l)return;if(Array.isArray(l))return l.map(be);let D=l;return new W.CompletionList(D.items.map(be),D.isIncomplete)}function q(l){return Q.CompletionItemKind.Text<=l&&l<=Q.CompletionItemKind.TypeParameter?[l-1,void 0]:[W.CompletionItemKind.Text,l]}function U(l){switch(l){case Q.CompletionItemTag.Deprecated:return W.CompletionItemTag.Deprecated}}function he(l){if(l==null)return[];let D=[];for(let K of l){let re=U(K);re!==void 0&&D.push(re)}return D}function be(l){let D=he(l.tags),K=new Ab.default(l.label);l.detail&&(K.detail=l.detail),l.documentation&&(K.documentation=L(l.documentation),K.documentationFormat=It.string(l.documentation)?"$string":l.documentation.kind),l.filterText&&(K.filterText=l.filterText);let re=ye(l);if(re&&(K.insertText=re.text,K.range=re.range,K.fromEdit=re.fromEdit),It.number(l.kind)){let[fe,Nr]=q(l.kind);K.kind=fe,Nr&&(K.originalItemKind=Nr)}return l.sortText&&(K.sortText=l.sortText),l.additionalTextEdits&&(K.additionalTextEdits=ae(l.additionalTextEdits)),It.stringArray(l.commitCharacters)&&(K.commitCharacters=l.commitCharacters.slice()),l.command&&(K.command=ht(l.command)),(l.deprecated===!0||l.deprecated===!1)&&(K.deprecated=l.deprecated,l.deprecated===!0&&D.push(W.CompletionItemTag.Deprecated)),(l.preselect===!0||l.preselect===!1)&&(K.preselect=l.preselect),l.data!==void 0&&(K.data=l.data),D.length>0&&(K.tags=D),l.insertTextMode!==void 0&&(K.insertTextMode=l.insertTextMode,l.insertTextMode===qf.InsertTextMode.asIs&&(K.keepWhitespace=!0)),K}function ye(l){return l.textEdit?l.insertTextFormat===Q.InsertTextFormat.Snippet?{text:new W.SnippetString(l.textEdit.newText),range:ce(l.textEdit),fromEdit:!0}:{text:l.textEdit.newText,range:ce(l.textEdit),fromEdit:!0}:l.insertText?l.insertTextFormat===Q.InsertTextFormat.Snippet?{text:new W.SnippetString(l.insertText),fromEdit:!1}:{text:l.insertText,fromEdit:!1}:void 0}function ce(l){return Q.InsertReplaceEdit.is(l)?{inserting:w(l.insert),replacing:w(l.replace)}:w(l.range)}function oe(l){if(!!l)return new W.TextEdit(w(l.range),l.newText)}function ae(l){if(!!l)return l.map(oe)}function Te(l){if(!l)return;let D=new W.SignatureHelp;return It.number(l.activeSignature)?D.activeSignature=l.activeSignature:D.activeSignature=0,It.number(l.activeParameter)?D.activeParameter=l.activeParameter:D.activeParameter=0,l.signatures&&(D.signatures=Ye(l.signatures)),D}function Ye(l){return l.map(nt)}function nt(l){let D=new W.SignatureInformation(l.label);return l.documentation!==void 0&&(D.documentation=L(l.documentation)),l.parameters!==void 0&&(D.parameters=Qe(l.parameters)),l.activeParameter!==void 0&&(D.activeParameter=l.activeParameter),D}function Qe(l){return l.map(lt)}function lt(l){let D=new W.ParameterInformation(l.label);return l.documentation&&(D.documentation=L(l.documentation)),D}function me(l){if(!!l)return new W.Location(n(l.uri),w(l.range))}function Et(l){if(!!l)return dt(l)}function Ae(l){if(!!l)return dt(l)}function at(l){if(!l)return;let D={targetUri:n(l.targetUri),targetRange:w(l.targetRange),originSelectionRange:w(l.originSelectionRange),targetSelectionRange:w(l.targetSelectionRange)};if(!D.targetSelectionRange)throw new Error("targetSelectionRange must not be undefined or null");return D}function dt(l){if(!!l)return It.array(l)?l.length===0?[]:Q.LocationLink.is(l[0])?l.map(K=>at(K)):l.map(K=>me(K)):Q.LocationLink.is(l)?[at(l)]:me(l)}function Pt(l){if(!!l)return l.map(D=>me(D))}function ar(l){if(!!l)return l.map(ur)}function ur(l){let D=new W.DocumentHighlight(w(l.range));return It.number(l.kind)&&(D.kind=Kt(l.kind)),D}function Kt(l){switch(l){case Q.DocumentHighlightKind.Text:return W.DocumentHighlightKind.Text;case Q.DocumentHighlightKind.Read:return W.DocumentHighlightKind.Read;case Q.DocumentHighlightKind.Write:return W.DocumentHighlightKind.Write}return W.DocumentHighlightKind.Text}function Bt(l,D){if(!!l)return l.map(K=>cr(K,D))}function Lt(l){return l<=Q.SymbolKind.TypeParameter?l-1:W.SymbolKind.Property}function At(l){switch(l){case Q.SymbolTag.Deprecated:return W.SymbolTag.Deprecated;default:return}}function Gt(l){if(l==null)return;let D=[];for(let K of l){let re=At(K);re!==void 0&&D.push(re)}return D.length===0?void 0:D}function cr(l,D){let K=new W.SymbolInformation(l.name,Lt(l.kind),w(l.location.range),l.location.uri?n(l.location.uri):D);return lr(K,l),l.containerName&&(K.containerName=l.containerName),K}function qr(l){if(l!=null)return l.map(ft)}function ft(l){let D=new W.DocumentSymbol(l.name,l.detail||"",Lt(l.kind),w(l.range),w(l.selectionRange));if(lr(D,l),l.children!==void 0&&l.children.length>0){let K=[];for(let re of l.children)K.push(ft(re));D.children=K}return D}function lr(l,D){l.tags=Gt(D.tags),D.deprecated&&(l.tags?l.tags.includes(W.SymbolTag.Deprecated)||(l.tags=l.tags.concat(W.SymbolTag.Deprecated)):l.tags=[W.SymbolTag.Deprecated])}function ht(l){let D={title:l.title,command:l.command};return l.arguments&&(D.arguments=l.arguments),D}function Or(l){if(!!l)return l.map(ht)}let De=new Map;De.set(Q.CodeActionKind.Empty,W.CodeActionKind.Empty),De.set(Q.CodeActionKind.QuickFix,W.CodeActionKind.QuickFix),De.set(Q.CodeActionKind.Refactor,W.CodeActionKind.Refactor),De.set(Q.CodeActionKind.RefactorExtract,W.CodeActionKind.RefactorExtract),De.set(Q.CodeActionKind.RefactorInline,W.CodeActionKind.RefactorInline),De.set(Q.CodeActionKind.RefactorRewrite,W.CodeActionKind.RefactorRewrite),De.set(Q.CodeActionKind.Source,W.CodeActionKind.Source),De.set(Q.CodeActionKind.SourceOrganizeImports,W.CodeActionKind.SourceOrganizeImports);function it(l){if(l==null)return;let D=De.get(l);if(D)return D;let K=l.split(".");D=W.CodeActionKind.Empty;for(let re of K)D=D.append(re);return D}function dr(l){if(l!=null)return l.map(D=>it(D))}function xr(l){if(l==null)return;let D=new $b.default(l.title,l.data);return l.kind!==void 0&&(D.kind=it(l.kind)),l.diagnostics!==void 0&&(D.diagnostics=o(l.diagnostics)),l.edit!==void 0&&(D.edit=Vt(l.edit)),l.command!==void 0&&(D.command=ht(l.command)),l.isPreferred!==void 0&&(D.isPreferred=l.isPreferred),l.disabled!==void 0&&(D.disabled={reason:l.disabled.reason}),D}function pt(l){if(!l)return;let D=new Mb.default(w(l.range));return l.command&&(D.command=ht(l.command)),l.data!==void 0&&l.data!==null&&(D.data=l.data),D}function fr(l){if(!!l)return l.map(D=>pt(D))}function Vt(l){if(!l)return;let D=new Map;if(l.changeAnnotations!==void 0)for(let fe of Object.keys(l.changeAnnotations)){let Nr=gt(l.changeAnnotations[fe]);D.set(fe,Nr)}let K=fe=>{if(fe!==void 0)return D.get(fe)},re=new W.WorkspaceEdit;if(l.documentChanges)for(let fe of l.documentChanges)if(Q.CreateFile.is(fe))re.createFile(n(fe.uri),fe.options,K(fe.annotationId));else if(Q.RenameFile.is(fe))re.renameFile(n(fe.oldUri),n(fe.newUri),fe.options,K(fe.annotationId));else if(Q.DeleteFile.is(fe))re.deleteFile(n(fe.uri),fe.options,K(fe.annotationId));else if(Q.TextDocumentEdit.is(fe)){let Nr=n(fe.textDocument.uri);for(let on of fe.edits)qf.AnnotatedTextEdit.is(on)?re.replace(Nr,w(on.range),on.newText,K(on.annotationId)):re.replace(Nr,w(on.range),on.newText)}else throw new Error(`Unknown workspace edit change received:
${JSON.stringify(fe,void 0,4)}`);else l.changes&&Object.keys(l.changes).forEach(fe=>{re.set(n(fe),ae(l.changes[fe]))});return re}function gt(l){if(l!==void 0)return{label:l.label,needsConfirmation:!!l.needsConfirmation,description:l.description}}function Xt(l){let D=w(l.range),K=l.target?i(l.target):void 0,re=new jb.default(D,K);return l.tooltip!==void 0&&(re.tooltip=l.tooltip),l.data!==void 0&&l.data!==null&&(re.data=l.data),re}function mt(l){if(!!l)return l.map(Xt)}function b(l){return new W.Color(l.red,l.green,l.blue,l.alpha)}function g(l){return new W.ColorInformation(w(l.range),b(l.color))}function f(l){if(Array.isArray(l))return l.map(g)}function y(l){let D=new W.ColorPresentation(l.label);return D.additionalTextEdits=ae(l.additionalTextEdits),l.textEdit&&(D.textEdit=oe(l.textEdit)),D}function S(l){if(Array.isArray(l))return l.map(y)}function a(l){if(l)switch(l){case Q.FoldingRangeKind.Comment:return W.FoldingRangeKind.Comment;case Q.FoldingRangeKind.Imports:return W.FoldingRangeKind.Imports;case Q.FoldingRangeKind.Region:return W.FoldingRangeKind.Region}}function u(l){return new W.FoldingRange(l.startLine,l.endLine,a(l.kind))}function R(l){if(Array.isArray(l))return l.map(u)}function T(l){return new W.SelectionRange(w(l.range),l.parent?T(l.parent):void 0)}function F(l){if(!Array.isArray(l))return[];let D=[];for(let K of l)D.push(T(K));return D}function H(l){if(l===null)return;let D=new Wb.default(Lt(l.kind),l.name,l.detail||"",i(l.uri),w(l.range),w(l.selectionRange),l.data);return l.tags!==void 0&&(D.tags=Gt(l.tags)),D}function V(l){if(l!==null)return l.map(D=>H(D))}function le(l){return new W.CallHierarchyIncomingCall(H(l.from),C(l.fromRanges))}function qe(l){if(l!==null)return l.map(D=>le(D))}function Oe(l){return new W.CallHierarchyOutgoingCall(H(l.to),C(l.fromRanges))}function te(l){if(l!==null)return l.map(D=>Oe(D))}function hr(l){if(l!=null)return new W.SemanticTokens(new Uint32Array(l.data),l.resultId)}function kr(l){return new W.SemanticTokensEdit(l.start,l.deleteCount,l.data!==void 0?new Uint32Array(l.data):void 0)}function xi(l){if(l!=null)return new W.SemanticTokensEdits(l.edits.map(kr),l.resultId)}function Gm(l){return l}function Vm(l){if(l!=null)return new W.LinkedEditingRanges(C(l.ranges),Xm(l.wordPattern))}function Xm(l){if(l!=null)return new RegExp(l)}return{asUri:i,asDiagnostics:o,asDiagnostic:s,asRange:w,asRanges:C,asPosition:v,asDiagnosticSeverity:N,asDiagnosticTag:m,asHover:x,asCompletionResult:P,asCompletionItem:be,asTextEdit:oe,asTextEdits:ae,asSignatureHelp:Te,asSignatureInformations:Ye,asSignatureInformation:nt,asParameterInformations:Qe,asParameterInformation:lt,asDeclarationResult:Et,asDefinitionResult:Ae,asLocation:me,asReferences:Pt,asDocumentHighlights:ar,asDocumentHighlight:ur,asDocumentHighlightKind:Kt,asSymbolKind:Lt,asSymbolTag:At,asSymbolTags:Gt,asSymbolInformations:Bt,asSymbolInformation:cr,asDocumentSymbols:qr,asDocumentSymbol:ft,asCommand:ht,asCommands:Or,asCodeAction:xr,asCodeActionKind:it,asCodeActionKinds:dr,asCodeLens:pt,asCodeLenses:fr,asWorkspaceEdit:Vt,asDocumentLink:Xt,asDocumentLinks:mt,asFoldingRangeKind:a,asFoldingRange:u,asFoldingRanges:R,asColor:b,asColorInformation:g,asColorInformations:f,asColorPresentation:y,asColorPresentations:S,asSelectionRange:T,asSelectionRanges:F,asSemanticTokensLegend:Gm,asSemanticTokens:hr,asSemanticTokensEdit:kr,asSemanticTokensEdits:xi,asCallHierarchyItem:H,asCallHierarchyItems:V,asCallHierarchyIncomingCall:le,asCallHierarchyIncomingCalls:qe,asCallHierarchyOutgoingCall:Oe,asCallHierarchyOutgoingCalls:te,asLinkedEditingRanges:Vm}}io.createConverter=Hb});var Nf=E(oo=>{"use strict";Object.defineProperty(oo,"__esModule",{value:!0});oo.Delayer=void 0;var xf=Se(),kf=class{constructor(e){this.defaultDelay=e,this.timeout=void 0,this.completionPromise=void 0,this.onSuccess=void 0,this.task=void 0}trigger(e,r=this.defaultDelay){return this.task=e,r>=0&&this.cancelTimeout(),this.completionPromise||(this.completionPromise=new Promise(n=>{this.onSuccess=n}).then(()=>{this.completionPromise=void 0,this.onSuccess=void 0;var n=this.task();return this.task=void 0,n})),(r>=0||this.timeout===void 0)&&(this.timeout=xf.RAL().timer.setTimeout(()=>{this.timeout=void 0,this.onSuccess(void 0)},r>=0?r:this.defaultDelay)),this.completionPromise}forceDelivery(){if(!this.completionPromise)return;this.cancelTimeout();let e=this.task();return this.completionPromise=void 0,this.onSuccess=void 0,this.task=void 0,e}isTriggered(){return this.timeout!==void 0}cancel(){this.cancelTimeout(),this.completionPromise=void 0}cancelTimeout(){this.timeout!==void 0&&(xf.RAL().timer.clearTimeout(this.timeout),this.timeout=void 0)}};oo.Delayer=kf});var ao=E(wt=>{"use strict";Object.defineProperty(wt,"__esModule",{value:!0});wt.generateUuid=wt.parse=wt.isUUID=wt.v4=wt.empty=void 0;var so=class{constructor(e){this._value=e}asHex(){return this._value}equals(e){return this.asHex()===e.asHex()}},Z=class extends so{constructor(){super([Z._randomHex(),Z._randomHex(),Z._randomHex(),Z._randomHex(),Z._randomHex(),Z._randomHex(),Z._randomHex(),Z._randomHex(),"-",Z._randomHex(),Z._randomHex(),Z._randomHex(),Z._randomHex(),"-","4",Z._randomHex(),Z._randomHex(),Z._randomHex(),"-",Z._oneOf(Z._timeHighBits),Z._randomHex(),Z._randomHex(),Z._randomHex(),"-",Z._randomHex(),Z._randomHex(),Z._randomHex(),Z._randomHex(),Z._randomHex(),Z._randomHex(),Z._randomHex(),Z._randomHex(),Z._randomHex(),Z._randomHex(),Z._randomHex(),Z._randomHex()].join(""))}static _oneOf(e){return e[Math.floor(e.length*Math.random())]}static _randomHex(){return Z._oneOf(Z._chars)}};Z._chars=["0","1","2","3","4","5","6","6","7","8","9","a","b","c","d","e","f"];Z._timeHighBits=["8","9","a","b"];wt.empty=new so("00000000-0000-0000-0000-000000000000");function If(){return new Z}wt.v4=If;var Ub=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i;function Ff(t){return Ub.test(t)}wt.isUUID=Ff;function zb(t){if(!Ff(t))throw new Error("invalid uuid");return new so(t)}wt.parse=zb;function Kb(){return If().asHex()}wt.generateUuid=Kb});var ca=E(uo=>{"use strict";Object.defineProperty(uo,"__esModule",{value:!0});uo.ProgressPart=void 0;var Lf=require("vscode"),Af=Se(),Mf=gr(),jf=class{constructor(e,r,n){this._client=e,this._token=r,this._reported=0,this._disposable=this._client.onProgress(Af.WorkDoneProgress.type,this._token,i=>{switch(i.kind){case"begin":this.begin(i);break;case"report":this.report(i);break;case"end":this.done(),n&&n(this);break}})}begin(e){Lf.window.withProgress({location:Lf.ProgressLocation.Window,cancellable:e.cancellable,title:e.title},async(r,n)=>(this._progress=r,this._infinite=e.percentage===void 0,this._cancellationToken=n,this._cancellationToken.onCancellationRequested(()=>{this._client.sendNotification(Af.WorkDoneProgressCancelNotification.type,{token:this._token})}),this.report(e),new Promise((i,o)=>{this._resolve=i,this._reject=o})))}report(e){if(this._infinite&&Mf.string(e.message))this._progress.report({message:e.message});else if(Mf.number(e.percentage)){let r=Math.max(0,Math.min(e.percentage,100)),n=Math.max(0,r-this._reported);this._progress.report({message:e.message,increment:n}),this._reported+=n}}cancel(){this._disposable&&(this._disposable.dispose(),this._disposable=void 0),this._reject&&(this._reject(),this._resolve=void 0,this._reject=void 0)}done(){this._disposable&&(this._disposable.dispose(),this._disposable=void 0),this._resolve&&(this._resolve(),this._resolve=void 0,this._reject=void 0)}};uo.ProgressPart=jf});var ut=E(ke=>{"use strict";Object.defineProperty(ke,"__esModule",{value:!0});ke.BaseLanguageClient=ke.MessageTransports=ke.TextDocumentFeature=ke.State=ke.RevealOutputChannelOn=ke.CloseAction=ke.ErrorAction=void 0;var A=require("vscode"),_=Se(),Bb=Xs(),Gb=Pf(),Vb=Of(),pe=gr(),$f=Nf(),ge=ao(),Xb=ca(),Wf=class{error(e){_.RAL().console.error(e)}warn(e){_.RAL().console.warn(e)}info(e){_.RAL().console.info(e)}log(e){_.RAL().console.log(e)}};function Jb(t,e,r,n,i){let o=new Wf,s=_.createProtocolConnection(t,e,o,i);return s.onError(c=>{r(c[0],c[1],c[2])}),s.onClose(n),{listen:()=>s.listen(),sendRequest:(c,...h)=>s.sendRequest(pe.string(c)?c:c.method,...h),onRequest:(c,h)=>s.onRequest(pe.string(c)?c:c.method,h),sendNotification:(c,h)=>s.sendNotification(pe.string(c)?c:c.method,h),onNotification:(c,h)=>s.onNotification(pe.string(c)?c:c.method,h),onProgress:s.onProgress,sendProgress:s.sendProgress,trace:(c,h,m)=>{let v={sendNotification:!1,traceFormat:_.TraceFormat.Text};m===void 0?s.trace(c,h,v):(pe.boolean(m),s.trace(c,h,m))},initialize:c=>s.sendRequest(_.InitializeRequest.type,c),shutdown:()=>s.sendRequest(_.ShutdownRequest.type,void 0),exit:()=>s.sendNotification(_.ExitNotification.type),onLogMessage:c=>s.onNotification(_.LogMessageNotification.type,c),onShowMessage:c=>s.onNotification(_.ShowMessageNotification.type,c),onTelemetry:c=>s.onNotification(_.TelemetryEventNotification.type,c),didChangeConfiguration:c=>s.sendNotification(_.DidChangeConfigurationNotification.type,c),didChangeWatchedFiles:c=>s.sendNotification(_.DidChangeWatchedFilesNotification.type,c),didOpenTextDocument:c=>s.sendNotification(_.DidOpenTextDocumentNotification.type,c),didChangeTextDocument:c=>s.sendNotification(_.DidChangeTextDocumentNotification.type,c),didCloseTextDocument:c=>s.sendNotification(_.DidCloseTextDocumentNotification.type,c),didSaveTextDocument:c=>s.sendNotification(_.DidSaveTextDocumentNotification.type,c),onDiagnostics:c=>s.onNotification(_.PublishDiagnosticsNotification.type,c),end:()=>s.end(),dispose:()=>s.dispose()}}var co;(function(t){t[t.Continue=1]="Continue",t[t.Shutdown=2]="Shutdown"})(co=ke.ErrorAction||(ke.ErrorAction={}));var Gr;(function(t){t[t.DoNotRestart=1]="DoNotRestart",t[t.Restart=2]="Restart"})(Gr=ke.CloseAction||(ke.CloseAction={}));var Hf=class{constructor(e,r){this.name=e,this.maxRestartCount=r,this.restarts=[]}error(e,r,n){return n&&n<=3?co.Continue:co.Shutdown}closed(){return this.restarts.push(Date.now()),this.restarts.length<=this.maxRestartCount?Gr.Restart:this.restarts[this.restarts.length-1]-this.restarts[0]<=3*60*1e3?(A.window.showErrorMessage(`The ${this.name} server crashed ${this.maxRestartCount+1} times in the last 3 minutes. The server will not be restarted.`),Gr.DoNotRestart):(this.restarts.shift(),Gr.Restart)}},ci;(function(t){t[t.Info=1]="Info",t[t.Warn=2]="Warn",t[t.Error=3]="Error",t[t.Never=4]="Never"})(ci=ke.RevealOutputChannelOn||(ke.RevealOutputChannelOn={}));var lo;(function(t){t[t.Stopped=1]="Stopped",t[t.Starting=3]="Starting",t[t.Running=2]="Running"})(lo=ke.State||(ke.State={}));var we;(function(t){t[t.Initial=0]="Initial",t[t.Starting=1]="Starting",t[t.StartFailed=2]="StartFailed",t[t.Running=3]="Running",t[t.Stopping=4]="Stopping",t[t.Stopped=5]="Stopped"})(we||(we={}));var Uf=[_.SymbolKind.File,_.SymbolKind.Module,_.SymbolKind.Namespace,_.SymbolKind.Package,_.SymbolKind.Class,_.SymbolKind.Method,_.SymbolKind.Property,_.SymbolKind.Field,_.SymbolKind.Constructor,_.SymbolKind.Enum,_.SymbolKind.Interface,_.SymbolKind.Function,_.SymbolKind.Variable,_.SymbolKind.Constant,_.SymbolKind.String,_.SymbolKind.Number,_.SymbolKind.Boolean,_.SymbolKind.Array,_.SymbolKind.Object,_.SymbolKind.Key,_.SymbolKind.Null,_.SymbolKind.EnumMember,_.SymbolKind.Struct,_.SymbolKind.Event,_.SymbolKind.Operator,_.SymbolKind.TypeParameter],Yb=[_.CompletionItemKind.Text,_.CompletionItemKind.Method,_.CompletionItemKind.Function,_.CompletionItemKind.Constructor,_.CompletionItemKind.Field,_.CompletionItemKind.Variable,_.CompletionItemKind.Class,_.CompletionItemKind.Interface,_.CompletionItemKind.Module,_.CompletionItemKind.Property,_.CompletionItemKind.Unit,_.CompletionItemKind.Value,_.CompletionItemKind.Enum,_.CompletionItemKind.Keyword,_.CompletionItemKind.Snippet,_.CompletionItemKind.Color,_.CompletionItemKind.File,_.CompletionItemKind.Reference,_.CompletionItemKind.Folder,_.CompletionItemKind.EnumMember,_.CompletionItemKind.Constant,_.CompletionItemKind.Struct,_.CompletionItemKind.Event,_.CompletionItemKind.Operator,_.CompletionItemKind.TypeParameter],zf=[_.SymbolTag.Deprecated];function z(t,e){return t[e]===void 0&&(t[e]={}),t[e]}var li;(function(t){function e(r){let n=A.workspace.getConfiguration("files",r);return{trimTrailingWhitespace:n.get("trimTrailingWhitespace"),trimFinalNewlines:n.get("trimFinalNewlines"),insertFinalNewline:n.get("insertFinalNewline")}}t.fromConfiguration=e})(li||(li={}));var la;(function(t){function e(r){let n=r;return n&&pe.func(n.register)&&pe.func(n.unregister)&&pe.func(n.dispose)&&n.registrationType!==void 0}t.is=e})(la||(la={}));var $t=class{constructor(e,r,n,i,o,s){this._client=e,this._event=r,this._type=n,this._middleware=i,this._createParams=o,this._selectorFilter=s,this._selectors=new Map}static textDocumentFilter(e,r){for(let n of e)if(A.languages.match(n,r))return!0;return!1}register(e){!e.registerOptions.documentSelector||(this._listener||(this._listener=this._event(this.callback,this)),this._selectors.set(e.id,e.registerOptions.documentSelector))}callback(e){(!this._selectorFilter||this._selectorFilter(this._selectors.values(),e))&&(this._middleware?this._middleware(e,r=>this._client.sendNotification(this._type,this._createParams(r))):this._client.sendNotification(this._type,this._createParams(e)),this.notificationSent(e))}notificationSent(e){}unregister(e){this._selectors.delete(e),this._selectors.size===0&&this._listener&&(this._listener.dispose(),this._listener=void 0)}dispose(){this._selectors.clear(),this._listener&&(this._listener.dispose(),this._listener=void 0)}getProvider(e){for(let r of this._selectors.values())if(A.languages.match(r,e))return{send:n=>{this.callback(n)}}}},Kf=class extends $t{constructor(e,r){super(e,A.workspace.onDidOpenTextDocument,_.DidOpenTextDocumentNotification.type,e.clientOptions.middleware.didOpen,n=>e.code2ProtocolConverter.asOpenTextDocumentParams(n),$t.textDocumentFilter);this._syncedDocuments=r}fillClientCapabilities(e){z(z(e,"textDocument"),"synchronization").dynamicRegistration=!0}initialize(e,r){let n=e.resolvedTextDocumentSync;r&&n&&n.openClose&&this.register({id:ge.generateUuid(),registerOptions:{documentSelector:r}})}get registrationType(){return _.DidOpenTextDocumentNotification.type}register(e){if(super.register(e),!e.registerOptions.documentSelector)return;let r=e.registerOptions.documentSelector;A.workspace.textDocuments.forEach(n=>{let i=n.uri.toString();if(!this._syncedDocuments.has(i)&&A.languages.match(r,n)){let o=this._client.clientOptions.middleware,s=d=>{this._client.sendNotification(this._type,this._createParams(d))};o.didOpen?o.didOpen(n,s):s(n),this._syncedDocuments.set(i,n)}})}notificationSent(e){super.notificationSent(e),this._syncedDocuments.set(e.uri.toString(),e)}},Bf=class extends $t{constructor(e,r){super(e,A.workspace.onDidCloseTextDocument,_.DidCloseTextDocumentNotification.type,e.clientOptions.middleware.didClose,n=>e.code2ProtocolConverter.asCloseTextDocumentParams(n),$t.textDocumentFilter);this._syncedDocuments=r}get registrationType(){return _.DidCloseTextDocumentNotification.type}fillClientCapabilities(e){z(z(e,"textDocument"),"synchronization").dynamicRegistration=!0}initialize(e,r){let n=e.resolvedTextDocumentSync;r&&n&&n.openClose&&this.register({id:ge.generateUuid(),registerOptions:{documentSelector:r}})}notificationSent(e){super.notificationSent(e),this._syncedDocuments.delete(e.uri.toString())}unregister(e){let r=this._selectors.get(e);super.unregister(e);let n=this._selectors.values();this._syncedDocuments.forEach(i=>{if(A.languages.match(r,i)&&!this._selectorFilter(n,i)){let o=this._client.clientOptions.middleware,s=d=>{this._client.sendNotification(this._type,this._createParams(d))};this._syncedDocuments.delete(i.uri.toString()),o.didClose?o.didClose(i,s):s(i)}})}},Gf=class{constructor(e){this._client=e,this._changeData=new Map,this._forcingDelivery=!1}get registrationType(){return _.DidChangeTextDocumentNotification.type}fillClientCapabilities(e){z(z(e,"textDocument"),"synchronization").dynamicRegistration=!0}initialize(e,r){let n=e.resolvedTextDocumentSync;r&&n&&n.change!==void 0&&n.change!==_.TextDocumentSyncKind.None&&this.register({id:ge.generateUuid(),registerOptions:Object.assign({},{documentSelector:r},{syncKind:n.change})})}register(e){!e.registerOptions.documentSelector||(this._listener||(this._listener=A.workspace.onDidChangeTextDocument(this.callback,this)),this._changeData.set(e.id,{documentSelector:e.registerOptions.documentSelector,syncKind:e.registerOptions.syncKind}))}callback(e){if(e.contentChanges.length!==0){for(let r of this._changeData.values())if(A.languages.match(r.documentSelector,e.document)){let n=this._client.clientOptions.middleware;if(r.syncKind===_.TextDocumentSyncKind.Incremental){let i=this._client.code2ProtocolConverter.asChangeTextDocumentParams(e);n.didChange?n.didChange(e,()=>this._client.sendNotification(_.DidChangeTextDocumentNotification.type,i)):this._client.sendNotification(_.DidChangeTextDocumentNotification.type,i)}else if(r.syncKind===_.TextDocumentSyncKind.Full){let i=o=>{this._changeDelayer?(this._changeDelayer.uri!==o.document.uri.toString()&&(this.forceDelivery(),this._changeDelayer.uri=o.document.uri.toString()),this._changeDelayer.delayer.trigger(()=>{this._client.sendNotification(_.DidChangeTextDocumentNotification.type,this._client.code2ProtocolConverter.asChangeTextDocumentParams(o.document))})):(this._changeDelayer={uri:o.document.uri.toString(),delayer:new $f.Delayer(200)},this._changeDelayer.delayer.trigger(()=>{this._client.sendNotification(_.DidChangeTextDocumentNotification.type,this._client.code2ProtocolConverter.asChangeTextDocumentParams(o.document))},-1))};n.didChange?n.didChange(e,i):i(e)}}}}unregister(e){this._changeData.delete(e),this._changeData.size===0&&this._listener&&(this._listener.dispose(),this._listener=void 0)}dispose(){this._changeDelayer=void 0,this._forcingDelivery=!1,this._changeData.clear(),this._listener&&(this._listener.dispose(),this._listener=void 0)}forceDelivery(){if(!(this._forcingDelivery||!this._changeDelayer))try{this._forcingDelivery=!0,this._changeDelayer.delayer.forceDelivery()}finally{this._forcingDelivery=!1}}getProvider(e){for(let r of this._changeData.values())if(A.languages.match(r.documentSelector,e))return{send:n=>{this.callback(n)}}}},Vf=class extends $t{constructor(e){super(e,A.workspace.onWillSaveTextDocument,_.WillSaveTextDocumentNotification.type,e.clientOptions.middleware.willSave,r=>e.code2ProtocolConverter.asWillSaveTextDocumentParams(r),(r,n)=>$t.textDocumentFilter(r,n.document))}get registrationType(){return _.WillSaveTextDocumentNotification.type}fillClientCapabilities(e){let r=z(z(e,"textDocument"),"synchronization");r.willSave=!0}initialize(e,r){let n=e.resolvedTextDocumentSync;r&&n&&n.willSave&&this.register({id:ge.generateUuid(),registerOptions:{documentSelector:r}})}},Xf=class{constructor(e){this._client=e,this._selectors=new Map}get registrationType(){return _.WillSaveTextDocumentWaitUntilRequest.type}fillClientCapabilities(e){let r=z(z(e,"textDocument"),"synchronization");r.willSaveWaitUntil=!0}initialize(e,r){let n=e.resolvedTextDocumentSync;r&&n&&n.willSaveWaitUntil&&this.register({id:ge.generateUuid(),registerOptions:{documentSelector:r}})}register(e){!e.registerOptions.documentSelector||(this._listener||(this._listener=A.workspace.onWillSaveTextDocument(this.callback,this)),this._selectors.set(e.id,e.registerOptions.documentSelector))}callback(e){if($t.textDocumentFilter(this._selectors.values(),e.document)){let r=this._client.clientOptions.middleware,n=i=>this._client.sendRequest(_.WillSaveTextDocumentWaitUntilRequest.type,this._client.code2ProtocolConverter.asWillSaveTextDocumentParams(i)).then(o=>{let s=this._client.protocol2CodeConverter.asTextEdits(o);return s===void 0?[]:s});e.waitUntil(r.willSaveWaitUntil?r.willSaveWaitUntil(e,n):n(e))}}unregister(e){this._selectors.delete(e),this._selectors.size===0&&this._listener&&(this._listener.dispose(),this._listener=void 0)}dispose(){this._selectors.clear(),this._listener&&(this._listener.dispose(),this._listener=void 0)}},Jf=class extends $t{constructor(e){super(e,A.workspace.onDidSaveTextDocument,_.DidSaveTextDocumentNotification.type,e.clientOptions.middleware.didSave,r=>e.code2ProtocolConverter.asSaveTextDocumentParams(r,this._includeText),$t.textDocumentFilter);this._includeText=!1}get registrationType(){return _.DidSaveTextDocumentNotification.type}fillClientCapabilities(e){z(z(e,"textDocument"),"synchronization").didSave=!0}initialize(e,r){let n=e.resolvedTextDocumentSync;if(r&&n&&n.save){let i=typeof n.save=="boolean"?{includeText:!1}:{includeText:!!n.save.includeText};this.register({id:ge.generateUuid(),registerOptions:Object.assign({},{documentSelector:r},i)})}}register(e){this._includeText=!!e.registerOptions.includeText,super.register(e)}},Yf=class{constructor(e,r){this._client=e,this._notifyFileEvent=r,this._watchers=new Map}get registrationType(){return _.DidChangeWatchedFilesNotification.type}fillClientCapabilities(e){z(z(e,"workspace"),"didChangeWatchedFiles").dynamicRegistration=!0}initialize(e,r){}register(e){if(!Array.isArray(e.registerOptions.watchers))return;let r=[];for(let n of e.registerOptions.watchers){if(!pe.string(n.globPattern))continue;let i=!0,o=!0,s=!0;n.kind!==void 0&&n.kind!==null&&(i=(n.kind&_.WatchKind.Create)!=0,o=(n.kind&_.WatchKind.Change)!=0,s=(n.kind&_.WatchKind.Delete)!=0);let d=A.workspace.createFileSystemWatcher(n.globPattern,!i,!o,!s);this.hookListeners(d,i,o,s),r.push(d)}this._watchers.set(e.id,r)}registerRaw(e,r){let n=[];for(let i of r)this.hookListeners(i,!0,!0,!0,n);this._watchers.set(e,n)}hookListeners(e,r,n,i,o){r&&e.onDidCreate(s=>this._notifyFileEvent({uri:this._client.code2ProtocolConverter.asUri(s),type:_.FileChangeType.Created}),null,o),n&&e.onDidChange(s=>this._notifyFileEvent({uri:this._client.code2ProtocolConverter.asUri(s),type:_.FileChangeType.Changed}),null,o),i&&e.onDidDelete(s=>this._notifyFileEvent({uri:this._client.code2ProtocolConverter.asUri(s),type:_.FileChangeType.Deleted}),null,o)}unregister(e){let r=this._watchers.get(e);if(r)for(let n of r)n.dispose()}dispose(){this._watchers.forEach(e=>{for(let r of e)r.dispose()}),this._watchers.clear()}},Xe=class{constructor(e,r){this._client=e,this._registrationType=r,this._registrations=new Map}get registrationType(){return this._registrationType}register(e){if(!e.registerOptions.documentSelector)return;let r=this.registerLanguageProvider(e.registerOptions);this._registrations.set(e.id,{disposable:r[0],data:e,provider:r[1]})}unregister(e){let r=this._registrations.get(e);r!==void 0&&r.disposable.dispose()}dispose(){this._registrations.forEach(e=>{e.disposable.dispose()}),this._registrations.clear()}getRegistration(e,r){if(r){if(_.TextDocumentRegistrationOptions.is(r)){let n=_.StaticRegistrationOptions.hasId(r)?r.id:ge.generateUuid(),i=r.documentSelector||e;if(i)return[n,Object.assign({},r,{documentSelector:i})]}else if(pe.boolean(r)&&r===!0||_.WorkDoneProgressOptions.is(r)){if(!e)return[void 0,void 0];let n=pe.boolean(r)&&r===!0?{documentSelector:e}:Object.assign({},r,{documentSelector:e});return[ge.generateUuid(),n]}}else return[void 0,void 0];return[void 0,void 0]}getRegistrationOptions(e,r){if(!(!e||!r))return pe.boolean(r)&&r===!0?{documentSelector:e}:Object.assign({},r,{documentSelector:e})}getProvider(e){for(let r of this._registrations.values()){let n=r.data.registerOptions.documentSelector;if(n!==null&&A.languages.match(n,e))return r.provider}}getAllProviders(){let e=[];for(let r of this._registrations.values())e.push(r.provider);return e}};ke.TextDocumentFeature=Xe;var Qf=class{constructor(e,r){this._client=e,this._registrationType=r,this._registrations=new Map}get registrationType(){return this._registrationType}register(e){let r=this.registerLanguageProvider(e.registerOptions);this._registrations.set(e.id,{disposable:r[0],provider:r[1]})}unregister(e){let r=this._registrations.get(e);r!==void 0&&r.disposable.dispose()}dispose(){this._registrations.forEach(e=>{e.disposable.dispose()}),this._registrations.clear()}getProviders(){let e=[];for(let r of this._registrations.values())e.push(r.provider);return e}},Zf=class extends Xe{constructor(e){super(e,_.CompletionRequest.type)}fillClientCapabilities(e){let r=z(z(e,"textDocument"),"completion");r.dynamicRegistration=!0,r.contextSupport=!0,r.completionItem={snippetSupport:!0,commitCharactersSupport:!0,documentationFormat:[_.MarkupKind.Markdown,_.MarkupKind.PlainText],deprecatedSupport:!0,preselectSupport:!0,tagSupport:{valueSet:[_.CompletionItemTag.Deprecated]},insertReplaceSupport:!0,resolveSupport:{properties:["documentation","detail","additionalTextEdits"]},insertTextModeSupport:{valueSet:[_.InsertTextMode.asIs,_.InsertTextMode.adjustIndentation]}},r.completionItemKind={valueSet:Yb}}initialize(e,r){let n=this.getRegistrationOptions(r,e.completionProvider);!n||this.register({id:ge.generateUuid(),registerOptions:n})}registerLanguageProvider(e){let r=e.triggerCharacters||[],n={provideCompletionItems:(i,o,s,d)=>{let c=this._client,h=this._client.clientOptions.middleware,m=(v,w,C,N)=>c.sendRequest(_.CompletionRequest.type,c.code2ProtocolConverter.asCompletionParams(v,w,C),N).then(c.protocol2CodeConverter.asCompletionResult,I=>c.handleFailedRequest(_.CompletionRequest.type,I,null));return h.provideCompletionItem?h.provideCompletionItem(i,o,d,s,m):m(i,o,d,s)},resolveCompletionItem:e.resolveProvider?(i,o)=>{let s=this._client,d=this._client.clientOptions.middleware,c=(h,m)=>s.sendRequest(_.CompletionResolveRequest.type,s.code2ProtocolConverter.asCompletionItem(h),m).then(s.protocol2CodeConverter.asCompletionItem,v=>s.handleFailedRequest(_.CompletionResolveRequest.type,v,h));return d.resolveCompletionItem?d.resolveCompletionItem(i,o,c):c(i,o)}:void 0};return[A.languages.registerCompletionItemProvider(e.documentSelector,n,...r),n]}},eh=class extends Xe{constructor(e){super(e,_.HoverRequest.type)}fillClientCapabilities(e){let r=z(z(e,"textDocument"),"hover");r.dynamicRegistration=!0,r.contentFormat=[_.MarkupKind.Markdown,_.MarkupKind.PlainText]}initialize(e,r){let n=this.getRegistrationOptions(r,e.hoverProvider);!n||this.register({id:ge.generateUuid(),registerOptions:n})}registerLanguageProvider(e){let r={provideHover:(n,i,o)=>{let s=this._client,d=(h,m,v)=>s.sendRequest(_.HoverRequest.type,s.code2ProtocolConverter.asTextDocumentPositionParams(h,m),v).then(s.protocol2CodeConverter.asHover,w=>s.handleFailedRequest(_.HoverRequest.type,w,null)),c=s.clientOptions.middleware;return c.provideHover?c.provideHover(n,i,o,d):d(n,i,o)}};return[A.languages.registerHoverProvider(e.documentSelector,r),r]}},th=class extends Xe{constructor(e){super(e,_.SignatureHelpRequest.type)}fillClientCapabilities(e){let r=z(z(e,"textDocument"),"signatureHelp");r.dynamicRegistration=!0,r.signatureInformation={documentationFormat:[_.MarkupKind.Markdown,_.MarkupKind.PlainText]},r.signatureInformation.parameterInformation={labelOffsetSupport:!0},r.signatureInformation.activeParameterSupport=!0,r.contextSupport=!0}initialize(e,r){let n=this.getRegistrationOptions(r,e.signatureHelpProvider);!n||this.register({id:ge.generateUuid(),registerOptions:n})}registerLanguageProvider(e){let r={provideSignatureHelp:(i,o,s,d)=>{let c=this._client,h=(v,w,C,N)=>c.sendRequest(_.SignatureHelpRequest.type,c.code2ProtocolConverter.asSignatureHelpParams(v,w,C),N).then(c.protocol2CodeConverter.asSignatureHelp,I=>c.handleFailedRequest(_.SignatureHelpRequest.type,I,null)),m=c.clientOptions.middleware;return m.provideSignatureHelp?m.provideSignatureHelp(i,o,d,s,h):h(i,o,d,s)}},n;if(e.retriggerCharacters===void 0){let i=e.triggerCharacters||[];n=A.languages.registerSignatureHelpProvider(e.documentSelector,r,...i)}else{let i={triggerCharacters:e.triggerCharacters||[],retriggerCharacters:e.retriggerCharacters||[]};n=A.languages.registerSignatureHelpProvider(e.documentSelector,r,i)}return[n,r]}},rh=class extends Xe{constructor(e){super(e,_.DefinitionRequest.type)}fillClientCapabilities(e){let r=z(z(e,"textDocument"),"definition");r.dynamicRegistration=!0,r.linkSupport=!0}initialize(e,r){let n=this.getRegistrationOptions(r,e.definitionProvider);!n||this.register({id:ge.generateUuid(),registerOptions:n})}registerLanguageProvider(e){let r={provideDefinition:(n,i,o)=>{let s=this._client,d=(h,m,v)=>s.sendRequest(_.DefinitionRequest.type,s.code2ProtocolConverter.asTextDocumentPositionParams(h,m),v).then(s.protocol2CodeConverter.asDefinitionResult,w=>s.handleFailedRequest(_.DefinitionRequest.type,w,null)),c=s.clientOptions.middleware;return c.provideDefinition?c.provideDefinition(n,i,o,d):d(n,i,o)}};return[A.languages.registerDefinitionProvider(e.documentSelector,r),r]}},nh=class extends Xe{constructor(e){super(e,_.ReferencesRequest.type)}fillClientCapabilities(e){z(z(e,"textDocument"),"references").dynamicRegistration=!0}initialize(e,r){let n=this.getRegistrationOptions(r,e.referencesProvider);!n||this.register({id:ge.generateUuid(),registerOptions:n})}registerLanguageProvider(e){let r={provideReferences:(n,i,o,s)=>{let d=this._client,c=(m,v,w,C)=>d.sendRequest(_.ReferencesRequest.type,d.code2ProtocolConverter.asReferenceParams(m,v,w),C).then(d.protocol2CodeConverter.asReferences,N=>d.handleFailedRequest(_.ReferencesRequest.type,N,null)),h=d.clientOptions.middleware;return h.provideReferences?h.provideReferences(n,i,o,s,c):c(n,i,o,s)}};return[A.languages.registerReferenceProvider(e.documentSelector,r),r]}},ih=class extends Xe{constructor(e){super(e,_.DocumentHighlightRequest.type)}fillClientCapabilities(e){z(z(e,"textDocument"),"documentHighlight").dynamicRegistration=!0}initialize(e,r){let n=this.getRegistrationOptions(r,e.documentHighlightProvider);!n||this.register({id:ge.generateUuid(),registerOptions:n})}registerLanguageProvider(e){let r={provideDocumentHighlights:(n,i,o)=>{let s=this._client,d=(h,m,v)=>s.sendRequest(_.DocumentHighlightRequest.type,s.code2ProtocolConverter.asTextDocumentPositionParams(h,m),v).then(s.protocol2CodeConverter.asDocumentHighlights,w=>s.handleFailedRequest(_.DocumentHighlightRequest.type,w,null)),c=s.clientOptions.middleware;return c.provideDocumentHighlights?c.provideDocumentHighlights(n,i,o,d):d(n,i,o)}};return[A.languages.registerDocumentHighlightProvider(e.documentSelector,r),r]}},oh=class extends Xe{constructor(e){super(e,_.DocumentSymbolRequest.type)}fillClientCapabilities(e){let r=z(z(e,"textDocument"),"documentSymbol");r.dynamicRegistration=!0,r.symbolKind={valueSet:Uf},r.hierarchicalDocumentSymbolSupport=!0,r.tagSupport={valueSet:zf},r.labelSupport=!0}initialize(e,r){let n=this.getRegistrationOptions(r,e.documentSymbolProvider);!n||this.register({id:ge.generateUuid(),registerOptions:n})}registerLanguageProvider(e){let r={provideDocumentSymbols:(i,o)=>{let s=this._client,d=(h,m)=>s.sendRequest(_.DocumentSymbolRequest.type,s.code2ProtocolConverter.asDocumentSymbolParams(h),m).then(v=>{if(v!==null){if(v.length===0)return[];{let w=v[0];return _.DocumentSymbol.is(w)?s.protocol2CodeConverter.asDocumentSymbols(v):s.protocol2CodeConverter.asSymbolInformations(v)}}},v=>s.handleFailedRequest(_.DocumentSymbolRequest.type,v,null)),c=s.clientOptions.middleware;return c.provideDocumentSymbols?c.provideDocumentSymbols(i,o,d):d(i,o)}},n=e.label!==void 0?{label:e.label}:void 0;return[A.languages.registerDocumentSymbolProvider(e.documentSelector,r,n),r]}},sh=class extends Qf{constructor(e){super(e,_.WorkspaceSymbolRequest.type)}fillClientCapabilities(e){let r=z(z(e,"workspace"),"symbol");r.dynamicRegistration=!0,r.symbolKind={valueSet:Uf},r.tagSupport={valueSet:zf}}initialize(e){!e.workspaceSymbolProvider||this.register({id:ge.generateUuid(),registerOptions:e.workspaceSymbolProvider===!0?{workDoneProgress:!1}:e.workspaceSymbolProvider})}registerLanguageProvider(e){let r={provideWorkspaceSymbols:(n,i)=>{let o=this._client,s=(c,h)=>o.sendRequest(_.WorkspaceSymbolRequest.type,{query:c},h).then(o.protocol2CodeConverter.asSymbolInformations,m=>o.handleFailedRequest(_.WorkspaceSymbolRequest.type,m,null)),d=o.clientOptions.middleware;return d.provideWorkspaceSymbols?d.provideWorkspaceSymbols(n,i,s):s(n,i)}};return[A.languages.registerWorkspaceSymbolProvider(r),r]}},ah=class extends Xe{constructor(e){super(e,_.CodeActionRequest.type)}fillClientCapabilities(e){let r=z(z(e,"textDocument"),"codeAction");r.dynamicRegistration=!0,r.isPreferredSupport=!0,r.disabledSupport=!0,r.dataSupport=!0,r.resolveSupport={properties:["edit"]},r.codeActionLiteralSupport={codeActionKind:{valueSet:[_.CodeActionKind.Empty,_.CodeActionKind.QuickFix,_.CodeActionKind.Refactor,_.CodeActionKind.RefactorExtract,_.CodeActionKind.RefactorInline,_.CodeActionKind.RefactorRewrite,_.CodeActionKind.Source,_.CodeActionKind.SourceOrganizeImports]}},r.honorsChangeAnnotations=!1}initialize(e,r){let n=this.getRegistrationOptions(r,e.codeActionProvider);!n||this.register({id:ge.generateUuid(),registerOptions:n})}registerLanguageProvider(e){let r={provideCodeActions:(n,i,o,s)=>{let d=this._client,c=(m,v,w,C)=>{let N={textDocument:d.code2ProtocolConverter.asTextDocumentIdentifier(m),range:d.code2ProtocolConverter.asRange(v),context:d.code2ProtocolConverter.asCodeActionContext(w)};return d.sendRequest(_.CodeActionRequest.type,N,C).then(I=>{if(I===null)return;let L=[];for(let O of I)_.Command.is(O)?L.push(d.protocol2CodeConverter.asCommand(O)):L.push(d.protocol2CodeConverter.asCodeAction(O));return L},I=>d.handleFailedRequest(_.CodeActionRequest.type,I,null))},h=d.clientOptions.middleware;return h.provideCodeActions?h.provideCodeActions(n,i,o,s,c):c(n,i,o,s)},resolveCodeAction:e.resolveProvider?(n,i)=>{let o=this._client,s=this._client.clientOptions.middleware,d=(c,h)=>o.sendRequest(_.CodeActionResolveRequest.type,o.code2ProtocolConverter.asCodeAction(c),h).then(o.protocol2CodeConverter.asCodeAction,m=>o.handleFailedRequest(_.CodeActionResolveRequest.type,m,c));return s.resolveCodeAction?s.resolveCodeAction(n,i,d):d(n,i)}:void 0};return[A.languages.registerCodeActionsProvider(e.documentSelector,r,e.codeActionKinds?{providedCodeActionKinds:this._client.protocol2CodeConverter.asCodeActionKinds(e.codeActionKinds)}:void 0),r]}},uh=class extends Xe{constructor(e){super(e,_.CodeLensRequest.type)}fillClientCapabilities(e){z(z(e,"textDocument"),"codeLens").dynamicRegistration=!0,z(z(e,"workspace"),"codeLens").refreshSupport=!0}initialize(e,r){this._client.onRequest(_.CodeLensRefreshRequest.type,async()=>{for(let o of this.getAllProviders())o.onDidChangeCodeLensEmitter.fire()});let i=this.getRegistrationOptions(r,e.codeLensProvider);!i||this.register({id:ge.generateUuid(),registerOptions:i})}registerLanguageProvider(e){let r=new A.EventEmitter,n={onDidChangeCodeLenses:r.event,provideCodeLenses:(i,o)=>{let s=this._client,d=(h,m)=>s.sendRequest(_.CodeLensRequest.type,s.code2ProtocolConverter.asCodeLensParams(h),m).then(s.protocol2CodeConverter.asCodeLenses,v=>s.handleFailedRequest(_.CodeLensRequest.type,v,null)),c=s.clientOptions.middleware;return c.provideCodeLenses?c.provideCodeLenses(i,o,d):d(i,o)},resolveCodeLens:e.resolveProvider?(i,o)=>{let s=this._client,d=(h,m)=>s.sendRequest(_.CodeLensResolveRequest.type,s.code2ProtocolConverter.asCodeLens(h),m).then(s.protocol2CodeConverter.asCodeLens,v=>s.handleFailedRequest(_.CodeLensResolveRequest.type,v,h)),c=s.clientOptions.middleware;return c.resolveCodeLens?c.resolveCodeLens(i,o,d):d(i,o)}:void 0};return[A.languages.registerCodeLensProvider(e.documentSelector,n),{provider:n,onDidChangeCodeLensEmitter:r}]}},ch=class extends Xe{constructor(e){super(e,_.DocumentFormattingRequest.type)}fillClientCapabilities(e){z(z(e,"textDocument"),"formatting").dynamicRegistration=!0}initialize(e,r){let n=this.getRegistrationOptions(r,e.documentFormattingProvider);!n||this.register({id:ge.generateUuid(),registerOptions:n})}registerLanguageProvider(e){let r={provideDocumentFormattingEdits:(n,i,o)=>{let s=this._client,d=(h,m,v)=>{let w={textDocument:s.code2ProtocolConverter.asTextDocumentIdentifier(h),options:s.code2ProtocolConverter.asFormattingOptions(m,li.fromConfiguration(h))};return s.sendRequest(_.DocumentFormattingRequest.type,w,v).then(s.protocol2CodeConverter.asTextEdits,C=>s.handleFailedRequest(_.DocumentFormattingRequest.type,C,null))},c=s.clientOptions.middleware;return c.provideDocumentFormattingEdits?c.provideDocumentFormattingEdits(n,i,o,d):d(n,i,o)}};return[A.languages.registerDocumentFormattingEditProvider(e.documentSelector,r),r]}},lh=class extends Xe{constructor(e){super(e,_.DocumentRangeFormattingRequest.type)}fillClientCapabilities(e){z(z(e,"textDocument"),"rangeFormatting").dynamicRegistration=!0}initialize(e,r){let n=this.getRegistrationOptions(r,e.documentRangeFormattingProvider);!n||this.register({id:ge.generateUuid(),registerOptions:n})}registerLanguageProvider(e){let r={provideDocumentRangeFormattingEdits:(n,i,o,s)=>{let d=this._client,c=(m,v,w,C)=>{let N={textDocument:d.code2ProtocolConverter.asTextDocumentIdentifier(m),range:d.code2ProtocolConverter.asRange(v),options:d.code2ProtocolConverter.asFormattingOptions(w,li.fromConfiguration(m))};return d.sendRequest(_.DocumentRangeFormattingRequest.type,N,C).then(d.protocol2CodeConverter.asTextEdits,I=>d.handleFailedRequest(_.DocumentRangeFormattingRequest.type,I,null))},h=d.clientOptions.middleware;return h.provideDocumentRangeFormattingEdits?h.provideDocumentRangeFormattingEdits(n,i,o,s,c):c(n,i,o,s)}};return[A.languages.registerDocumentRangeFormattingEditProvider(e.documentSelector,r),r]}},dh=class extends Xe{constructor(e){super(e,_.DocumentOnTypeFormattingRequest.type)}fillClientCapabilities(e){z(z(e,"textDocument"),"onTypeFormatting").dynamicRegistration=!0}initialize(e,r){let n=this.getRegistrationOptions(r,e.documentOnTypeFormattingProvider);!n||this.register({id:ge.generateUuid(),registerOptions:n})}registerLanguageProvider(e){let r={provideOnTypeFormattingEdits:(i,o,s,d,c)=>{let h=this._client,m=(w,C,N,I,L)=>{let O={textDocument:h.code2ProtocolConverter.asTextDocumentIdentifier(w),position:h.code2ProtocolConverter.asPosition(C),ch:N,options:h.code2ProtocolConverter.asFormattingOptions(I,li.fromConfiguration(w))};return h.sendRequest(_.DocumentOnTypeFormattingRequest.type,O,L).then(h.protocol2CodeConverter.asTextEdits,x=>h.handleFailedRequest(_.DocumentOnTypeFormattingRequest.type,x,null))},v=h.clientOptions.middleware;return v.provideOnTypeFormattingEdits?v.provideOnTypeFormattingEdits(i,o,s,d,c,m):m(i,o,s,d,c)}},n=e.moreTriggerCharacter||[];return[A.languages.registerOnTypeFormattingEditProvider(e.documentSelector,r,e.firstTriggerCharacter,...n),r]}},fh=class extends Xe{constructor(e){super(e,_.RenameRequest.type)}fillClientCapabilities(e){let r=z(z(e,"textDocument"),"rename");r.dynamicRegistration=!0,r.prepareSupport=!0,r.prepareSupportDefaultBehavior=_.PrepareSupportDefaultBehavior.Identifier,r.honorsChangeAnnotations=!0}initialize(e,r){let n=this.getRegistrationOptions(r,e.renameProvider);!n||(pe.boolean(e.renameProvider)&&(n.prepareProvider=!1),this.register({id:ge.generateUuid(),registerOptions:n}))}registerLanguageProvider(e){let r={provideRenameEdits:(n,i,o,s)=>{let d=this._client,c=(m,v,w,C)=>{let N={textDocument:d.code2ProtocolConverter.asTextDocumentIdentifier(m),position:d.code2ProtocolConverter.asPosition(v),newName:w};return d.sendRequest(_.RenameRequest.type,N,C).then(d.protocol2CodeConverter.asWorkspaceEdit,I=>d.handleFailedRequest(_.RenameRequest.type,I,null))},h=d.clientOptions.middleware;return h.provideRenameEdits?h.provideRenameEdits(n,i,o,s,c):c(n,i,o,s)},prepareRename:e.prepareProvider?(n,i,o)=>{let s=this._client,d=(h,m,v)=>{let w={textDocument:s.code2ProtocolConverter.asTextDocumentIdentifier(h),position:s.code2ProtocolConverter.asPosition(m)};return s.sendRequest(_.PrepareRenameRequest.type,w,v).then(C=>_.Range.is(C)?s.protocol2CodeConverter.asRange(C):this.isDefaultBehavior(C)?C.defaultBehavior===!0?null:Promise.reject(new Error("The element can't be renamed.")):C&&_.Range.is(C.range)?{range:s.protocol2CodeConverter.asRange(C.range),placeholder:C.placeholder}:Promise.reject(new Error("The element can't be renamed.")),C=>s.handleFailedRequest(_.PrepareRenameRequest.type,C,void 0))},c=s.clientOptions.middleware;return c.prepareRename?c.prepareRename(n,i,o,d):d(n,i,o)}:void 0};return[A.languages.registerRenameProvider(e.documentSelector,r),r]}isDefaultBehavior(e){let r=e;return r&&pe.boolean(r.defaultBehavior)}},hh=class extends Xe{constructor(e){super(e,_.DocumentLinkRequest.type)}fillClientCapabilities(e){let r=z(z(e,"textDocument"),"documentLink");r.dynamicRegistration=!0,r.tooltipSupport=!0}initialize(e,r){let n=this.getRegistrationOptions(r,e.documentLinkProvider);!n||this.register({id:ge.generateUuid(),registerOptions:n})}registerLanguageProvider(e){let r={provideDocumentLinks:(n,i)=>{let o=this._client,s=(c,h)=>o.sendRequest(_.DocumentLinkRequest.type,o.code2ProtocolConverter.asDocumentLinkParams(c),h).then(o.protocol2CodeConverter.asDocumentLinks,m=>o.handleFailedRequest(_.DocumentLinkRequest.type,m,null)),d=o.clientOptions.middleware;return d.provideDocumentLinks?d.provideDocumentLinks(n,i,s):s(n,i)},resolveDocumentLink:e.resolveProvider?(n,i)=>{let o=this._client,s=(c,h)=>o.sendRequest(_.DocumentLinkResolveRequest.type,o.code2ProtocolConverter.asDocumentLink(c),h).then(o.protocol2CodeConverter.asDocumentLink,m=>o.handleFailedRequest(_.DocumentLinkResolveRequest.type,m,c)),d=o.clientOptions.middleware;return d.resolveDocumentLink?d.resolveDocumentLink(n,i,s):s(n,i)}:void 0};return[A.languages.registerDocumentLinkProvider(e.documentSelector,r),r]}},ph=class{constructor(e){this._client=e,this._listeners=new Map}get registrationType(){return _.DidChangeConfigurationNotification.type}fillClientCapabilities(e){z(z(e,"workspace"),"didChangeConfiguration").dynamicRegistration=!0}initialize(){let e=this._client.clientOptions.synchronize.configurationSection;e!==void 0&&this.register({id:ge.generateUuid(),registerOptions:{section:e}})}register(e){let r=A.workspace.onDidChangeConfiguration(n=>{this.onDidChangeConfiguration(e.registerOptions.section,n)});this._listeners.set(e.id,r),e.registerOptions.section!==void 0&&this.onDidChangeConfiguration(e.registerOptions.section,void 0)}unregister(e){let r=this._listeners.get(e);r&&(this._listeners.delete(e),r.dispose())}dispose(){for(let e of this._listeners.values())e.dispose();this._listeners.clear()}onDidChangeConfiguration(e,r){let n;if(pe.string(e)?n=[e]:n=e,n!==void 0&&r!==void 0&&!n.some(d=>r.affectsConfiguration(d)))return;let i=s=>{if(s===void 0){this._client.sendNotification(_.DidChangeConfigurationNotification.type,{settings:null});return}this._client.sendNotification(_.DidChangeConfigurationNotification.type,{settings:this.extractSettingsInformation(s)})},o=this.getMiddleware();o?o(n,i):i(n)}extractSettingsInformation(e){function r(o,s){let d=o;for(let c=0;c<s.length-1;c++){let h=d[s[c]];h||(h=Object.create(null),d[s[c]]=h),d=h}return d}let n=this._client.clientOptions.workspaceFolder?this._client.clientOptions.workspaceFolder.uri:void 0,i=Object.create(null);for(let o=0;o<e.length;o++){let s=e[o],d=s.indexOf("."),c=null;if(d>=0?c=A.workspace.getConfiguration(s.substr(0,d),n).get(s.substr(d+1)):c=A.workspace.getConfiguration(void 0,n).get(s),c){let h=e[o].split(".");r(i,h)[h[h.length-1]]=Bb.toJSONObject(c)}}return i}getMiddleware(){let e=this._client.clientOptions.middleware;if(e.workspace&&e.workspace.didChangeConfiguration)return e.workspace.didChangeConfiguration}},gh=class{constructor(e){this._client=e,this._commands=new Map}get registrationType(){return _.ExecuteCommandRequest.type}fillClientCapabilities(e){z(z(e,"workspace"),"executeCommand").dynamicRegistration=!0}initialize(e){!e.executeCommandProvider||this.register({id:ge.generateUuid(),registerOptions:Object.assign({},e.executeCommandProvider)})}register(e){let r=this._client,n=r.clientOptions.middleware,i=(o,s)=>{let d={command:o,arguments:s};return r.sendRequest(_.ExecuteCommandRequest.type,d).then(void 0,c=>r.handleFailedRequest(_.ExecuteCommandRequest.type,c,void 0))};if(e.registerOptions.commands){let o=[];for(let s of e.registerOptions.commands)o.push(A.commands.registerCommand(s,(...d)=>n.executeCommand?n.executeCommand(s,d,i):i(s,d)));this._commands.set(e.id,o)}}unregister(e){let r=this._commands.get(e);r&&r.forEach(n=>n.dispose())}dispose(){this._commands.forEach(e=>{e.forEach(r=>r.dispose())}),this._commands.clear()}},Qb;(function(t){function e(r){return r&&_.MessageReader.is(r.reader)&&_.MessageWriter.is(r.writer)}t.is=e})(Qb=ke.MessageTransports||(ke.MessageTransports={}));var da=class{constructor(e,r){this._resolve=e,this._reject=r,this._used=!1}get isUsed(){return this._used}resolve(){this._used=!0,this._resolve()}reject(e){this._used=!0,this._reject(e)}},Rn=class{constructor(e,r,n){var i;this._traceFormat=_.TraceFormat.Text,this._features=[],this._dynamicFeatures=new Map,this._id=e,this._name=r,n=n||{};let o={isTrusted:!1};n.markdown!==void 0&&n.markdown.isTrusted===!0&&(o.isTrusted=!0),this._clientOptions={documentSelector:n.documentSelector||[],synchronize:n.synchronize||{},diagnosticCollectionName:n.diagnosticCollectionName,outputChannelName:n.outputChannelName||this._name,revealOutputChannelOn:n.revealOutputChannelOn||ci.Error,stdioEncoding:n.stdioEncoding||"utf8",initializationOptions:n.initializationOptions,initializationFailedHandler:n.initializationFailedHandler,progressOnInitialization:!!n.progressOnInitialization,errorHandler:n.errorHandler||this.createDefaultErrorHandler((i=n.connectionOptions)===null||i===void 0?void 0:i.maxRestartCount),middleware:n.middleware||{},uriConverters:n.uriConverters,workspaceFolder:n.workspaceFolder,connectionOptions:n.connectionOptions,markdown:o},this._clientOptions.synchronize=this._clientOptions.synchronize||{},this._state=we.Initial,this._connectionPromise=void 0,this._resolvedConnection=void 0,this._initializeResult=void 0,n.outputChannel?(this._outputChannel=n.outputChannel,this._disposeOutputChannel=!1):(this._outputChannel=void 0,this._disposeOutputChannel=!0),this._traceOutputChannel=n.traceOutputChannel,this._listeners=void 0,this._providers=void 0,this._diagnostics=void 0,this._fileEvents=[],this._fileEventDelayer=new $f.Delayer(250),this._onReady=new Promise((s,d)=>{this._onReadyCallbacks=new da(s,d)}),this._onStop=void 0,this._telemetryEmitter=new _.Emitter,this._stateChangeEmitter=new _.Emitter,this._trace=_.Trace.Off,this._tracer={log:(s,d)=>{pe.string(s)?this.logTrace(s,d):this.logObjectTrace(s)}},this._c2p=Gb.createConverter(n.uriConverters?n.uriConverters.code2Protocol:void 0),this._p2c=Vb.createConverter(n.uriConverters?n.uriConverters.protocol2Code:void 0,this._clientOptions.markdown.isTrusted),this._syncedDocuments=new Map,this.registerBuiltinFeatures()}get state(){return this._state}set state(e){let r=this.getPublicState();this._state=e;let n=this.getPublicState();n!==r&&this._stateChangeEmitter.fire({oldState:r,newState:n})}getPublicState(){return this.state===we.Running?lo.Running:this.state===we.Starting?lo.Starting:lo.Stopped}get initializeResult(){return this._initializeResult}sendRequest(e,...r){if(!this.isConnectionActive())throw new Error("Language client is not ready yet");this.forceDocumentSync();try{return this._resolvedConnection.sendRequest(e,...r)}catch(n){throw this.error(`Sending request ${pe.string(e)?e:e.method} failed.`,n),n}}onRequest(e,r){if(!this.isConnectionActive())throw new Error("Language client is not ready yet");try{return this._resolvedConnection.onRequest(e,r)}catch(n){throw this.error(`Registering request handler ${pe.string(e)?e:e.method} failed.`,n),n}}sendNotification(e,r){if(!this.isConnectionActive())throw new Error("Language client is not ready yet");this.forceDocumentSync();try{this._resolvedConnection.sendNotification(e,r)}catch(n){throw this.error(`Sending notification ${pe.string(e)?e:e.method} failed.`,n),n}}onNotification(e,r){if(!this.isConnectionActive())throw new Error("Language client is not ready yet");try{return this._resolvedConnection.onNotification(e,r)}catch(n){throw this.error(`Registering notification handler ${pe.string(e)?e:e.method} failed.`,n),n}}onProgress(e,r,n){if(!this.isConnectionActive())throw new Error("Language client is not ready yet");try{if(_.WorkDoneProgress.is(e)){let i=this._clientOptions.middleware.handleWorkDoneProgress;if(i!==void 0)return this._resolvedConnection.onProgress(e,r,o=>{i(r,o,()=>n(o))})}return this._resolvedConnection.onProgress(e,r,n)}catch(i){throw this.error(`Registering progress handler for token ${r} failed.`,i),i}}sendProgress(e,r,n){if(!this.isConnectionActive())throw new Error("Language client is not ready yet");this.forceDocumentSync();try{this._resolvedConnection.sendProgress(e,r,n)}catch(i){throw this.error(`Sending progress for token ${r} failed.`,i),i}}get clientOptions(){return this._clientOptions}get protocol2CodeConverter(){return this._p2c}get code2ProtocolConverter(){return this._c2p}get onTelemetry(){return this._telemetryEmitter.event}get onDidChangeState(){return this._stateChangeEmitter.event}get outputChannel(){return this._outputChannel||(this._outputChannel=A.window.createOutputChannel(this._clientOptions.outputChannelName?this._clientOptions.outputChannelName:this._name)),this._outputChannel}get traceOutputChannel(){return this._traceOutputChannel?this._traceOutputChannel:this.outputChannel}get diagnostics(){return this._diagnostics}createDefaultErrorHandler(e){if(e!==void 0&&e<0)throw new Error(`Invalid maxRestartCount: ${e}`);return new Hf(this._name,e??4)}set trace(e){this._trace=e,this.onReady().then(()=>{this.resolveConnection().then(r=>{r.trace(this._trace,this._tracer,{sendNotification:!1,traceFormat:this._traceFormat})})},()=>{})}data2String(e){if(e instanceof _.ResponseError){let r=e;return`  Message: ${r.message}
  Code: ${r.code} ${r.data?`
`+r.data.toString():""}`}return e instanceof Error?pe.string(e.stack)?e.stack:e.message:pe.string(e)?e:e.toString()}info(e,r,n=!0){this.outputChannel.appendLine(`[Info  - ${new Date().toLocaleTimeString()}] ${e}`),r&&this.outputChannel.appendLine(this.data2String(r)),n&&this._clientOptions.revealOutputChannelOn<=ci.Info&&this.showNotificationMessage()}warn(e,r,n=!0){this.outputChannel.appendLine(`[Warn  - ${new Date().toLocaleTimeString()}] ${e}`),r&&this.outputChannel.appendLine(this.data2String(r)),n&&this._clientOptions.revealOutputChannelOn<=ci.Warn&&this.showNotificationMessage()}error(e,r,n=!0){this.outputChannel.appendLine(`[Error - ${new Date().toLocaleTimeString()}] ${e}`),r&&this.outputChannel.appendLine(this.data2String(r)),n&&this._clientOptions.revealOutputChannelOn<=ci.Error&&this.showNotificationMessage()}showNotificationMessage(){A.window.showInformationMessage("A request has failed. See the output for more information.","Go to output").then(()=>{this.outputChannel.show(!0)})}logTrace(e,r){this.traceOutputChannel.appendLine(`[Trace - ${new Date().toLocaleTimeString()}] ${e}`),r&&this.traceOutputChannel.appendLine(this.data2String(r))}logObjectTrace(e){e.isLSPMessage&&e.type?this.traceOutputChannel.append(`[LSP   - ${new Date().toLocaleTimeString()}] `):this.traceOutputChannel.append(`[Trace - ${new Date().toLocaleTimeString()}] `),e&&this.traceOutputChannel.appendLine(`${JSON.stringify(e)}`)}needsStart(){return this.state===we.Initial||this.state===we.Stopping||this.state===we.Stopped}needsStop(){return this.state===we.Starting||this.state===we.Running}onReady(){return this._onReady}isConnectionActive(){return this.state===we.Running&&!!this._resolvedConnection}start(){return this._onReadyCallbacks.isUsed&&(this._onReady=new Promise((e,r)=>{this._onReadyCallbacks=new da(e,r)})),this._listeners=[],this._providers=[],this._diagnostics||(this._diagnostics=this._clientOptions.diagnosticCollectionName?A.languages.createDiagnosticCollection(this._clientOptions.diagnosticCollectionName):A.languages.createDiagnosticCollection()),this.state=we.Starting,this.resolveConnection().then(e=>(e.onLogMessage(r=>{switch(r.type){case _.MessageType.Error:this.error(r.message,void 0,!1);break;case _.MessageType.Warning:this.warn(r.message,void 0,!1);break;case _.MessageType.Info:this.info(r.message,void 0,!1);break;default:this.outputChannel.appendLine(r.message)}}),e.onShowMessage(r=>{switch(r.type){case _.MessageType.Error:A.window.showErrorMessage(r.message);break;case _.MessageType.Warning:A.window.showWarningMessage(r.message);break;case _.MessageType.Info:A.window.showInformationMessage(r.message);break;default:A.window.showInformationMessage(r.message)}}),e.onRequest(_.ShowMessageRequest.type,r=>{let n;switch(r.type){case _.MessageType.Error:n=A.window.showErrorMessage;break;case _.MessageType.Warning:n=A.window.showWarningMessage;break;case _.MessageType.Info:n=A.window.showInformationMessage;break;default:n=A.window.showInformationMessage}let i=r.actions||[];return n(r.message,...i)}),e.onTelemetry(r=>{this._telemetryEmitter.fire(r)}),e.onRequest(_.ShowDocumentRequest.type,async r=>{var n;let i=async s=>{let d=this.protocol2CodeConverter.asUri(s.uri);try{if(s.external===!0)return{success:await A.env.openExternal(d)};{let c={};return s.selection!==void 0&&(c.selection=this.protocol2CodeConverter.asRange(s.selection)),s.takeFocus===void 0||s.takeFocus===!1?c.preserveFocus=!0:s.takeFocus===!0&&(c.preserveFocus=!1),await A.window.showTextDocument(d,c),{success:!0}}}catch{return{success:!0}}},o=(n=this._clientOptions.middleware.window)===null||n===void 0?void 0:n.showDocument;return o!==void 0?o(r,i):i(r)}),e.listen(),this.initialize(e))).then(void 0,e=>{this.state=we.StartFailed,this._onReadyCallbacks.reject(e),this.error("Starting client failed",e),A.window.showErrorMessage(`Couldn't start client ${this._name}`)}),new A.Disposable(()=>{this.needsStop()&&this.stop()})}resolveConnection(){return this._connectionPromise||(this._connectionPromise=this.createConnection()),this._connectionPromise}initialize(e){this.refreshTrace(e,!1);let r=this._clientOptions.initializationOptions,n=this._clientOptions.workspaceFolder?this._clientOptions.workspaceFolder.uri.fsPath:this._clientGetRootPath(),i={processId:null,clientInfo:{name:A.env.appName,version:A.version},locale:this.getLocale(),rootPath:n||null,rootUri:n?this._c2p.asUri(A.Uri.file(n)):null,capabilities:this.computeClientCapabilities(),initializationOptions:pe.func(r)?r():r,trace:_.Trace.toString(this._trace),workspaceFolders:null};if(this.fillInitializeParams(i),this._clientOptions.progressOnInitialization){let o=ge.generateUuid(),s=new Xb.ProgressPart(e,o);return i.workDoneToken=o,this.doInitialize(e,i).then(d=>(s.done(),d),d=>{throw s.cancel(),d})}else return this.doInitialize(e,i)}doInitialize(e,r){return e.initialize(r).then(n=>{this._resolvedConnection=e,this._initializeResult=n,this.state=we.Running;let i;return pe.number(n.capabilities.textDocumentSync)?n.capabilities.textDocumentSync===_.TextDocumentSyncKind.None?i={openClose:!1,change:_.TextDocumentSyncKind.None,save:void 0}:i={openClose:!0,change:n.capabilities.textDocumentSync,save:{includeText:!1}}:n.capabilities.textDocumentSync!==void 0&&n.capabilities.textDocumentSync!==null&&(i=n.capabilities.textDocumentSync),this._capabilities=Object.assign({},n.capabilities,{resolvedTextDocumentSync:i}),e.onDiagnostics(o=>this.handleDiagnostics(o)),e.onRequest(_.RegistrationRequest.type,o=>this.handleRegistrationRequest(o)),e.onRequest("client/registerFeature",o=>this.handleRegistrationRequest(o)),e.onRequest(_.UnregistrationRequest.type,o=>this.handleUnregistrationRequest(o)),e.onRequest("client/unregisterFeature",o=>this.handleUnregistrationRequest(o)),e.onRequest(_.ApplyWorkspaceEditRequest.type,o=>this.handleApplyWorkspaceEdit(o)),e.sendNotification(_.InitializedNotification.type,{}),this.hookFileEvents(e),this.hookConfigurationChanged(e),this.initializeFeatures(e),this._onReadyCallbacks.resolve(),n}).then(void 0,n=>{throw this._clientOptions.initializationFailedHandler?this._clientOptions.initializationFailedHandler(n)?this.initialize(e):(this.stop(),this._onReadyCallbacks.reject(n)):n instanceof _.ResponseError&&n.data&&n.data.retry?A.window.showErrorMessage(n.message,{title:"Retry",id:"retry"}).then(i=>{i&&i.id==="retry"?this.initialize(e):(this.stop(),this._onReadyCallbacks.reject(n))}):(n&&n.message&&A.window.showErrorMessage(n.message),this.error("Server initialization failed.",n),this.stop(),this._onReadyCallbacks.reject(n)),n})}_clientGetRootPath(){let e=A.workspace.workspaceFolders;if(!e||e.length===0)return;let r=e[0];if(r.uri.scheme==="file")return r.uri.fsPath}stop(){return this._initializeResult=void 0,this._connectionPromise?this.state===we.Stopping&&this._onStop?this._onStop:(this.state=we.Stopping,this.cleanUp(!1),this._onStop=this.resolveConnection().then(e=>e.shutdown().then(()=>{e.exit(),e.end(),e.dispose(),this.state=we.Stopped,this.cleanUpChannel(),this._onStop=void 0,this._connectionPromise=void 0,this._resolvedConnection=void 0}))):(this.state=we.Stopped,Promise.resolve())}cleanUp(e=!0,r=!0){this._listeners&&(this._listeners.forEach(n=>n.dispose()),this._listeners=void 0),this._providers&&(this._providers.forEach(n=>n.dispose()),this._providers=void 0),this._syncedDocuments&&this._syncedDocuments.clear();for(let n of this._features.values())n.dispose();e&&this.cleanUpChannel(),r&&this._diagnostics&&(this._diagnostics.dispose(),this._diagnostics=void 0)}cleanUpChannel(){this._outputChannel&&this._disposeOutputChannel&&(this._outputChannel.dispose(),this._outputChannel=void 0)}notifyFileEvent(e){var r;let n=this;function i(s){n._fileEvents.push(s),n._fileEventDelayer.trigger(()=>{n.onReady().then(()=>{n.resolveConnection().then(d=>{n.isConnectionActive()&&(n.forceDocumentSync(),d.didChangeWatchedFiles({changes:n._fileEvents})),n._fileEvents=[]})},d=>{n.error("Notify file events failed.",d)})})}let o=(r=this.clientOptions.middleware)===null||r===void 0?void 0:r.workspace;(o==null?void 0:o.didChangeWatchedFile)?o.didChangeWatchedFile(e,i):i(e)}forceDocumentSync(){this._didChangeTextDocumentFeature===void 0&&(this._didChangeTextDocumentFeature=this._dynamicFeatures.get(_.DidChangeTextDocumentNotification.type.method)),this._didChangeTextDocumentFeature.forceDelivery()}handleDiagnostics(e){if(!this._diagnostics)return;let r=this._p2c.asUri(e.uri),n=this._p2c.asDiagnostics(e.diagnostics),i=this.clientOptions.middleware;i.handleDiagnostics?i.handleDiagnostics(r,n,(o,s)=>this.setDiagnostics(o,s)):this.setDiagnostics(r,n)}setDiagnostics(e,r){!this._diagnostics||this._diagnostics.set(e,r)}createConnection(){let e=(n,i,o)=>{this.handleConnectionError(n,i,o)},r=()=>{this.handleConnectionClosed()};return this.createMessageTransports(this._clientOptions.stdioEncoding||"utf8").then(n=>Jb(n.reader,n.writer,e,r,this._clientOptions.connectionOptions))}handleConnectionClosed(){if(this.state===we.Stopping||this.state===we.Stopped)return;try{this._resolvedConnection&&this._resolvedConnection.dispose()}catch{}let e=Gr.DoNotRestart;try{e=this._clientOptions.errorHandler.closed()}catch{}this._connectionPromise=void 0,this._resolvedConnection=void 0,e===Gr.DoNotRestart?(this.error("Connection to server got closed. Server will not be restarted."),this.state===we.Starting?(this._onReadyCallbacks.reject(new Error("Connection to server got closed. Server will not be restarted.")),this.state=we.StartFailed):this.state=we.Stopped,this.cleanUp(!1,!0)):e===Gr.Restart&&(this.info("Connection to server got closed. Server will restart."),this.cleanUp(!1,!1),this.state=we.Initial,this.start())}handleConnectionError(e,r,n){this._clientOptions.errorHandler.error(e,r,n)===co.Shutdown&&(this.error("Connection to server is erroring. Shutting down server."),this.stop())}hookConfigurationChanged(e){A.workspace.onDidChangeConfiguration(()=>{this.refreshTrace(e,!0)})}refreshTrace(e,r=!1){let n=A.workspace.getConfiguration(this._id),i=_.Trace.Off,o=_.TraceFormat.Text;if(n){let s=n.get("trace.server","off");typeof s=="string"?i=_.Trace.fromString(s):(i=_.Trace.fromString(n.get("trace.server.verbosity","off")),o=_.TraceFormat.fromString(n.get("trace.server.format","text")))}this._trace=i,this._traceFormat=o,e.trace(this._trace,this._tracer,{sendNotification:r,traceFormat:this._traceFormat})}hookFileEvents(e){let r=this._clientOptions.synchronize.fileEvents;if(!r)return;let n;pe.array(r)?n=r:n=[r],!!n&&this._dynamicFeatures.get(_.DidChangeWatchedFilesNotification.type.method).registerRaw(ge.generateUuid(),n)}registerFeatures(e){for(let r of e)this.registerFeature(r)}registerFeature(e){if(this._features.push(e),la.is(e)){let r=e.registrationType;this._dynamicFeatures.set(r.method,e)}}getFeature(e){return this._dynamicFeatures.get(e)}registerBuiltinFeatures(){this.registerFeature(new ph(this)),this.registerFeature(new Kf(this,this._syncedDocuments)),this.registerFeature(new Gf(this)),this.registerFeature(new Vf(this)),this.registerFeature(new Xf(this)),this.registerFeature(new Jf(this)),this.registerFeature(new Bf(this,this._syncedDocuments)),this.registerFeature(new Yf(this,e=>this.notifyFileEvent(e))),this.registerFeature(new Zf(this)),this.registerFeature(new eh(this)),this.registerFeature(new th(this)),this.registerFeature(new rh(this)),this.registerFeature(new nh(this)),this.registerFeature(new ih(this)),this.registerFeature(new oh(this)),this.registerFeature(new sh(this)),this.registerFeature(new ah(this)),this.registerFeature(new uh(this)),this.registerFeature(new ch(this)),this.registerFeature(new lh(this)),this.registerFeature(new dh(this)),this.registerFeature(new fh(this)),this.registerFeature(new hh(this)),this.registerFeature(new gh(this))}fillInitializeParams(e){for(let r of this._features)pe.func(r.fillInitializeParams)&&r.fillInitializeParams(e)}computeClientCapabilities(){let e={};z(e,"workspace").applyEdit=!0;let r=z(z(e,"workspace"),"workspaceEdit");r.documentChanges=!0,r.resourceOperations=[_.ResourceOperationKind.Create,_.ResourceOperationKind.Rename,_.ResourceOperationKind.Delete],r.failureHandling=_.FailureHandlingKind.TextOnlyTransactional,r.normalizesLineEndings=!0,r.changeAnnotationSupport={groupsOnLabel:!0};let n=z(z(e,"textDocument"),"publishDiagnostics");n.relatedInformation=!0,n.versionSupport=!1,n.tagSupport={valueSet:[_.DiagnosticTag.Unnecessary,_.DiagnosticTag.Deprecated]},n.codeDescriptionSupport=!0,n.dataSupport=!0;let i=z(e,"window"),o=z(i,"showMessage");o.messageActionItem={additionalPropertiesSupport:!0};let s=z(i,"showDocument");s.support=!0;let d=z(e,"general");d.regularExpressions={engine:"ECMAScript",version:"ES2020"},d.markdown={parser:"marked",version:"1.1.0"};for(let c of this._features)c.fillClientCapabilities(e);return e}initializeFeatures(e){let r=this._clientOptions.documentSelector;for(let n of this._features)n.initialize(this._capabilities,r)}handleRegistrationRequest(e){return new Promise((r,n)=>{for(let i of e.registrations){let o=this._dynamicFeatures.get(i.method);if(o===void 0){n(new Error(`No feature implementation for ${i.method} found. Registration failed.`));return}let s=i.registerOptions||{};s.documentSelector=s.documentSelector||this._clientOptions.documentSelector;let d={id:i.id,registerOptions:s};try{o.register(d)}catch(c){n(c);return}}r()})}handleUnregistrationRequest(e){return new Promise((r,n)=>{for(let i of e.unregisterations){let o=this._dynamicFeatures.get(i.method);if(!o){n(new Error(`No feature implementation for ${i.method} found. Unregistration failed.`));return}o.unregister(i.id)}r()})}handleApplyWorkspaceEdit(e){let r=e.edit,n=new Map;A.workspace.textDocuments.forEach(o=>n.set(o.uri.toString(),o));let i=!1;if(r.documentChanges){for(let o of r.documentChanges)if(_.TextDocumentEdit.is(o)&&o.textDocument.version&&o.textDocument.version>=0){let s=n.get(o.textDocument.uri);if(s&&s.version!==o.textDocument.version){i=!0;break}}}return i?Promise.resolve({applied:!1}):pe.asPromise(A.workspace.applyEdit(this._p2c.asWorkspaceEdit(e.edit)).then(o=>({applied:o})))}handleFailedRequest(e,r,n){if(r instanceof _.ResponseError){if(r.code===_.LSPErrorCodes.RequestCancelled)throw this.makeCancelError();if(r.code===_.LSPErrorCodes.ContentModified)return n}throw this.error(`Request ${e.method} failed.`,r),r}makeCancelError(){let e=new Error(Rn.Canceled);return e.name=Rn.Canceled,e}};ke.BaseLanguageClient=Rn;Rn.Canceled="Canceled"});var yh=E(ho=>{"use strict";Object.defineProperty(ho,"__esModule",{value:!0});ho.ColorProviderFeature=void 0;var fo=require("vscode"),di=Se(),Zb=ut();function mh(t,e){return t[e]===void 0&&(t[e]={}),t[e]}var vh=class extends Zb.TextDocumentFeature{constructor(e){super(e,di.DocumentColorRequest.type)}fillClientCapabilities(e){mh(mh(e,"textDocument"),"colorProvider").dynamicRegistration=!0}initialize(e,r){let[n,i]=this.getRegistration(r,e.colorProvider);!n||!i||this.register({id:n,registerOptions:i})}registerLanguageProvider(e){let r={provideColorPresentations:(n,i,o)=>{let s=this._client,d=(h,m,v)=>{let w={color:h,textDocument:s.code2ProtocolConverter.asTextDocumentIdentifier(m.document),range:s.code2ProtocolConverter.asRange(m.range)};return s.sendRequest(di.ColorPresentationRequest.type,w,v).then(this.asColorPresentations.bind(this),C=>s.handleFailedRequest(di.ColorPresentationRequest.type,C,null))},c=s.clientOptions.middleware;return c.provideColorPresentations?c.provideColorPresentations(n,i,o,d):d(n,i,o)},provideDocumentColors:(n,i)=>{let o=this._client,s=(c,h)=>{let m={textDocument:o.code2ProtocolConverter.asTextDocumentIdentifier(c)};return o.sendRequest(di.DocumentColorRequest.type,m,h).then(this.asColorInformations.bind(this),v=>o.handleFailedRequest(di.ColorPresentationRequest.type,v,null))},d=o.clientOptions.middleware;return d.provideDocumentColors?d.provideDocumentColors(n,i,s):s(n,i)}};return[fo.languages.registerColorProvider(e.documentSelector,r),r]}asColor(e){return new fo.Color(e.red,e.green,e.blue,e.alpha)}asColorInformations(e){return Array.isArray(e)?e.map(r=>new fo.ColorInformation(this._client.protocol2CodeConverter.asRange(r.range),this.asColor(r.color))):[]}asColorPresentations(e){return Array.isArray(e)?e.map(r=>{let n=new fo.ColorPresentation(r.label);return n.additionalTextEdits=this._client.protocol2CodeConverter.asTextEdits(r.additionalTextEdits),n.textEdit=this._client.protocol2CodeConverter.asTextEdit(r.textEdit),n}):[]}};ho.ColorProviderFeature=vh});var wh=E(po=>{"use strict";Object.defineProperty(po,"__esModule",{value:!0});po.ImplementationFeature=void 0;var eC=require("vscode"),fa=Se(),tC=ut();function _h(t,e){return t[e]===void 0&&(t[e]={}),t[e]}var Rh=class extends tC.TextDocumentFeature{constructor(e){super(e,fa.ImplementationRequest.type)}fillClientCapabilities(e){let r=_h(_h(e,"textDocument"),"implementation");r.dynamicRegistration=!0,r.linkSupport=!0}initialize(e,r){let[n,i]=this.getRegistration(r,e.implementationProvider);!n||!i||this.register({id:n,registerOptions:i})}registerLanguageProvider(e){let r={provideImplementation:(n,i,o)=>{let s=this._client,d=(h,m,v)=>s.sendRequest(fa.ImplementationRequest.type,s.code2ProtocolConverter.asTextDocumentPositionParams(h,m),v).then(s.protocol2CodeConverter.asDefinitionResult,w=>s.handleFailedRequest(fa.ImplementationRequest.type,w,null)),c=s.clientOptions.middleware;return c.provideImplementation?c.provideImplementation(n,i,o,d):d(n,i,o)}};return[eC.languages.registerImplementationProvider(e.documentSelector,r),r]}};po.ImplementationFeature=Rh});var Ch=E(mo=>{"use strict";Object.defineProperty(mo,"__esModule",{value:!0});mo.TypeDefinitionFeature=void 0;var rC=require("vscode"),ha=Se(),nC=ut();function go(t,e){return t[e]===void 0&&(t[e]={}),t[e]}var bh=class extends nC.TextDocumentFeature{constructor(e){super(e,ha.TypeDefinitionRequest.type)}fillClientCapabilities(e){go(go(e,"textDocument"),"typeDefinition").dynamicRegistration=!0;let r=go(go(e,"textDocument"),"typeDefinition");r.dynamicRegistration=!0,r.linkSupport=!0}initialize(e,r){let[n,i]=this.getRegistration(r,e.typeDefinitionProvider);!n||!i||this.register({id:n,registerOptions:i})}registerLanguageProvider(e){let r={provideTypeDefinition:(n,i,o)=>{let s=this._client,d=(h,m,v)=>s.sendRequest(ha.TypeDefinitionRequest.type,s.code2ProtocolConverter.asTextDocumentPositionParams(h,m),v).then(s.protocol2CodeConverter.asDefinitionResult,w=>s.handleFailedRequest(ha.TypeDefinitionRequest.type,w,null)),c=s.clientOptions.middleware;return c.provideTypeDefinition?c.provideTypeDefinition(n,i,o,d):d(n,i,o)}};return[rC.languages.registerTypeDefinitionProvider(e.documentSelector,r),r]}};mo.TypeDefinitionFeature=bh});var Th=E(wn=>{"use strict";Object.defineProperty(wn,"__esModule",{value:!0});wn.WorkspaceFoldersFeature=wn.arrayDiff=void 0;var iC=ao(),vo=require("vscode"),pa=Se();function ga(t,e){if(t!==void 0)return t[e]}function ma(t,e){return t.filter(r=>e.indexOf(r)<0)}wn.arrayDiff=ma;var Sh=class{constructor(e){this._client=e,this._listeners=new Map}get registrationType(){return pa.DidChangeWorkspaceFoldersNotification.type}fillInitializeParams(e){let r=vo.workspace.workspaceFolders;this.initializeWithFolders(r),r===void 0?e.workspaceFolders=null:e.workspaceFolders=r.map(n=>this.asProtocol(n))}initializeWithFolders(e){this._initialFolders=e}fillClientCapabilities(e){e.workspace=e.workspace||{},e.workspace.workspaceFolders=!0}initialize(e){let r=this._client;r.onRequest(pa.WorkspaceFoldersRequest.type,o=>{let s=()=>{let c=vo.workspace.workspaceFolders;return c===void 0?null:c.map(m=>this.asProtocol(m))},d=r.clientOptions.middleware.workspace;return d&&d.workspaceFolders?d.workspaceFolders(o,s):s(o)});let n=ga(ga(ga(e,"workspace"),"workspaceFolders"),"changeNotifications"),i;typeof n=="string"?i=n:n===!0&&(i=iC.generateUuid()),i&&this.register({id:i,registerOptions:void 0})}sendInitialEvent(e){if(this._initialFolders&&e){let r=ma(this._initialFolders,e),n=ma(e,this._initialFolders);(n.length>0||r.length>0)&&this.doSendEvent(n,r)}else this._initialFolders?this.doSendEvent([],this._initialFolders):e&&this.doSendEvent(e,[])}doSendEvent(e,r){let n={event:{added:e.map(i=>this.asProtocol(i)),removed:r.map(i=>this.asProtocol(i))}};this._client.sendNotification(pa.DidChangeWorkspaceFoldersNotification.type,n)}register(e){let r=e.id,n=this._client,i=vo.workspace.onDidChangeWorkspaceFolders(o=>{let s=c=>{this.doSendEvent(c.added,c.removed)},d=n.clientOptions.middleware.workspace;d&&d.didChangeWorkspaceFolders?d.didChangeWorkspaceFolders(o,s):s(o)});this._listeners.set(r,i),this.sendInitialEvent(vo.workspace.workspaceFolders)}unregister(e){let r=this._listeners.get(e);r!==void 0&&(this._listeners.delete(e),r.dispose())}dispose(){for(let e of this._listeners.values())e.dispose();this._listeners.clear()}asProtocol(e){return e===void 0?null:{uri:this._client.code2ProtocolConverter.asUri(e.uri),name:e.name}}};wn.WorkspaceFoldersFeature=Sh});var Ph=E(yo=>{"use strict";Object.defineProperty(yo,"__esModule",{value:!0});yo.FoldingRangeFeature=void 0;var fi=require("vscode"),bn=Se(),oC=ut();function Eh(t,e){return t[e]===void 0&&(t[e]={}),t[e]}var hi=class extends oC.TextDocumentFeature{constructor(e){super(e,bn.FoldingRangeRequest.type)}fillClientCapabilities(e){let r=Eh(Eh(e,"textDocument"),"foldingRange");r.dynamicRegistration=!0,r.rangeLimit=5e3,r.lineFoldingOnly=!0}initialize(e,r){let[n,i]=this.getRegistration(r,e.foldingRangeProvider);!n||!i||this.register({id:n,registerOptions:i})}registerLanguageProvider(e){let r={provideFoldingRanges:(n,i,o)=>{let s=this._client,d=(h,m,v)=>{let w={textDocument:s.code2ProtocolConverter.asTextDocumentIdentifier(h)};return s.sendRequest(bn.FoldingRangeRequest.type,w,v).then(hi.asFoldingRanges,C=>s.handleFailedRequest(bn.FoldingRangeRequest.type,C,null))},c=s.clientOptions.middleware;return c.provideFoldingRanges?c.provideFoldingRanges(n,i,o,d):d(n,i,o)}};return[fi.languages.registerFoldingRangeProvider(e.documentSelector,r),r]}static asFoldingRangeKind(e){if(e)switch(e){case bn.FoldingRangeKind.Comment:return fi.FoldingRangeKind.Comment;case bn.FoldingRangeKind.Imports:return fi.FoldingRangeKind.Imports;case bn.FoldingRangeKind.Region:return fi.FoldingRangeKind.Region}}static asFoldingRanges(e){return Array.isArray(e)?e.map(r=>new fi.FoldingRange(r.startLine,r.endLine,hi.asFoldingRangeKind(r.kind))):[]}};yo.FoldingRangeFeature=hi});var Oh=E(_o=>{"use strict";Object.defineProperty(_o,"__esModule",{value:!0});_o.DeclarationFeature=void 0;var sC=require("vscode"),va=Se(),aC=ut();function Dh(t,e){return t[e]===void 0&&(t[e]={}),t[e]}var qh=class extends aC.TextDocumentFeature{constructor(e){super(e,va.DeclarationRequest.type)}fillClientCapabilities(e){let r=Dh(Dh(e,"textDocument"),"declaration");r.dynamicRegistration=!0,r.linkSupport=!0}initialize(e,r){let[n,i]=this.getRegistration(r,e.declarationProvider);!n||!i||this.register({id:n,registerOptions:i})}registerLanguageProvider(e){let r={provideDeclaration:(n,i,o)=>{let s=this._client,d=(h,m,v)=>s.sendRequest(va.DeclarationRequest.type,s.code2ProtocolConverter.asTextDocumentPositionParams(h,m),v).then(s.protocol2CodeConverter.asDeclarationResult,w=>s.handleFailedRequest(va.DeclarationRequest.type,w,null)),c=s.clientOptions.middleware;return c.provideDeclaration?c.provideDeclaration(n,i,o,d):d(n,i,o)}};return[sC.languages.registerDeclarationProvider(e.documentSelector,r),r]}};_o.DeclarationFeature=qh});var Nh=E(Ro=>{"use strict";Object.defineProperty(Ro,"__esModule",{value:!0});Ro.SelectionRangeFeature=void 0;var uC=require("vscode"),ya=Se(),cC=ut();function xh(t,e){return t[e]===void 0&&(t[e]=Object.create(null)),t[e]}var kh=class extends cC.TextDocumentFeature{constructor(e){super(e,ya.SelectionRangeRequest.type)}fillClientCapabilities(e){let r=xh(xh(e,"textDocument"),"selectionRange");r.dynamicRegistration=!0}initialize(e,r){let[n,i]=this.getRegistration(r,e.selectionRangeProvider);!n||!i||this.register({id:n,registerOptions:i})}registerLanguageProvider(e){let r={provideSelectionRanges:(n,i,o)=>{let s=this._client,d=(h,m,v)=>{let w={textDocument:s.code2ProtocolConverter.asTextDocumentIdentifier(h),positions:s.code2ProtocolConverter.asPositions(m)};return s.sendRequest(ya.SelectionRangeRequest.type,w,v).then(C=>s.protocol2CodeConverter.asSelectionRanges(C),C=>s.handleFailedRequest(ya.SelectionRangeRequest.type,C,null))},c=s.clientOptions.middleware;return c.provideSelectionRanges?c.provideSelectionRanges(n,i,o,d):d(n,i,o)}};return[uC.languages.registerSelectionRangeProvider(e.documentSelector,r),r]}};Ro.SelectionRangeFeature=kh});var Fh=E(wo=>{"use strict";Object.defineProperty(wo,"__esModule",{value:!0});wo.ProgressFeature=void 0;var lC=Se(),dC=ca();function fC(t,e){return t[e]===void 0&&(t[e]=Object.create(null)),t[e]}var Ih=class{constructor(e){this._client=e,this.activeParts=new Set}fillClientCapabilities(e){fC(e,"window").workDoneProgress=!0}initialize(){let e=this._client,r=i=>{this.activeParts.delete(i)},n=i=>{this.activeParts.add(new dC.ProgressPart(this._client,i.token,r))};e.onRequest(lC.WorkDoneProgressCreateRequest.type,n)}dispose(){for(let e of this.activeParts)e.done();this.activeParts.clear()}};wo.ProgressFeature=Ih});var jh=E(bo=>{"use strict";Object.defineProperty(bo,"__esModule",{value:!0});bo.CallHierarchyFeature=void 0;var hC=require("vscode"),Vr=Se(),pC=ut();function Lh(t,e){return t[e]===void 0&&(t[e]={}),t[e]}var Ah=class{constructor(e){this.client=e,this.middleware=e.clientOptions.middleware}prepareCallHierarchy(e,r,n){let i=this.client,o=this.middleware,s=(d,c,h)=>{let m=i.code2ProtocolConverter.asTextDocumentPositionParams(d,c);return i.sendRequest(Vr.CallHierarchyPrepareRequest.type,m,h).then(v=>i.protocol2CodeConverter.asCallHierarchyItems(v),v=>i.handleFailedRequest(Vr.CallHierarchyPrepareRequest.type,v,null))};return o.prepareCallHierarchy?o.prepareCallHierarchy(e,r,n,s):s(e,r,n)}provideCallHierarchyIncomingCalls(e,r){let n=this.client,i=this.middleware,o=(s,d)=>{let c={item:n.code2ProtocolConverter.asCallHierarchyItem(s)};return n.sendRequest(Vr.CallHierarchyIncomingCallsRequest.type,c,d).then(h=>n.protocol2CodeConverter.asCallHierarchyIncomingCalls(h),h=>n.handleFailedRequest(Vr.CallHierarchyIncomingCallsRequest.type,h,null))};return i.provideCallHierarchyIncomingCalls?i.provideCallHierarchyIncomingCalls(e,r,o):o(e,r)}provideCallHierarchyOutgoingCalls(e,r){let n=this.client,i=this.middleware,o=(s,d)=>{let c={item:n.code2ProtocolConverter.asCallHierarchyItem(s)};return n.sendRequest(Vr.CallHierarchyOutgoingCallsRequest.type,c,d).then(h=>n.protocol2CodeConverter.asCallHierarchyOutgoingCalls(h),h=>n.handleFailedRequest(Vr.CallHierarchyOutgoingCallsRequest.type,h,null))};return i.provideCallHierarchyOutgoingCalls?i.provideCallHierarchyOutgoingCalls(e,r,o):o(e,r)}},Mh=class extends pC.TextDocumentFeature{constructor(e){super(e,Vr.CallHierarchyPrepareRequest.type)}fillClientCapabilities(e){let n=Lh(Lh(e,"textDocument"),"callHierarchy");n.dynamicRegistration=!0}initialize(e,r){let[n,i]=this.getRegistration(r,e.callHierarchyProvider);!n||!i||this.register({id:n,registerOptions:i})}registerLanguageProvider(e){let r=this._client,n=new Ah(r);return[hC.languages.registerCallHierarchyProvider(e.documentSelector,n),n]}};bo.CallHierarchyFeature=Mh});var Wh=E(To=>{"use strict";Object.defineProperty(To,"__esModule",{value:!0});To.SemanticTokensFeature=void 0;var Co=require("vscode"),gC=ut(),J=Se(),mC=gr();function So(t,e){return t[e]===void 0&&(t[e]={}),t[e]}var $h=class extends gC.TextDocumentFeature{constructor(e){super(e,J.SemanticTokensRegistrationType.type)}fillClientCapabilities(e){let r=So(So(e,"textDocument"),"semanticTokens");r.dynamicRegistration=!0,r.tokenTypes=[J.SemanticTokenTypes.namespace,J.SemanticTokenTypes.type,J.SemanticTokenTypes.class,J.SemanticTokenTypes.enum,J.SemanticTokenTypes.interface,J.SemanticTokenTypes.struct,J.SemanticTokenTypes.typeParameter,J.SemanticTokenTypes.parameter,J.SemanticTokenTypes.variable,J.SemanticTokenTypes.property,J.SemanticTokenTypes.enumMember,J.SemanticTokenTypes.event,J.SemanticTokenTypes.function,J.SemanticTokenTypes.method,J.SemanticTokenTypes.macro,J.SemanticTokenTypes.keyword,J.SemanticTokenTypes.modifier,J.SemanticTokenTypes.comment,J.SemanticTokenTypes.string,J.SemanticTokenTypes.number,J.SemanticTokenTypes.regexp,J.SemanticTokenTypes.operator],r.tokenModifiers=[J.SemanticTokenModifiers.declaration,J.SemanticTokenModifiers.definition,J.SemanticTokenModifiers.readonly,J.SemanticTokenModifiers.static,J.SemanticTokenModifiers.deprecated,J.SemanticTokenModifiers.abstract,J.SemanticTokenModifiers.async,J.SemanticTokenModifiers.modification,J.SemanticTokenModifiers.documentation,J.SemanticTokenModifiers.defaultLibrary],r.formats=[J.TokenFormat.Relative],r.requests={range:!0,full:{delta:!0}},r.multilineTokenSupport=!1,r.overlappingTokenSupport=!1,So(So(e,"workspace"),"semanticTokens").refreshSupport=!0}initialize(e,r){this._client.onRequest(J.SemanticTokensRefreshRequest.type,async()=>{for(let s of this.getAllProviders())s.onDidChangeSemanticTokensEmitter.fire()});let[i,o]=this.getRegistration(r,e.semanticTokensProvider);!i||!o||this.register({id:i,registerOptions:o})}registerLanguageProvider(e){let r=mC.boolean(e.full)?e.full:e.full!==void 0,n=e.full!==void 0&&typeof e.full!="boolean"&&e.full.delta===!0,i=new Co.EventEmitter,o=r?{onDidChangeSemanticTokens:i.event,provideDocumentSemanticTokens:(v,w)=>{let C=this._client,N=C.clientOptions.middleware,I=(L,O)=>{let x={textDocument:C.code2ProtocolConverter.asTextDocumentIdentifier(L)};return C.sendRequest(J.SemanticTokensRequest.type,x,O).then(P=>C.protocol2CodeConverter.asSemanticTokens(P),P=>C.handleFailedRequest(J.SemanticTokensRequest.type,P,null))};return N.provideDocumentSemanticTokens?N.provideDocumentSemanticTokens(v,w,I):I(v,w)},provideDocumentSemanticTokensEdits:n?(v,w,C)=>{let N=this._client,I=N.clientOptions.middleware,L=(O,x,P)=>{let q={textDocument:N.code2ProtocolConverter.asTextDocumentIdentifier(O),previousResultId:x};return N.sendRequest(J.SemanticTokensDeltaRequest.type,q,P).then(U=>J.SemanticTokens.is(U)?N.protocol2CodeConverter.asSemanticTokens(U):N.protocol2CodeConverter.asSemanticTokensEdits(U),U=>N.handleFailedRequest(J.SemanticTokensDeltaRequest.type,U,null))};return I.provideDocumentSemanticTokensEdits?I.provideDocumentSemanticTokensEdits(v,w,C,L):L(v,w,C)}:void 0}:void 0,d=e.range===!0?{provideDocumentRangeSemanticTokens:(v,w,C)=>{let N=this._client,I=N.clientOptions.middleware,L=(O,x,P)=>{let q={textDocument:N.code2ProtocolConverter.asTextDocumentIdentifier(O),range:N.code2ProtocolConverter.asRange(x)};return N.sendRequest(J.SemanticTokensRangeRequest.type,q,P).then(U=>N.protocol2CodeConverter.asSemanticTokens(U),U=>N.handleFailedRequest(J.SemanticTokensRangeRequest.type,U,null))};return I.provideDocumentRangeSemanticTokens?I.provideDocumentRangeSemanticTokens(v,w,C,L):L(v,w,C)}}:void 0,c=[],m=this._client.protocol2CodeConverter.asSemanticTokensLegend(e.legend);return o!==void 0&&c.push(Co.languages.registerDocumentSemanticTokensProvider(e.documentSelector,o,m)),d!==void 0&&c.push(Co.languages.registerDocumentRangeSemanticTokensProvider(e.documentSelector,d,m)),[new Co.Disposable(()=>c.forEach(v=>v.dispose())),{range:d,full:o,onDidChangeSemanticTokensEmitter:i}]}};To.SemanticTokensFeature=$h});var Uh=E((s0,Hh)=>{Hh.exports=function(t,e){for(var r=[],n=0;n<t.length;n++){var i=e(t[n],n);vC(i)?r.push.apply(r,i):r.push(i)}return r};var vC=Array.isArray||function(t){return Object.prototype.toString.call(t)==="[object Array]"}});var Vh=E((a0,Gh)=>{"use strict";Gh.exports=zh;function zh(t,e,r){t instanceof RegExp&&(t=Kh(t,r)),e instanceof RegExp&&(e=Kh(e,r));var n=Bh(t,e,r);return n&&{start:n[0],end:n[1],pre:r.slice(0,n[0]),body:r.slice(n[0]+t.length,n[1]),post:r.slice(n[1]+e.length)}}function Kh(t,e){var r=e.match(t);return r?r[0]:null}zh.range=Bh;function Bh(t,e,r){var n,i,o,s,d,c=r.indexOf(t),h=r.indexOf(e,c+1),m=c;if(c>=0&&h>0){if(t===e)return[c,h];for(n=[],o=r.length;m>=0&&!d;)m==c?(n.push(m),c=r.indexOf(t,m+1)):n.length==1?d=[n.pop(),h]:(i=n.pop(),i<o&&(o=i,s=h),h=r.indexOf(e,m+1)),m=c<h&&c>=0?c:h;n.length&&(d=[o,s])}return d}});var rp=E((u0,tp)=>{var yC=Uh(),Xh=Vh();tp.exports=wC;var Jh="\0SLASH"+Math.random()+"\0",Yh="\0OPEN"+Math.random()+"\0",_a="\0CLOSE"+Math.random()+"\0",Qh="\0COMMA"+Math.random()+"\0",Zh="\0PERIOD"+Math.random()+"\0";function Ra(t){return parseInt(t,10)==t?parseInt(t,10):t.charCodeAt(0)}function _C(t){return t.split("\\\\").join(Jh).split("\\{").join(Yh).split("\\}").join(_a).split("\\,").join(Qh).split("\\.").join(Zh)}function RC(t){return t.split(Jh).join("\\").split(Yh).join("{").split(_a).join("}").split(Qh).join(",").split(Zh).join(".")}function ep(t){if(!t)return[""];var e=[],r=Xh("{","}",t);if(!r)return t.split(",");var n=r.pre,i=r.body,o=r.post,s=n.split(",");s[s.length-1]+="{"+i+"}";var d=ep(o);return o.length&&(s[s.length-1]+=d.shift(),s.push.apply(s,d)),e.push.apply(e,s),e}function wC(t){return t?(t.substr(0,2)==="{}"&&(t="\\{\\}"+t.substr(2)),Cn(_C(t),!0).map(RC)):[]}function bC(t){return"{"+t+"}"}function CC(t){return/^-?0\d/.test(t)}function SC(t,e){return t<=e}function TC(t,e){return t>=e}function Cn(t,e){var r=[],n=Xh("{","}",t);if(!n||/\$$/.test(n.pre))return[t];var i=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(n.body),o=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(n.body),s=i||o,d=n.body.indexOf(",")>=0;if(!s&&!d)return n.post.match(/,.*\}/)?(t=n.pre+"{"+n.body+_a+n.post,Cn(t)):[t];var c;if(s)c=n.body.split(/\.\./);else if(c=ep(n.body),c.length===1&&(c=Cn(c[0],!1).map(bC),c.length===1)){var m=n.post.length?Cn(n.post,!1):[""];return m.map(function(ae){return n.pre+c[0]+ae})}var h=n.pre,m=n.post.length?Cn(n.post,!1):[""],v;if(s){var w=Ra(c[0]),C=Ra(c[1]),N=Math.max(c[0].length,c[1].length),I=c.length==3?Math.abs(Ra(c[2])):1,L=SC,O=C<w;O&&(I*=-1,L=TC);var x=c.some(CC);v=[];for(var P=w;L(P,C);P+=I){var q;if(o)q=String.fromCharCode(P),q==="\\"&&(q="");else if(q=String(P),x){var U=N-q.length;if(U>0){var he=new Array(U+1).join("0");P<0?q="-"+he+q.slice(1):q=he+q}}v.push(q)}}else v=yC(c,function(oe){return Cn(oe,!1)});for(var be=0;be<v.length;be++)for(var ye=0;ye<m.length;ye++){var ce=h+v[be]+m[ye];(!e||s||ce)&&r.push(ce)}return r}});var cp=E((c0,up)=>{up.exports=bt;bt.Minimatch=He;var pi={sep:"/"};try{pi=require("path")}catch{}var wa=bt.GLOBSTAR=He.GLOBSTAR={},EC=rp(),np={"!":{open:"(?:(?!(?:",close:"))[^/]*?)"},"?":{open:"(?:",close:")?"},"+":{open:"(?:",close:")+"},"*":{open:"(?:",close:")*"},"@":{open:"(?:",close:")"}},ba="[^/]",Ca=ba+"*?",PC="(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?",DC="(?:(?!(?:\\/|^)\\.).)*?",ip=qC("().*{}+?[]^$\\!");function qC(t){return t.split("").reduce(function(e,r){return e[r]=!0,e},{})}var op=/\/+/;bt.filter=OC;function OC(t,e){return e=e||{},function(r,n,i){return bt(r,t,e)}}function sp(t,e){t=t||{},e=e||{};var r={};return Object.keys(e).forEach(function(n){r[n]=e[n]}),Object.keys(t).forEach(function(n){r[n]=t[n]}),r}bt.defaults=function(t){if(!t||!Object.keys(t).length)return bt;var e=bt,r=function(i,o,s){return e.minimatch(i,o,sp(t,s))};return r.Minimatch=function(i,o){return new e.Minimatch(i,sp(t,o))},r};He.defaults=function(t){return!t||!Object.keys(t).length?He:bt.defaults(t).Minimatch};function bt(t,e,r){if(typeof e!="string")throw new TypeError("glob pattern string required");return r||(r={}),!r.nocomment&&e.charAt(0)==="#"?!1:e.trim()===""?t==="":new He(e,r).match(t)}function He(t,e){if(!(this instanceof He))return new He(t,e);if(typeof t!="string")throw new TypeError("glob pattern string required");e||(e={}),t=t.trim(),pi.sep!=="/"&&(t=t.split(pi.sep).join("/")),this.options=e,this.set=[],this.pattern=t,this.regexp=null,this.negate=!1,this.comment=!1,this.empty=!1,this.make()}He.prototype.debug=function(){};He.prototype.make=xC;function xC(){if(!this._made){var t=this.pattern,e=this.options;if(!e.nocomment&&t.charAt(0)==="#"){this.comment=!0;return}if(!t){this.empty=!0;return}this.parseNegate();var r=this.globSet=this.braceExpand();e.debug&&(this.debug=console.error),this.debug(this.pattern,r),r=this.globParts=r.map(function(n){return n.split(op)}),this.debug(this.pattern,r),r=r.map(function(n,i,o){return n.map(this.parse,this)},this),this.debug(this.pattern,r),r=r.filter(function(n){return n.indexOf(!1)===-1}),this.debug(this.pattern,r),this.set=r}}He.prototype.parseNegate=kC;function kC(){var t=this.pattern,e=!1,r=this.options,n=0;if(!r.nonegate){for(var i=0,o=t.length;i<o&&t.charAt(i)==="!";i++)e=!e,n++;n&&(this.pattern=t.substr(n)),this.negate=e}}bt.braceExpand=function(t,e){return ap(t,e)};He.prototype.braceExpand=ap;function ap(t,e){if(e||(this instanceof He?e=this.options:e={}),t=typeof t=="undefined"?this.pattern:t,typeof t=="undefined")throw new TypeError("undefined pattern");return e.nobrace||!t.match(/\{.*\}/)?[t]:EC(t)}He.prototype.parse=NC;var Eo={};function NC(t,e){if(t.length>1024*64)throw new TypeError("pattern is too long");var r=this.options;if(!r.noglobstar&&t==="**")return wa;if(t==="")return"";var n="",i=!!r.nocase,o=!1,s=[],d=[],c,h=!1,m=-1,v=-1,w=t.charAt(0)==="."?"":r.dot?"(?!(?:^|\\/)\\.{1,2}(?:$|\\/))":"(?!\\.)",C=this;function N(){if(c){switch(c){case"*":n+=Ca,i=!0;break;case"?":n+=ba,i=!0;break;default:n+="\\"+c;break}C.debug("clearStateChar %j %j",c,n),c=!1}}for(var I=0,L=t.length,O;I<L&&(O=t.charAt(I));I++){if(this.debug("%s	%s %s %j",t,I,n,O),o&&ip[O]){n+="\\"+O,o=!1;continue}switch(O){case"/":return!1;case"\\":N(),o=!0;continue;case"?":case"*":case"+":case"@":case"!":if(this.debug("%s	%s %s %j <-- stateChar",t,I,n,O),h){this.debug("  in class"),O==="!"&&I===v+1&&(O="^"),n+=O;continue}C.debug("call clearStateChar %j",c),N(),c=O,r.noext&&N();continue;case"(":if(h){n+="(";continue}if(!c){n+="\\(";continue}s.push({type:c,start:I-1,reStart:n.length,open:np[c].open,close:np[c].close}),n+=c==="!"?"(?:(?!(?:":"(?:",this.debug("plType %j %j",c,n),c=!1;continue;case")":if(h||!s.length){n+="\\)";continue}N(),i=!0;var x=s.pop();n+=x.close,x.type==="!"&&d.push(x),x.reEnd=n.length;continue;case"|":if(h||!s.length||o){n+="\\|",o=!1;continue}N(),n+="|";continue;case"[":if(N(),h){n+="\\"+O;continue}h=!0,v=I,m=n.length,n+=O;continue;case"]":if(I===v+1||!h){n+="\\"+O,o=!1;continue}if(h){var P=t.substring(v+1,I);try{RegExp("["+P+"]")}catch{var q=this.parse(P,Eo);n=n.substr(0,m)+"\\["+q[0]+"\\]",i=i||q[1],h=!1;continue}}i=!0,h=!1,n+=O;continue;default:N(),o?o=!1:ip[O]&&!(O==="^"&&h)&&(n+="\\"),n+=O}}for(h&&(P=t.substr(v+1),q=this.parse(P,Eo),n=n.substr(0,m)+"\\["+q[0],i=i||q[1]),x=s.pop();x;x=s.pop()){var U=n.slice(x.reStart+x.open.length);this.debug("setting tail",n,x),U=U.replace(/((?:\\{2}){0,64})(\\?)\|/g,function(at,dt,Pt){return Pt||(Pt="\\"),dt+dt+Pt+"|"}),this.debug(`tail=%j
   %s`,U,U,x,n);var he=x.type==="*"?Ca:x.type==="?"?ba:"\\"+x.type;i=!0,n=n.slice(0,x.reStart)+he+"\\("+U}N(),o&&(n+="\\\\");var be=!1;switch(n.charAt(0)){case".":case"[":case"(":be=!0}for(var ye=d.length-1;ye>-1;ye--){var ce=d[ye],oe=n.slice(0,ce.reStart),ae=n.slice(ce.reStart,ce.reEnd-8),Te=n.slice(ce.reEnd-8,ce.reEnd),Ye=n.slice(ce.reEnd);Te+=Ye;var nt=oe.split("(").length-1,Qe=Ye;for(I=0;I<nt;I++)Qe=Qe.replace(/\)[+*?]?/,"");Ye=Qe;var lt="";Ye===""&&e!==Eo&&(lt="$");var me=oe+ae+Ye+lt+Te;n=me}if(n!==""&&i&&(n="(?=.)"+n),be&&(n=w+n),e===Eo)return[n,i];if(!i)return LC(t);var Et=r.nocase?"i":"";try{var Ae=new RegExp("^"+n+"$",Et)}catch{return new RegExp("$.")}return Ae._glob=t,Ae._src=n,Ae}bt.makeRe=function(t,e){return new He(t,e||{}).makeRe()};He.prototype.makeRe=IC;function IC(){if(this.regexp||this.regexp===!1)return this.regexp;var t=this.set;if(!t.length)return this.regexp=!1,this.regexp;var e=this.options,r=e.noglobstar?Ca:e.dot?PC:DC,n=e.nocase?"i":"",i=t.map(function(o){return o.map(function(s){return s===wa?r:typeof s=="string"?AC(s):s._src}).join("\\/")}).join("|");i="^(?:"+i+")$",this.negate&&(i="^(?!"+i+").*$");try{this.regexp=new RegExp(i,n)}catch{this.regexp=!1}return this.regexp}bt.match=function(t,e,r){r=r||{};var n=new He(e,r);return t=t.filter(function(i){return n.match(i)}),n.options.nonull&&!t.length&&t.push(e),t};He.prototype.match=FC;function FC(t,e){if(this.debug("match",t,this.pattern),this.comment)return!1;if(this.empty)return t==="";if(t==="/"&&e)return!0;var r=this.options;pi.sep!=="/"&&(t=t.split(pi.sep).join("/")),t=t.split(op),this.debug(this.pattern,"split",t);var n=this.set;this.debug(this.pattern,"set",n);var i,o;for(o=t.length-1;o>=0&&(i=t[o],!i);o--);for(o=0;o<n.length;o++){var s=n[o],d=t;r.matchBase&&s.length===1&&(d=[i]);var c=this.matchOne(d,s,e);if(c)return r.flipNegate?!0:!this.negate}return r.flipNegate?!1:this.negate}He.prototype.matchOne=function(t,e,r){var n=this.options;this.debug("matchOne",{this:this,file:t,pattern:e}),this.debug("matchOne",t.length,e.length);for(var i=0,o=0,s=t.length,d=e.length;i<s&&o<d;i++,o++){this.debug("matchOne loop");var c=e[o],h=t[i];if(this.debug(e,c,h),c===!1)return!1;if(c===wa){this.debug("GLOBSTAR",[e,c,h]);var m=i,v=o+1;if(v===d){for(this.debug("** at the end");i<s;i++)if(t[i]==="."||t[i]===".."||!n.dot&&t[i].charAt(0)===".")return!1;return!0}for(;m<s;){var w=t[m];if(this.debug(`
globstar while`,t,m,e,v,w),this.matchOne(t.slice(m),e.slice(v),r))return this.debug("globstar found match!",m,s,w),!0;if(w==="."||w===".."||!n.dot&&w.charAt(0)==="."){this.debug("dot detected!",t,m,e,v);break}this.debug("globstar swallow a segment, and continue"),m++}return!!(r&&(this.debug(`
>>> no match, partial?`,t,m,e,v),m===s))}var C;if(typeof c=="string"?(n.nocase?C=h.toLowerCase()===c.toLowerCase():C=h===c,this.debug("string match",c,h,C)):(C=h.match(c),this.debug("pattern match",c,h,C)),!C)return!1}if(i===s&&o===d)return!0;if(i===s)return r;if(o===d){var N=i===s-1&&t[i]==="";return N}throw new Error("wtf?")};function LC(t){return t.replace(/\\(.)/g,"$1")}function AC(t){return t.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}});var yp=E(st=>{"use strict";Object.defineProperty(st,"__esModule",{value:!0});st.WillDeleteFilesFeature=st.WillRenameFilesFeature=st.WillCreateFilesFeature=st.DidDeleteFilesFeature=st.DidRenameFilesFeature=st.DidCreateFilesFeature=void 0;var Wt=require("vscode"),MC=cp(),nr=Se(),jC=ao();function lp(t,e){return t[e]===void 0&&(t[e]={}),t[e]}function $C(t,e){return t[e]}function dp(t,e,r){t[e]=r}var Xr=class{constructor(e,r,n,i,o){this._filters=new Map,this._client=e,this._event=r,this._registrationType=n,this._clientCapability=i,this._serverCapability=o}get registrationType(){return this._registrationType}fillClientCapabilities(e){let r=lp(lp(e,"workspace"),"fileOperations");dp(r,"dynamicRegistration",!0),dp(r,this._clientCapability,!0)}initialize(e){var r;let n=(r=e.workspace)===null||r===void 0?void 0:r.fileOperations,i=n!==void 0?$C(n,this._serverCapability):void 0;if((i==null?void 0:i.filters)!==void 0)try{this.register({id:jC.generateUuid(),registerOptions:{filters:i.filters}})}catch(o){this._client.warn(`Ignoring invalid glob pattern for ${this._serverCapability} registration: ${o}`)}}register(e){this._listener||(this._listener=this._event(this.send,this));let r=e.registerOptions.filters.map(n=>{let i=new MC.Minimatch(n.pattern.glob,Xr.asMinimatchOptions(n.pattern.options));if(!i.makeRe())throw new Error(`Invalid pattern ${n.pattern.glob}!`);return{scheme:n.scheme,matcher:i,kind:n.pattern.matches}});this._filters.set(e.id,r)}unregister(e){this._filters.delete(e),this._filters.size===0&&this._listener&&(this._listener.dispose(),this._listener=void 0)}dispose(){this._filters.clear(),this._listener&&(this._listener.dispose(),this._listener=void 0)}async filter(e,r){let n=await Promise.all(e.files.map(async o=>{let s=r(o),d=s.fsPath.replace(/\\/g,"/");for(let c of this._filters.values())for(let h of c)if(!(h.scheme!==void 0&&h.scheme!==s.scheme)){if(h.matcher.match(d)){if(h.kind===void 0)return!0;let m=await Xr.getFileType(s);if(m===void 0)return this._client.error(`Failed to determine file type for ${s.toString()}.`),!0;if(m===Wt.FileType.File&&h.kind===nr.FileOperationPatternKind.file||m===Wt.FileType.Directory&&h.kind===nr.FileOperationPatternKind.folder)return!0}else if(h.kind===nr.FileOperationPatternKind.folder&&await Xr.getFileType(s)===Wt.FileType.Directory&&h.matcher.match(`${d}/`))return!0}return!1})),i=e.files.filter((o,s)=>n[s]);return Object.assign(Object.assign({},e),{files:i})}static async getFileType(e){try{return(await Wt.workspace.fs.stat(e)).type}catch{return}}static asMinimatchOptions(e){if(e!==void 0&&e.ignoreCase===!0)return{nocase:!0}}},Po=class extends Xr{constructor(e,r,n,i,o,s,d){super(e,r,n,i,o);this._notificationType=n,this._accessUri=s,this._createParams=d}async send(e){let r=await this.filter(e,this._accessUri);if(r.files.length){let n=async i=>{this._client.sendNotification(this._notificationType,this._createParams(i))};this.doSend(r,n)}}},fp=class extends Po{constructor(e){super(e,Wt.workspace.onDidCreateFiles,nr.DidCreateFilesNotification.type,"didCreate","didCreate",r=>r,e.code2ProtocolConverter.asDidCreateFilesParams)}doSend(e,r){var n;let i=(n=this._client.clientOptions.middleware)===null||n===void 0?void 0:n.workspace;return(i==null?void 0:i.didCreateFiles)?i.didCreateFiles(e,r):r(e)}};st.DidCreateFilesFeature=fp;var hp=class extends Po{constructor(e){super(e,Wt.workspace.onDidRenameFiles,nr.DidRenameFilesNotification.type,"didRename","didRename",r=>r.oldUri,e.code2ProtocolConverter.asDidRenameFilesParams)}doSend(e,r){var n;let i=(n=this._client.clientOptions.middleware)===null||n===void 0?void 0:n.workspace;return(i==null?void 0:i.didRenameFiles)?i.didRenameFiles(e,r):r(e)}};st.DidRenameFilesFeature=hp;var pp=class extends Po{constructor(e){super(e,Wt.workspace.onDidDeleteFiles,nr.DidDeleteFilesNotification.type,"didDelete","didDelete",r=>r,e.code2ProtocolConverter.asDidDeleteFilesParams)}doSend(e,r){var n;let i=(n=this._client.clientOptions.middleware)===null||n===void 0?void 0:n.workspace;return(i==null?void 0:i.didDeleteFiles)?i.didDeleteFiles(e,r):r(e)}};st.DidDeleteFilesFeature=pp;var Do=class extends Xr{constructor(e,r,n,i,o,s,d){super(e,r,n,i,o);this._requestType=n,this._accessUri=s,this._createParams=d}async send(e){let r=this.waitUntil(e);e.waitUntil(r)}async waitUntil(e){let r=await this.filter(e,this._accessUri);if(r.files.length){let n=i=>this._client.sendRequest(this._requestType,this._createParams(i)).then(this._client.protocol2CodeConverter.asWorkspaceEdit);return this.doSend(r,n)}else return}},gp=class extends Do{constructor(e){super(e,Wt.workspace.onWillCreateFiles,nr.WillCreateFilesRequest.type,"willCreate","willCreate",r=>r,e.code2ProtocolConverter.asWillCreateFilesParams)}doSend(e,r){var n;let i=(n=this._client.clientOptions.middleware)===null||n===void 0?void 0:n.workspace;return(i==null?void 0:i.willCreateFiles)?i.willCreateFiles(e,r):r(e)}};st.WillCreateFilesFeature=gp;var mp=class extends Do{constructor(e){super(e,Wt.workspace.onWillRenameFiles,nr.WillRenameFilesRequest.type,"willRename","willRename",r=>r.oldUri,e.code2ProtocolConverter.asWillRenameFilesParams)}doSend(e,r){var n;let i=(n=this._client.clientOptions.middleware)===null||n===void 0?void 0:n.workspace;return(i==null?void 0:i.willRenameFiles)?i.willRenameFiles(e,r):r(e)}};st.WillRenameFilesFeature=mp;var vp=class extends Do{constructor(e){super(e,Wt.workspace.onWillDeleteFiles,nr.WillDeleteFilesRequest.type,"willDelete","willDelete",r=>r,e.code2ProtocolConverter.asWillDeleteFilesParams)}doSend(e,r){var n;let i=(n=this._client.clientOptions.middleware)===null||n===void 0?void 0:n.workspace;return(i==null?void 0:i.willDeleteFiles)?i.willDeleteFiles(e,r):r(e)}};st.WillDeleteFilesFeature=vp});var wp=E(qo=>{"use strict";Object.defineProperty(qo,"__esModule",{value:!0});qo.LinkedEditingFeature=void 0;var WC=require("vscode"),Sa=Se(),HC=ut();function _p(t,e){return t[e]===void 0&&(t[e]={}),t[e]}var Rp=class extends HC.TextDocumentFeature{constructor(e){super(e,Sa.LinkedEditingRangeRequest.type)}fillClientCapabilities(e){let r=_p(_p(e,"textDocument"),"linkedEditingRange");r.dynamicRegistration=!0}initialize(e,r){let[n,i]=this.getRegistration(r,e.linkedEditingRangeProvider);!n||!i||this.register({id:n,registerOptions:i})}registerLanguageProvider(e){let r={provideLinkedEditingRanges:(n,i,o)=>{let s=this._client,d=(h,m,v)=>s.sendRequest(Sa.LinkedEditingRangeRequest.type,s.code2ProtocolConverter.asTextDocumentPositionParams(h,m),v).then(s.protocol2CodeConverter.asLinkedEditingRanges,w=>s.handleFailedRequest(Sa.LinkedEditingRangeRequest.type,w,null)),c=s.clientOptions.middleware;return c.provideLinkedEditingRange?c.provideLinkedEditingRange(n,i,o,d):d(n,i,o)}};return[WC.languages.registerLinkedEditingRangeProvider(e.documentSelector,r),r]}};qo.LinkedEditingFeature=Rp});var Ta=E(Jr=>{"use strict";Object.defineProperty(Jr,"__esModule",{value:!0});Jr.ProposedFeatures=Jr.CommonLanguageClient=void 0;var UC=ut(),zC=yh(),KC=Xs(),BC=wh(),GC=Ch(),VC=Th(),XC=Ph(),JC=Oh(),YC=Nh(),QC=Fh(),ZC=jh(),eS=Wh(),Sn=yp(),tS=wp(),bp=class extends UC.BaseLanguageClient{constructor(e,r,n){super(e,r,n)}registerProposedFeatures(){this.registerFeatures(Cp.createAll(this))}registerBuiltinFeatures(){super.registerBuiltinFeatures(),this.registerFeature(new KC.ConfigurationFeature(this)),this.registerFeature(new GC.TypeDefinitionFeature(this)),this.registerFeature(new BC.ImplementationFeature(this)),this.registerFeature(new zC.ColorProviderFeature(this)),this.registerFeature(new VC.WorkspaceFoldersFeature(this)),this.registerFeature(new XC.FoldingRangeFeature(this)),this.registerFeature(new JC.DeclarationFeature(this)),this.registerFeature(new YC.SelectionRangeFeature(this)),this.registerFeature(new QC.ProgressFeature(this)),this.registerFeature(new ZC.CallHierarchyFeature(this)),this.registerFeature(new eS.SemanticTokensFeature(this)),this.registerFeature(new tS.LinkedEditingFeature(this)),this.registerFeature(new Sn.DidCreateFilesFeature(this)),this.registerFeature(new Sn.DidRenameFilesFeature(this)),this.registerFeature(new Sn.DidDeleteFilesFeature(this)),this.registerFeature(new Sn.WillCreateFilesFeature(this)),this.registerFeature(new Sn.WillRenameFilesFeature(this)),this.registerFeature(new Sn.WillDeleteFilesFeature(this))}};Jr.CommonLanguageClient=bp;var Cp;(function(t){function e(r){return[]}t.createAll=e})(Cp=Jr.ProposedFeatures||(Jr.ProposedFeatures={}))});var Tp=E(Oo=>{"use strict";Object.defineProperty(Oo,"__esModule",{value:!0});Oo.terminate=void 0;var Sp=require("child_process"),rS=require("path"),nS=process.platform==="win32",iS=process.platform==="darwin",oS=process.platform==="linux";function sS(t,e){if(nS)try{let i={stdio:["pipe","pipe","ignore"]};return e&&(i.cwd=e),Sp.execFileSync("taskkill",["/T","/F","/PID",t.pid.toString()],i),!0}catch{return!1}else if(oS||iS)try{var r=rS.join(__dirname,"terminateProcess.sh"),n=Sp.spawnSync(r,[t.pid.toString()]);return!n.error}catch{return!1}else return t.kill("SIGKILL"),!0}Oo.terminate=sS});var Ea=E((p0,Ep)=>{"use strict";Ep.exports=Se()});var Pp=E(ir=>{"use strict";var aS=ir&&ir.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Pa=ir&&ir.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&aS(e,t,r)};Object.defineProperty(ir,"__esModule",{value:!0});Pa(Se(),ir);Pa(ut(),ir);Pa(Ta(),ir)});var Np=E(rt=>{"use strict";var uS=rt&&rt.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Dp=rt&&rt.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&uS(e,t,r)};Object.defineProperty(rt,"__esModule",{value:!0});rt.SettingMonitor=rt.LanguageClient=rt.TransportKind=void 0;var Yr=require("child_process"),Da=require("fs"),qa=require("path"),qp=Tl(),Rr=require("vscode"),Fe=gr(),cS=Ta(),lS=ut(),dS=Tp(),Le=Ea();Dp(Ea(),rt);Dp(Pp(),rt);var Op="^1.52.0",Oa;(function(t){function e(r){return Fe.string(r.command)}t.is=e})(Oa||(Oa={}));var Ke;(function(t){t[t.stdio=0]="stdio",t[t.ipc=1]="ipc",t[t.pipe=2]="pipe",t[t.socket=3]="socket"})(Ke=rt.TransportKind||(rt.TransportKind={}));var Tn;(function(t){function e(r){let n=r;return n&&n.kind===Ke.socket&&Fe.number(n.port)}t.isSocket=e})(Tn||(Tn={}));var xa;(function(t){function e(r){return Fe.string(r.module)}t.is=e})(xa||(xa={}));var ka;(function(t){function e(r){let n=r;return n&&n.writer!==void 0&&n.reader!==void 0}t.is=e})(ka||(ka={}));var Na;(function(t){function e(r){let n=r;return n&&n.process!==void 0&&typeof n.detached=="boolean"}t.is=e})(Na||(Na={}));var xp=class extends cS.CommonLanguageClient{constructor(e,r,n,i,o){let s,d,c,h,m;Fe.string(r)?(s=e,d=r,c=n,h=i,m=!!o):(s=e.toLowerCase(),d=e,c=r,h=n,m=i),m===void 0&&(m=!1);super(s,d,h);this._serverOptions=c,this._forceDebug=m;try{this.checkVersion()}catch(v){throw Fe.string(v.message)&&this.outputChannel.appendLine(v.message),v}}checkVersion(){let e=qp.parse(Rr.version);if(!e)throw new Error(`No valid VS Code version detected. Version string is: ${Rr.version}`);if(e.prerelease&&e.prerelease.length>0&&(e.prerelease=[]),!qp.satisfies(e,Op))throw new Error(`The language client requires VS Code version ${Op} but received version ${Rr.version}`)}stop(){return super.stop().then(()=>{if(this._serverProcess){let e=this._serverProcess;this._serverProcess=void 0,(this._isDetached===void 0||!this._isDetached)&&this.checkProcessDied(e),this._isDetached=void 0}})}checkProcessDied(e){!e||setTimeout(()=>{try{process.kill(e.pid,0),dS.terminate(e)}catch{}},2e3)}handleConnectionClosed(){this._serverProcess=void 0,super.handleConnectionClosed()}fillInitializeParams(e){super.fillInitializeParams(e),e.processId===null&&(e.processId=process.pid)}createMessageTransports(e){function r(m,v){if(!m&&!v)return;let w=Object.create(null);return Object.keys(process.env).forEach(C=>w[C]=process.env[C]),v&&(w.ELECTRON_RUN_AS_NODE="1",w.ELECTRON_NO_ASAR="1"),m&&Object.keys(m).forEach(C=>w[C]=m[C]),w}let n=["--debug=","--debug-brk=","--inspect=","--inspect-brk="],i=["--debug","--debug-brk","--inspect","--inspect-brk"];function o(){let m=process.execArgv;return m?m.some(v=>n.some(w=>v.startsWith(w))||i.some(w=>v===w)):!1}function s(m){if(m.stdin===null||m.stdout===null||m.stderr===null)throw new Error("Process created without stdio streams")}let d=this._serverOptions;if(Fe.func(d))return d().then(m=>{if(lS.MessageTransports.is(m))return this._isDetached=!!m.detached,m;if(ka.is(m))return this._isDetached=!!m.detached,{reader:new Le.StreamMessageReader(m.reader),writer:new Le.StreamMessageWriter(m.writer)};{let v;return Na.is(m)?(v=m.process,this._isDetached=m.detached):(v=m,this._isDetached=!1),v.stderr.on("data",w=>this.outputChannel.append(Fe.string(w)?w:w.toString(e))),{reader:new Le.StreamMessageReader(v.stdout),writer:new Le.StreamMessageWriter(v.stdin)}}});let c,h=d;return h.run||h.debug?this._forceDebug||o()?c=h.debug:c=h.run:c=d,this._getServerWorkingDir(c.options).then(m=>{if(xa.is(c)&&c.module){let v=c,w=v.transport||Ke.stdio;if(v.runtime){let C=[],N=v.options||Object.create(null);N.execArgv&&N.execArgv.forEach(x=>C.push(x)),C.push(v.module),v.args&&v.args.forEach(x=>C.push(x));let I=Object.create(null);I.cwd=m,I.env=r(N.env,!1);let L=this._getRuntimePath(v.runtime,m),O;if(w===Ke.ipc?(I.stdio=[null,null,null,"ipc"],C.push("--node-ipc")):w===Ke.stdio?C.push("--stdio"):w===Ke.pipe?(O=Le.generateRandomPipeName(),C.push(`--pipe=${O}`)):Tn.isSocket(w)&&C.push(`--socket=${w.port}`),C.push(`--clientProcessId=${process.pid.toString()}`),w===Ke.ipc||w===Ke.stdio){let x=Yr.spawn(L,C,I);return!x||!x.pid?Promise.reject(`Launching server using runtime ${L} failed.`):(this._serverProcess=x,x.stderr.on("data",P=>this.outputChannel.append(Fe.string(P)?P:P.toString(e))),w===Ke.ipc?(x.stdout.on("data",P=>this.outputChannel.append(Fe.string(P)?P:P.toString(e))),Promise.resolve({reader:new Le.IPCMessageReader(x),writer:new Le.IPCMessageWriter(x)})):Promise.resolve({reader:new Le.StreamMessageReader(x.stdout),writer:new Le.StreamMessageWriter(x.stdin)}))}else{if(w===Ke.pipe)return Le.createClientPipeTransport(O).then(x=>{let P=Yr.spawn(L,C,I);return!P||!P.pid?Promise.reject(`Launching server using runtime ${L} failed.`):(this._serverProcess=P,P.stderr.on("data",q=>this.outputChannel.append(Fe.string(q)?q:q.toString(e))),P.stdout.on("data",q=>this.outputChannel.append(Fe.string(q)?q:q.toString(e))),x.onConnected().then(q=>({reader:q[0],writer:q[1]})))});if(Tn.isSocket(w))return Le.createClientSocketTransport(w.port).then(x=>{let P=Yr.spawn(L,C,I);return!P||!P.pid?Promise.reject(`Launching server using runtime ${L} failed.`):(this._serverProcess=P,P.stderr.on("data",q=>this.outputChannel.append(Fe.string(q)?q:q.toString(e))),P.stdout.on("data",q=>this.outputChannel.append(Fe.string(q)?q:q.toString(e))),x.onConnected().then(q=>({reader:q[0],writer:q[1]})))})}}else{let C;return new Promise((N,I)=>{let L=v.args&&v.args.slice()||[];w===Ke.ipc?L.push("--node-ipc"):w===Ke.stdio?L.push("--stdio"):w===Ke.pipe?(C=Le.generateRandomPipeName(),L.push(`--pipe=${C}`)):Tn.isSocket(w)&&L.push(`--socket=${w.port}`),L.push(`--clientProcessId=${process.pid.toString()}`);let O=v.options||Object.create(null);if(O.env=r(O.env,!0),O.execArgv=O.execArgv||[],O.cwd=m,O.silent=!0,w===Ke.ipc||w===Ke.stdio){let x=Yr.fork(v.module,L||[],O);s(x),this._serverProcess=x,x.stderr.on("data",P=>this.outputChannel.append(Fe.string(P)?P:P.toString(e))),w===Ke.ipc?(x.stdout.on("data",P=>this.outputChannel.append(Fe.string(P)?P:P.toString(e))),N({reader:new Le.IPCMessageReader(this._serverProcess),writer:new Le.IPCMessageWriter(this._serverProcess)})):N({reader:new Le.StreamMessageReader(x.stdout),writer:new Le.StreamMessageWriter(x.stdin)})}else w===Ke.pipe?Le.createClientPipeTransport(C).then(x=>{let P=Yr.fork(v.module,L||[],O);s(P),this._serverProcess=P,P.stderr.on("data",q=>this.outputChannel.append(Fe.string(q)?q:q.toString(e))),P.stdout.on("data",q=>this.outputChannel.append(Fe.string(q)?q:q.toString(e))),x.onConnected().then(q=>{N({reader:q[0],writer:q[1]})})}):Tn.isSocket(w)&&Le.createClientSocketTransport(w.port).then(x=>{let P=Yr.fork(v.module,L||[],O);s(P),this._serverProcess=P,P.stderr.on("data",q=>this.outputChannel.append(Fe.string(q)?q:q.toString(e))),P.stdout.on("data",q=>this.outputChannel.append(Fe.string(q)?q:q.toString(e))),x.onConnected().then(q=>{N({reader:q[0],writer:q[1]})})})})}}else if(Oa.is(c)&&c.command){let v=c,w=v.args||[],C=Object.assign({},v.options);C.cwd=C.cwd||m;let N=Yr.spawn(v.command,w,C);return!N||!N.pid?Promise.reject(`Launching server using command ${v.command} failed.`):(N.stderr.on("data",I=>this.outputChannel.append(Fe.string(I)?I:I.toString(e))),this._serverProcess=N,this._isDetached=!!C.detached,Promise.resolve({reader:new Le.StreamMessageReader(N.stdout),writer:new Le.StreamMessageWriter(N.stdin)}))}return Promise.reject(new Error("Unsupported server configuration "+JSON.stringify(d,null,4)))})}_getRuntimePath(e,r){if(qa.isAbsolute(e))return e;let n=this._mainGetRootPath();if(n!==void 0){let i=qa.join(n,e);if(Da.existsSync(i))return i}if(r!==void 0){let i=qa.join(r,e);if(Da.existsSync(i))return i}return e}_mainGetRootPath(){let e=Rr.workspace.workspaceFolders;if(!e||e.length===0)return;let r=e[0];if(r.uri.scheme==="file")return r.uri.fsPath}_getServerWorkingDir(e){let r=e&&e.cwd;return r||(r=this.clientOptions.workspaceFolder?this.clientOptions.workspaceFolder.uri.fsPath:this._mainGetRootPath()),r?new Promise(n=>{Da.lstat(r,(i,o)=>{n(!i&&o.isDirectory()?r:void 0)})}):Promise.resolve(void 0)}getLocale(){let e=process.env.VSCODE_NLS_CONFIG;if(e===void 0)return"en";let r;try{r=JSON.parse(e)}catch{}return r===void 0||typeof r.locale!="string"?"en":r.locale}};rt.LanguageClient=xp;var kp=class{constructor(e,r){this._client=e,this._setting=r,this._listeners=[]}start(){return Rr.workspace.onDidChangeConfiguration(this.onDidChangeConfiguration,this,this._listeners),this.onDidChangeConfiguration(),new Rr.Disposable(()=>{this._client.needsStop()&&this._client.stop()})}onDidChangeConfiguration(){let e=this._setting.indexOf("."),r=e>=0?this._setting.substr(0,e):this._setting,n=e>=0?this._setting.substr(e+1):void 0,i=n?Rr.workspace.getConfiguration(r).get(n,!1):Rr.workspace.getConfiguration(r);i&&this._client.needsStart()?this._client.start():!i&&this._client.needsStop()&&this._client.stop()}};rt.SettingMonitor=kp});var Fp=E((v0,Ip)=>{"use strict";Ip.exports=Np()});var Hp=E((y0,Wp)=>{"use strict";var Ct=require("fs"),Qr=require("path"),fS=Ct.lchown?"lchown":"chown",hS=Ct.lchownSync?"lchownSync":"chownSync",Lp=Ct.lchown&&!process.version.match(/v1[1-9]+\./)&&!process.version.match(/v10\.[6-9]/),Ap=(t,e,r)=>{try{return Ct[hS](t,e,r)}catch(n){if(n.code!=="ENOENT")throw n}},pS=(t,e,r)=>{try{return Ct.chownSync(t,e,r)}catch(n){if(n.code!=="ENOENT")throw n}},gS=Lp?(t,e,r,n)=>i=>{!i||i.code!=="EISDIR"?n(i):Ct.chown(t,e,r,n)}:(t,e,r,n)=>n,Ia=Lp?(t,e,r)=>{try{return Ap(t,e,r)}catch(n){if(n.code!=="EISDIR")throw n;pS(t,e,r)}}:(t,e,r)=>Ap(t,e,r),mS=process.version,Mp=(t,e,r)=>Ct.readdir(t,e,r),vS=(t,e)=>Ct.readdirSync(t,e);/^v4\./.test(mS)&&(Mp=(t,e,r)=>Ct.readdir(t,r));var xo=(t,e,r,n)=>{Ct[fS](t,e,r,gS(t,e,r,i=>{n(i&&i.code!=="ENOENT"?i:null)}))},jp=(t,e,r,n,i)=>{if(typeof e=="string")return Ct.lstat(Qr.resolve(t,e),(o,s)=>{if(o)return i(o.code!=="ENOENT"?o:null);s.name=e,jp(t,s,r,n,i)});if(e.isDirectory())Fa(Qr.resolve(t,e.name),r,n,o=>{if(o)return i(o);let s=Qr.resolve(t,e.name);xo(s,r,n,i)});else{let o=Qr.resolve(t,e.name);xo(o,r,n,i)}},Fa=(t,e,r,n)=>{Mp(t,{withFileTypes:!0},(i,o)=>{if(i){if(i.code==="ENOENT")return n();if(i.code!=="ENOTDIR"&&i.code!=="ENOTSUP")return n(i)}if(i||!o.length)return xo(t,e,r,n);let s=o.length,d=null,c=h=>{if(!d){if(h)return n(d=h);if(--s==0)return xo(t,e,r,n)}};o.forEach(h=>jp(t,h,e,r,c))})},yS=(t,e,r,n)=>{if(typeof e=="string")try{let i=Ct.lstatSync(Qr.resolve(t,e));i.name=e,e=i}catch(i){if(i.code==="ENOENT")return;throw i}e.isDirectory()&&$p(Qr.resolve(t,e.name),r,n),Ia(Qr.resolve(t,e.name),r,n)},$p=(t,e,r)=>{let n;try{n=vS(t,{withFileTypes:!0})}catch(i){if(i.code==="ENOENT")return;if(i.code==="ENOTDIR"||i.code==="ENOTSUP")return Ia(t,e,r);throw i}return n&&n.length&&n.forEach(i=>yS(t,i,e,r)),Ia(t,e,r)};Wp.exports=Fa;Fa.sync=$p});var La=E((_0,Up)=>{Up.exports=require("stream")});var Gp=E((R0,Bp)=>{"use strict";function zp(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function _S(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?zp(Object(r),!0).forEach(function(n){RS(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):zp(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function RS(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function wS(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Kp(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function bS(t,e,r){return e&&Kp(t.prototype,e),r&&Kp(t,r),t}var CS=require("buffer"),ko=CS.Buffer,SS=require("util"),Aa=SS.inspect,TS=Aa&&Aa.custom||"inspect";function ES(t,e,r){ko.prototype.copy.call(t,e,r)}Bp.exports=function(){function t(){wS(this,t),this.head=null,this.tail=null,this.length=0}return bS(t,[{key:"push",value:function(r){var n={data:r,next:null};this.length>0?this.tail.next=n:this.head=n,this.tail=n,++this.length}},{key:"unshift",value:function(r){var n={data:r,next:this.head};this.length===0&&(this.tail=n),this.head=n,++this.length}},{key:"shift",value:function(){if(this.length!==0){var r=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,r}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(r){if(this.length===0)return"";for(var n=this.head,i=""+n.data;n=n.next;)i+=r+n.data;return i}},{key:"concat",value:function(r){if(this.length===0)return ko.alloc(0);for(var n=ko.allocUnsafe(r>>>0),i=this.head,o=0;i;)ES(i.data,n,o),o+=i.data.length,i=i.next;return n}},{key:"consume",value:function(r,n){var i;return r<this.head.data.length?(i=this.head.data.slice(0,r),this.head.data=this.head.data.slice(r)):r===this.head.data.length?i=this.shift():i=n?this._getString(r):this._getBuffer(r),i}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(r){var n=this.head,i=1,o=n.data;for(r-=o.length;n=n.next;){var s=n.data,d=r>s.length?s.length:r;if(d===s.length?o+=s:o+=s.slice(0,r),r-=d,r===0){d===s.length?(++i,n.next?this.head=n.next:this.head=this.tail=null):(this.head=n,n.data=s.slice(d));break}++i}return this.length-=i,o}},{key:"_getBuffer",value:function(r){var n=ko.allocUnsafe(r),i=this.head,o=1;for(i.data.copy(n),r-=i.data.length;i=i.next;){var s=i.data,d=r>s.length?s.length:r;if(s.copy(n,n.length-r,0,d),r-=d,r===0){d===s.length?(++o,i.next?this.head=i.next:this.head=this.tail=null):(this.head=i,i.data=s.slice(d));break}++o}return this.length-=o,n}},{key:TS,value:function(r,n){return Aa(this,_S({},n,{depth:0,customInspect:!1}))}}]),t}()});var ja=E((w0,Xp)=>{"use strict";function PS(t,e){var r=this,n=this._readableState&&this._readableState.destroyed,i=this._writableState&&this._writableState.destroyed;return n||i?(e?e(t):t&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,process.nextTick(Ma,this,t)):process.nextTick(Ma,this,t)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,function(o){!e&&o?r._writableState?r._writableState.errorEmitted?process.nextTick(No,r):(r._writableState.errorEmitted=!0,process.nextTick(Vp,r,o)):process.nextTick(Vp,r,o):e?(process.nextTick(No,r),e(o)):process.nextTick(No,r)}),this)}function Vp(t,e){Ma(t,e),No(t)}function No(t){t._writableState&&!t._writableState.emitClose||t._readableState&&!t._readableState.emitClose||t.emit("close")}function DS(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function Ma(t,e){t.emit("error",e)}function qS(t,e){var r=t._readableState,n=t._writableState;r&&r.autoDestroy||n&&n.autoDestroy?t.destroy(e):t.emit("error",e)}Xp.exports={destroy:PS,undestroy:DS,errorOrDestroy:qS}});var wr=E((b0,Qp)=>{"use strict";var Jp={};function St(t,e,r){r||(r=Error);function n(o,s,d){return typeof e=="string"?e:e(o,s,d)}class i extends r{constructor(s,d,c){super(n(s,d,c))}}i.prototype.name=r.name,i.prototype.code=t,Jp[t]=i}function Yp(t,e){if(Array.isArray(t)){let r=t.length;return t=t.map(n=>String(n)),r>2?`one of ${e} ${t.slice(0,r-1).join(", ")}, or `+t[r-1]:r===2?`one of ${e} ${t[0]} or ${t[1]}`:`of ${e} ${t[0]}`}else return`of ${e} ${String(t)}`}function OS(t,e,r){return t.substr(!r||r<0?0:+r,e.length)===e}function xS(t,e,r){return(r===void 0||r>t.length)&&(r=t.length),t.substring(r-e.length,r)===e}function kS(t,e,r){return typeof r!="number"&&(r=0),r+e.length>t.length?!1:t.indexOf(e,r)!==-1}St("ERR_INVALID_OPT_VALUE",function(t,e){return'The value "'+e+'" is invalid for option "'+t+'"'},TypeError);St("ERR_INVALID_ARG_TYPE",function(t,e,r){let n;typeof e=="string"&&OS(e,"not ")?(n="must not be",e=e.replace(/^not /,"")):n="must be";let i;if(xS(t," argument"))i=`The ${t} ${n} ${Yp(e,"type")}`;else{let o=kS(t,".")?"property":"argument";i=`The "${t}" ${o} ${n} ${Yp(e,"type")}`}return i+=`. Received type ${typeof r}`,i},TypeError);St("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF");St("ERR_METHOD_NOT_IMPLEMENTED",function(t){return"The "+t+" method is not implemented"});St("ERR_STREAM_PREMATURE_CLOSE","Premature close");St("ERR_STREAM_DESTROYED",function(t){return"Cannot call "+t+" after a stream was destroyed"});St("ERR_MULTIPLE_CALLBACK","Callback called multiple times");St("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable");St("ERR_STREAM_WRITE_AFTER_END","write after end");St("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError);St("ERR_UNKNOWN_ENCODING",function(t){return"Unknown encoding: "+t},TypeError);St("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event");Qp.exports.codes=Jp});var $a=E((C0,Zp)=>{"use strict";var NS=wr().codes.ERR_INVALID_OPT_VALUE;function IS(t,e,r){return t.highWaterMark!=null?t.highWaterMark:e?t[r]:null}function FS(t,e,r,n){var i=IS(e,n,r);if(i!=null){if(!(isFinite(i)&&Math.floor(i)===i)||i<0){var o=n?r:"highWaterMark";throw new NS(o,i)}return Math.floor(i)}return t.objectMode?16:16*1024}Zp.exports={getHighWaterMark:FS}});var eg=E((S0,Wa)=>{typeof Object.create=="function"?Wa.exports=function(e,r){r&&(e.super_=r,e.prototype=Object.create(r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:Wa.exports=function(e,r){if(r){e.super_=r;var n=function(){};n.prototype=r.prototype,e.prototype=new n,e.prototype.constructor=e}}});var br=E((T0,Ua)=>{try{if(Ha=require("util"),typeof Ha.inherits!="function")throw"";Ua.exports=Ha.inherits}catch{Ua.exports=eg()}var Ha});var rg=E((E0,tg)=>{tg.exports=require("util").deprecate});var Ba=E((P0,ug)=>{"use strict";ug.exports=Pe;function ng(t){var e=this;this.next=null,this.entry=null,this.finish=function(){uT(e,t)}}var En;Pe.WritableState=gi;var LS={deprecate:rg()},ig=La(),Io=require("buffer").Buffer,AS=global.Uint8Array||function(){};function MS(t){return Io.from(t)}function jS(t){return Io.isBuffer(t)||t instanceof AS}var za=ja(),$S=$a(),WS=$S.getHighWaterMark,Cr=wr().codes,HS=Cr.ERR_INVALID_ARG_TYPE,US=Cr.ERR_METHOD_NOT_IMPLEMENTED,zS=Cr.ERR_MULTIPLE_CALLBACK,KS=Cr.ERR_STREAM_CANNOT_PIPE,BS=Cr.ERR_STREAM_DESTROYED,GS=Cr.ERR_STREAM_NULL_VALUES,VS=Cr.ERR_STREAM_WRITE_AFTER_END,XS=Cr.ERR_UNKNOWN_ENCODING,Pn=za.errorOrDestroy;br()(Pe,ig);function JS(){}function gi(t,e,r){En=En||Zr(),t=t||{},typeof r!="boolean"&&(r=e instanceof En),this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.writableObjectMode),this.highWaterMark=WS(this,t,"writableHighWaterMark",r),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var n=t.decodeStrings===!1;this.decodeStrings=!n,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(i){nT(e,i)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=t.emitClose!==!1,this.autoDestroy=!!t.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new ng(this)}gi.prototype.getBuffer=function(){for(var e=this.bufferedRequest,r=[];e;)r.push(e),e=e.next;return r};(function(){try{Object.defineProperty(gi.prototype,"buffer",{get:LS.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}})();var Fo;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(Fo=Function.prototype[Symbol.hasInstance],Object.defineProperty(Pe,Symbol.hasInstance,{value:function(e){return Fo.call(this,e)?!0:this!==Pe?!1:e&&e._writableState instanceof gi}})):Fo=function(e){return e instanceof this};function Pe(t){En=En||Zr();var e=this instanceof En;if(!e&&!Fo.call(Pe,this))return new Pe(t);this._writableState=new gi(t,this,e),this.writable=!0,t&&(typeof t.write=="function"&&(this._write=t.write),typeof t.writev=="function"&&(this._writev=t.writev),typeof t.destroy=="function"&&(this._destroy=t.destroy),typeof t.final=="function"&&(this._final=t.final)),ig.call(this)}Pe.prototype.pipe=function(){Pn(this,new KS)};function YS(t,e){var r=new VS;Pn(t,r),process.nextTick(e,r)}function QS(t,e,r,n){var i;return r===null?i=new GS:typeof r!="string"&&!e.objectMode&&(i=new HS("chunk",["string","Buffer"],r)),i?(Pn(t,i),process.nextTick(n,i),!1):!0}Pe.prototype.write=function(t,e,r){var n=this._writableState,i=!1,o=!n.objectMode&&jS(t);return o&&!Io.isBuffer(t)&&(t=MS(t)),typeof e=="function"&&(r=e,e=null),o?e="buffer":e||(e=n.defaultEncoding),typeof r!="function"&&(r=JS),n.ending?YS(this,r):(o||QS(this,n,t,r))&&(n.pendingcb++,i=eT(this,n,o,t,e,r)),i};Pe.prototype.cork=function(){this._writableState.corked++};Pe.prototype.uncork=function(){var t=this._writableState;t.corked&&(t.corked--,!t.writing&&!t.corked&&!t.bufferProcessing&&t.bufferedRequest&&sg(this,t))};Pe.prototype.setDefaultEncoding=function(e){if(typeof e=="string"&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new XS(e);return this._writableState.defaultEncoding=e,this};Object.defineProperty(Pe.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function ZS(t,e,r){return!t.objectMode&&t.decodeStrings!==!1&&typeof e=="string"&&(e=Io.from(e,r)),e}Object.defineProperty(Pe.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function eT(t,e,r,n,i,o){if(!r){var s=ZS(e,n,i);n!==s&&(r=!0,i="buffer",n=s)}var d=e.objectMode?1:n.length;e.length+=d;var c=e.length<e.highWaterMark;if(c||(e.needDrain=!0),e.writing||e.corked){var h=e.lastBufferedRequest;e.lastBufferedRequest={chunk:n,encoding:i,isBuf:r,callback:o,next:null},h?h.next=e.lastBufferedRequest:e.bufferedRequest=e.lastBufferedRequest,e.bufferedRequestCount+=1}else Ka(t,e,!1,d,n,i,o);return c}function Ka(t,e,r,n,i,o,s){e.writelen=n,e.writecb=s,e.writing=!0,e.sync=!0,e.destroyed?e.onwrite(new BS("write")):r?t._writev(i,e.onwrite):t._write(i,o,e.onwrite),e.sync=!1}function tT(t,e,r,n,i){--e.pendingcb,r?(process.nextTick(i,n),process.nextTick(mi,t,e),t._writableState.errorEmitted=!0,Pn(t,n)):(i(n),t._writableState.errorEmitted=!0,Pn(t,n),mi(t,e))}function rT(t){t.writing=!1,t.writecb=null,t.length-=t.writelen,t.writelen=0}function nT(t,e){var r=t._writableState,n=r.sync,i=r.writecb;if(typeof i!="function")throw new zS;if(rT(r),e)tT(t,r,n,e,i);else{var o=ag(r)||t.destroyed;!o&&!r.corked&&!r.bufferProcessing&&r.bufferedRequest&&sg(t,r),n?process.nextTick(og,t,r,o,i):og(t,r,o,i)}}function og(t,e,r,n){r||iT(t,e),e.pendingcb--,n(),mi(t,e)}function iT(t,e){e.length===0&&e.needDrain&&(e.needDrain=!1,t.emit("drain"))}function sg(t,e){e.bufferProcessing=!0;var r=e.bufferedRequest;if(t._writev&&r&&r.next){var n=e.bufferedRequestCount,i=new Array(n),o=e.corkedRequestsFree;o.entry=r;for(var s=0,d=!0;r;)i[s]=r,r.isBuf||(d=!1),r=r.next,s+=1;i.allBuffers=d,Ka(t,e,!0,e.length,i,"",o.finish),e.pendingcb++,e.lastBufferedRequest=null,o.next?(e.corkedRequestsFree=o.next,o.next=null):e.corkedRequestsFree=new ng(e),e.bufferedRequestCount=0}else{for(;r;){var c=r.chunk,h=r.encoding,m=r.callback,v=e.objectMode?1:c.length;if(Ka(t,e,!1,v,c,h,m),r=r.next,e.bufferedRequestCount--,e.writing)break}r===null&&(e.lastBufferedRequest=null)}e.bufferedRequest=r,e.bufferProcessing=!1}Pe.prototype._write=function(t,e,r){r(new US("_write()"))};Pe.prototype._writev=null;Pe.prototype.end=function(t,e,r){var n=this._writableState;return typeof t=="function"?(r=t,t=null,e=null):typeof e=="function"&&(r=e,e=null),t!=null&&this.write(t,e),n.corked&&(n.corked=1,this.uncork()),n.ending||aT(this,n,r),this};Object.defineProperty(Pe.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function ag(t){return t.ending&&t.length===0&&t.bufferedRequest===null&&!t.finished&&!t.writing}function oT(t,e){t._final(function(r){e.pendingcb--,r&&Pn(t,r),e.prefinished=!0,t.emit("prefinish"),mi(t,e)})}function sT(t,e){!e.prefinished&&!e.finalCalled&&(typeof t._final=="function"&&!e.destroyed?(e.pendingcb++,e.finalCalled=!0,process.nextTick(oT,t,e)):(e.prefinished=!0,t.emit("prefinish")))}function mi(t,e){var r=ag(e);if(r&&(sT(t,e),e.pendingcb===0&&(e.finished=!0,t.emit("finish"),e.autoDestroy))){var n=t._readableState;(!n||n.autoDestroy&&n.endEmitted)&&t.destroy()}return r}function aT(t,e,r){e.ending=!0,mi(t,e),r&&(e.finished?process.nextTick(r):t.once("finish",r)),e.ended=!0,t.writable=!1}function uT(t,e,r){var n=t.entry;for(t.entry=null;n;){var i=n.callback;e.pendingcb--,i(r),n=n.next}e.corkedRequestsFree.next=t}Object.defineProperty(Pe.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(e){!this._writableState||(this._writableState.destroyed=e)}});Pe.prototype.destroy=za.destroy;Pe.prototype._undestroy=za.undestroy;Pe.prototype._destroy=function(t,e){e(t)}});var Zr=E((D0,lg)=>{"use strict";var cT=Object.keys||function(t){var e=[];for(var r in t)e.push(r);return e};lg.exports=Ht;var cg=Xa(),Ga=Ba();br()(Ht,cg);for(Va=cT(Ga.prototype),Lo=0;Lo<Va.length;Lo++)Ao=Va[Lo],Ht.prototype[Ao]||(Ht.prototype[Ao]=Ga.prototype[Ao]);var Va,Ao,Lo;function Ht(t){if(!(this instanceof Ht))return new Ht(t);cg.call(this,t),Ga.call(this,t),this.allowHalfOpen=!0,t&&(t.readable===!1&&(this.readable=!1),t.writable===!1&&(this.writable=!1),t.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",lT)))}Object.defineProperty(Ht.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});Object.defineProperty(Ht.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});Object.defineProperty(Ht.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function lT(){this._writableState.ended||process.nextTick(dT,this)}function dT(t){t.end()}Object.defineProperty(Ht.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(e){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=e,this._writableState.destroyed=e)}})});var hg=E((Ja,fg)=>{var Mo=require("buffer"),Ut=Mo.Buffer;function dg(t,e){for(var r in t)e[r]=t[r]}Ut.from&&Ut.alloc&&Ut.allocUnsafe&&Ut.allocUnsafeSlow?fg.exports=Mo:(dg(Mo,Ja),Ja.Buffer=en);function en(t,e,r){return Ut(t,e,r)}en.prototype=Object.create(Ut.prototype);dg(Ut,en);en.from=function(t,e,r){if(typeof t=="number")throw new TypeError("Argument must not be a number");return Ut(t,e,r)};en.alloc=function(t,e,r){if(typeof t!="number")throw new TypeError("Argument must be a number");var n=Ut(t);return e!==void 0?typeof r=="string"?n.fill(e,r):n.fill(e):n.fill(0),n};en.allocUnsafe=function(t){if(typeof t!="number")throw new TypeError("Argument must be a number");return Ut(t)};en.allocUnsafeSlow=function(t){if(typeof t!="number")throw new TypeError("Argument must be a number");return Mo.SlowBuffer(t)}});var Za=E(gg=>{"use strict";var Ya=hg().Buffer,pg=Ya.isEncoding||function(t){switch(t=""+t,t&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function fT(t){if(!t)return"utf8";for(var e;;)switch(t){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return t;default:if(e)return;t=(""+t).toLowerCase(),e=!0}}function hT(t){var e=fT(t);if(typeof e!="string"&&(Ya.isEncoding===pg||!pg(t)))throw new Error("Unknown encoding: "+t);return e||t}gg.StringDecoder=vi;function vi(t){this.encoding=hT(t);var e;switch(this.encoding){case"utf16le":this.text=_T,this.end=RT,e=4;break;case"utf8":this.fillLast=mT,e=4;break;case"base64":this.text=wT,this.end=bT,e=3;break;default:this.write=CT,this.end=ST;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=Ya.allocUnsafe(e)}vi.prototype.write=function(t){if(t.length===0)return"";var e,r;if(this.lastNeed){if(e=this.fillLast(t),e===void 0)return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<t.length?e?e+this.text(t,r):this.text(t,r):e||""};vi.prototype.end=yT;vi.prototype.text=vT;vi.prototype.fillLast=function(t){if(this.lastNeed<=t.length)return t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),this.lastNeed-=t.length};function Qa(t){return t<=127?0:t>>5==6?2:t>>4==14?3:t>>3==30?4:t>>6==2?-1:-2}function pT(t,e,r){var n=e.length-1;if(n<r)return 0;var i=Qa(e[n]);return i>=0?(i>0&&(t.lastNeed=i-1),i):--n<r||i===-2?0:(i=Qa(e[n]),i>=0?(i>0&&(t.lastNeed=i-2),i):--n<r||i===-2?0:(i=Qa(e[n]),i>=0?(i>0&&(i===2?i=0:t.lastNeed=i-3),i):0))}function gT(t,e,r){if((e[0]&192)!=128)return t.lastNeed=0,"\uFFFD";if(t.lastNeed>1&&e.length>1){if((e[1]&192)!=128)return t.lastNeed=1,"\uFFFD";if(t.lastNeed>2&&e.length>2&&(e[2]&192)!=128)return t.lastNeed=2,"\uFFFD"}}function mT(t){var e=this.lastTotal-this.lastNeed,r=gT(this,t,e);if(r!==void 0)return r;if(this.lastNeed<=t.length)return t.copy(this.lastChar,e,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,e,0,t.length),this.lastNeed-=t.length}function vT(t,e){var r=pT(this,t,e);if(!this.lastNeed)return t.toString("utf8",e);this.lastTotal=r;var n=t.length-(r-this.lastNeed);return t.copy(this.lastChar,0,n),t.toString("utf8",e,n)}function yT(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+"\uFFFD":e}function _T(t,e){if((t.length-e)%2==0){var r=t.toString("utf16le",e);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString("utf16le",e,t.length-1)}function RT(t){var e=t&&t.length?this.write(t):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return e+this.lastChar.toString("utf16le",0,r)}return e}function wT(t,e){var r=(t.length-e)%3;return r===0?t.toString("base64",e):(this.lastNeed=3-r,this.lastTotal=3,r===1?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString("base64",e,t.length-r))}function bT(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}function CT(t){return t.toString(this.encoding)}function ST(t){return t&&t.length?this.write(t):""}});var jo=E((O0,yg)=>{"use strict";var mg=wr().codes.ERR_STREAM_PREMATURE_CLOSE;function TT(t){var e=!1;return function(){if(!e){e=!0;for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];t.apply(this,n)}}}function ET(){}function PT(t){return t.setHeader&&typeof t.abort=="function"}function vg(t,e,r){if(typeof e=="function")return vg(t,null,e);e||(e={}),r=TT(r||ET);var n=e.readable||e.readable!==!1&&t.readable,i=e.writable||e.writable!==!1&&t.writable,o=function(){t.writable||d()},s=t._writableState&&t._writableState.finished,d=function(){i=!1,s=!0,n||r.call(t)},c=t._readableState&&t._readableState.endEmitted,h=function(){n=!1,c=!0,i||r.call(t)},m=function(N){r.call(t,N)},v=function(){var N;if(n&&!c)return(!t._readableState||!t._readableState.ended)&&(N=new mg),r.call(t,N);if(i&&!s)return(!t._writableState||!t._writableState.ended)&&(N=new mg),r.call(t,N)},w=function(){t.req.on("finish",d)};return PT(t)?(t.on("complete",d),t.on("abort",v),t.req?w():t.on("request",w)):i&&!t._writableState&&(t.on("end",o),t.on("close",o)),t.on("end",h),t.on("finish",d),e.error!==!1&&t.on("error",m),t.on("close",v),function(){t.removeListener("complete",d),t.removeListener("abort",v),t.removeListener("request",w),t.req&&t.req.removeListener("finish",d),t.removeListener("end",o),t.removeListener("close",o),t.removeListener("finish",d),t.removeListener("end",h),t.removeListener("error",m),t.removeListener("close",v)}}yg.exports=vg});var Rg=E((x0,_g)=>{"use strict";var $o;function Sr(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var DT=jo(),Tr=Symbol("lastResolve"),tn=Symbol("lastReject"),yi=Symbol("error"),Wo=Symbol("ended"),rn=Symbol("lastPromise"),eu=Symbol("handlePromise"),nn=Symbol("stream");function Er(t,e){return{value:t,done:e}}function qT(t){var e=t[Tr];if(e!==null){var r=t[nn].read();r!==null&&(t[rn]=null,t[Tr]=null,t[tn]=null,e(Er(r,!1)))}}function OT(t){process.nextTick(qT,t)}function xT(t,e){return function(r,n){t.then(function(){if(e[Wo]){r(Er(void 0,!0));return}e[eu](r,n)},n)}}var kT=Object.getPrototypeOf(function(){}),NT=Object.setPrototypeOf(($o={get stream(){return this[nn]},next:function(){var e=this,r=this[yi];if(r!==null)return Promise.reject(r);if(this[Wo])return Promise.resolve(Er(void 0,!0));if(this[nn].destroyed)return new Promise(function(s,d){process.nextTick(function(){e[yi]?d(e[yi]):s(Er(void 0,!0))})});var n=this[rn],i;if(n)i=new Promise(xT(n,this));else{var o=this[nn].read();if(o!==null)return Promise.resolve(Er(o,!1));i=new Promise(this[eu])}return this[rn]=i,i}},Sr($o,Symbol.asyncIterator,function(){return this}),Sr($o,"return",function(){var e=this;return new Promise(function(r,n){e[nn].destroy(null,function(i){if(i){n(i);return}r(Er(void 0,!0))})})}),$o),kT),IT=function(e){var r,n=Object.create(NT,(r={},Sr(r,nn,{value:e,writable:!0}),Sr(r,Tr,{value:null,writable:!0}),Sr(r,tn,{value:null,writable:!0}),Sr(r,yi,{value:null,writable:!0}),Sr(r,Wo,{value:e._readableState.endEmitted,writable:!0}),Sr(r,eu,{value:function(o,s){var d=n[nn].read();d?(n[rn]=null,n[Tr]=null,n[tn]=null,o(Er(d,!1))):(n[Tr]=o,n[tn]=s)},writable:!0}),r));return n[rn]=null,DT(e,function(i){if(i&&i.code!=="ERR_STREAM_PREMATURE_CLOSE"){var o=n[tn];o!==null&&(n[rn]=null,n[Tr]=null,n[tn]=null,o(i)),n[yi]=i;return}var s=n[Tr];s!==null&&(n[rn]=null,n[Tr]=null,n[tn]=null,s(Er(void 0,!0))),n[Wo]=!0}),e.on("readable",OT.bind(null,n)),n};_g.exports=IT});var Sg=E((k0,Cg)=>{"use strict";function wg(t,e,r,n,i,o,s){try{var d=t[o](s),c=d.value}catch(h){r(h);return}d.done?e(c):Promise.resolve(c).then(n,i)}function FT(t){return function(){var e=this,r=arguments;return new Promise(function(n,i){var o=t.apply(e,r);function s(c){wg(o,n,i,s,d,"next",c)}function d(c){wg(o,n,i,s,d,"throw",c)}s(void 0)})}}function bg(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function LT(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?bg(Object(r),!0).forEach(function(n){AT(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):bg(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function AT(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var MT=wr().codes.ERR_INVALID_ARG_TYPE;function jT(t,e,r){var n;if(e&&typeof e.next=="function")n=e;else if(e&&e[Symbol.asyncIterator])n=e[Symbol.asyncIterator]();else if(e&&e[Symbol.iterator])n=e[Symbol.iterator]();else throw new MT("iterable",["Iterable"],e);var i=new t(LT({objectMode:!0},r)),o=!1;i._read=function(){o||(o=!0,s())};function s(){return d.apply(this,arguments)}function d(){return d=FT(function*(){try{var c=yield n.next(),h=c.value,m=c.done;m?i.push(null):i.push(yield h)?s():o=!1}catch(v){i.destroy(v)}}),d.apply(this,arguments)}return i}Cg.exports=jT});var Xa=E((I0,Ig)=>{"use strict";Ig.exports=ne;var Dn;ne.ReadableState=Eg;var N0=require("events").EventEmitter,Tg=function(e,r){return e.listeners(r).length},_i=La(),Ho=require("buffer").Buffer,$T=global.Uint8Array||function(){};function WT(t){return Ho.from(t)}function HT(t){return Ho.isBuffer(t)||t instanceof $T}var tu=require("util"),ee;tu&&tu.debuglog?ee=tu.debuglog("stream"):ee=function(){};var UT=Gp(),ru=ja(),zT=$a(),KT=zT.getHighWaterMark,Uo=wr().codes,BT=Uo.ERR_INVALID_ARG_TYPE,GT=Uo.ERR_STREAM_PUSH_AFTER_EOF,VT=Uo.ERR_METHOD_NOT_IMPLEMENTED,XT=Uo.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,qn,nu,iu;br()(ne,_i);var Ri=ru.errorOrDestroy,ou=["error","close","destroy","pause","resume"];function JT(t,e,r){if(typeof t.prependListener=="function")return t.prependListener(e,r);!t._events||!t._events[e]?t.on(e,r):Array.isArray(t._events[e])?t._events[e].unshift(r):t._events[e]=[r,t._events[e]]}function Eg(t,e,r){Dn=Dn||Zr(),t=t||{},typeof r!="boolean"&&(r=e instanceof Dn),this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.readableObjectMode),this.highWaterMark=KT(this,t,"readableHighWaterMark",r),this.buffer=new UT,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=t.emitClose!==!1,this.autoDestroy=!!t.autoDestroy,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(qn||(qn=Za().StringDecoder),this.decoder=new qn(t.encoding),this.encoding=t.encoding)}function ne(t){if(Dn=Dn||Zr(),!(this instanceof ne))return new ne(t);var e=this instanceof Dn;this._readableState=new Eg(t,this,e),this.readable=!0,t&&(typeof t.read=="function"&&(this._read=t.read),typeof t.destroy=="function"&&(this._destroy=t.destroy)),_i.call(this)}Object.defineProperty(ne.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(e){!this._readableState||(this._readableState.destroyed=e)}});ne.prototype.destroy=ru.destroy;ne.prototype._undestroy=ru.undestroy;ne.prototype._destroy=function(t,e){e(t)};ne.prototype.push=function(t,e){var r=this._readableState,n;return r.objectMode?n=!0:typeof t=="string"&&(e=e||r.defaultEncoding,e!==r.encoding&&(t=Ho.from(t,e),e=""),n=!0),Pg(this,t,e,!1,n)};ne.prototype.unshift=function(t){return Pg(this,t,null,!0,!1)};function Pg(t,e,r,n,i){ee("readableAddChunk",e);var o=t._readableState;if(e===null)o.reading=!1,ZT(t,o);else{var s;if(i||(s=YT(o,e)),s)Ri(t,s);else if(o.objectMode||e&&e.length>0)if(typeof e!="string"&&!o.objectMode&&Object.getPrototypeOf(e)!==Ho.prototype&&(e=WT(e)),n)o.endEmitted?Ri(t,new XT):su(t,o,e,!0);else if(o.ended)Ri(t,new GT);else{if(o.destroyed)return!1;o.reading=!1,o.decoder&&!r?(e=o.decoder.write(e),o.objectMode||e.length!==0?su(t,o,e,!1):au(t,o)):su(t,o,e,!1)}else n||(o.reading=!1,au(t,o))}return!o.ended&&(o.length<o.highWaterMark||o.length===0)}function su(t,e,r,n){e.flowing&&e.length===0&&!e.sync?(e.awaitDrain=0,t.emit("data",r)):(e.length+=e.objectMode?1:r.length,n?e.buffer.unshift(r):e.buffer.push(r),e.needReadable&&zo(t)),au(t,e)}function YT(t,e){var r;return!HT(e)&&typeof e!="string"&&e!==void 0&&!t.objectMode&&(r=new BT("chunk",["string","Buffer","Uint8Array"],e)),r}ne.prototype.isPaused=function(){return this._readableState.flowing===!1};ne.prototype.setEncoding=function(t){qn||(qn=Za().StringDecoder);var e=new qn(t);this._readableState.decoder=e,this._readableState.encoding=this._readableState.decoder.encoding;for(var r=this._readableState.buffer.head,n="";r!==null;)n+=e.write(r.data),r=r.next;return this._readableState.buffer.clear(),n!==""&&this._readableState.buffer.push(n),this._readableState.length=n.length,this};var Dg=1073741824;function QT(t){return t>=Dg?t=Dg:(t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++),t}function qg(t,e){return t<=0||e.length===0&&e.ended?0:e.objectMode?1:t!==t?e.flowing&&e.length?e.buffer.head.data.length:e.length:(t>e.highWaterMark&&(e.highWaterMark=QT(t)),t<=e.length?t:e.ended?e.length:(e.needReadable=!0,0))}ne.prototype.read=function(t){ee("read",t),t=parseInt(t,10);var e=this._readableState,r=t;if(t!==0&&(e.emittedReadable=!1),t===0&&e.needReadable&&((e.highWaterMark!==0?e.length>=e.highWaterMark:e.length>0)||e.ended))return ee("read: emitReadable",e.length,e.ended),e.length===0&&e.ended?cu(this):zo(this),null;if(t=qg(t,e),t===0&&e.ended)return e.length===0&&cu(this),null;var n=e.needReadable;ee("need readable",n),(e.length===0||e.length-t<e.highWaterMark)&&(n=!0,ee("length less than watermark",n)),e.ended||e.reading?(n=!1,ee("reading or ended",n)):n&&(ee("do read"),e.reading=!0,e.sync=!0,e.length===0&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1,e.reading||(t=qg(r,e)));var i;return t>0?i=kg(t,e):i=null,i===null?(e.needReadable=e.length<=e.highWaterMark,t=0):(e.length-=t,e.awaitDrain=0),e.length===0&&(e.ended||(e.needReadable=!0),r!==t&&e.ended&&cu(this)),i!==null&&this.emit("data",i),i};function ZT(t,e){if(ee("onEofChunk"),!e.ended){if(e.decoder){var r=e.decoder.end();r&&r.length&&(e.buffer.push(r),e.length+=e.objectMode?1:r.length)}e.ended=!0,e.sync?zo(t):(e.needReadable=!1,e.emittedReadable||(e.emittedReadable=!0,Og(t)))}}function zo(t){var e=t._readableState;ee("emitReadable",e.needReadable,e.emittedReadable),e.needReadable=!1,e.emittedReadable||(ee("emitReadable",e.flowing),e.emittedReadable=!0,process.nextTick(Og,t))}function Og(t){var e=t._readableState;ee("emitReadable_",e.destroyed,e.length,e.ended),!e.destroyed&&(e.length||e.ended)&&(t.emit("readable"),e.emittedReadable=!1),e.needReadable=!e.flowing&&!e.ended&&e.length<=e.highWaterMark,uu(t)}function au(t,e){e.readingMore||(e.readingMore=!0,process.nextTick(eE,t,e))}function eE(t,e){for(;!e.reading&&!e.ended&&(e.length<e.highWaterMark||e.flowing&&e.length===0);){var r=e.length;if(ee("maybeReadMore read 0"),t.read(0),r===e.length)break}e.readingMore=!1}ne.prototype._read=function(t){Ri(this,new VT("_read()"))};ne.prototype.pipe=function(t,e){var r=this,n=this._readableState;switch(n.pipesCount){case 0:n.pipes=t;break;case 1:n.pipes=[n.pipes,t];break;default:n.pipes.push(t);break}n.pipesCount+=1,ee("pipe count=%d opts=%j",n.pipesCount,e);var i=(!e||e.end!==!1)&&t!==process.stdout&&t!==process.stderr,o=i?d:I;n.endEmitted?process.nextTick(o):r.once("end",o),t.on("unpipe",s);function s(L,O){ee("onunpipe"),L===r&&O&&O.hasUnpiped===!1&&(O.hasUnpiped=!0,m())}function d(){ee("onend"),t.end()}var c=tE(r);t.on("drain",c);var h=!1;function m(){ee("cleanup"),t.removeListener("close",C),t.removeListener("finish",N),t.removeListener("drain",c),t.removeListener("error",w),t.removeListener("unpipe",s),r.removeListener("end",d),r.removeListener("end",I),r.removeListener("data",v),h=!0,n.awaitDrain&&(!t._writableState||t._writableState.needDrain)&&c()}r.on("data",v);function v(L){ee("ondata");var O=t.write(L);ee("dest.write",O),O===!1&&((n.pipesCount===1&&n.pipes===t||n.pipesCount>1&&Ng(n.pipes,t)!==-1)&&!h&&(ee("false write response, pause",n.awaitDrain),n.awaitDrain++),r.pause())}function w(L){ee("onerror",L),I(),t.removeListener("error",w),Tg(t,"error")===0&&Ri(t,L)}JT(t,"error",w);function C(){t.removeListener("finish",N),I()}t.once("close",C);function N(){ee("onfinish"),t.removeListener("close",C),I()}t.once("finish",N);function I(){ee("unpipe"),r.unpipe(t)}return t.emit("pipe",r),n.flowing||(ee("pipe resume"),r.resume()),t};function tE(t){return function(){var r=t._readableState;ee("pipeOnDrain",r.awaitDrain),r.awaitDrain&&r.awaitDrain--,r.awaitDrain===0&&Tg(t,"data")&&(r.flowing=!0,uu(t))}}ne.prototype.unpipe=function(t){var e=this._readableState,r={hasUnpiped:!1};if(e.pipesCount===0)return this;if(e.pipesCount===1)return t&&t!==e.pipes?this:(t||(t=e.pipes),e.pipes=null,e.pipesCount=0,e.flowing=!1,t&&t.emit("unpipe",this,r),this);if(!t){var n=e.pipes,i=e.pipesCount;e.pipes=null,e.pipesCount=0,e.flowing=!1;for(var o=0;o<i;o++)n[o].emit("unpipe",this,{hasUnpiped:!1});return this}var s=Ng(e.pipes,t);return s===-1?this:(e.pipes.splice(s,1),e.pipesCount-=1,e.pipesCount===1&&(e.pipes=e.pipes[0]),t.emit("unpipe",this,r),this)};ne.prototype.on=function(t,e){var r=_i.prototype.on.call(this,t,e),n=this._readableState;return t==="data"?(n.readableListening=this.listenerCount("readable")>0,n.flowing!==!1&&this.resume()):t==="readable"&&!n.endEmitted&&!n.readableListening&&(n.readableListening=n.needReadable=!0,n.flowing=!1,n.emittedReadable=!1,ee("on readable",n.length,n.reading),n.length?zo(this):n.reading||process.nextTick(rE,this)),r};ne.prototype.addListener=ne.prototype.on;ne.prototype.removeListener=function(t,e){var r=_i.prototype.removeListener.call(this,t,e);return t==="readable"&&process.nextTick(xg,this),r};ne.prototype.removeAllListeners=function(t){var e=_i.prototype.removeAllListeners.apply(this,arguments);return(t==="readable"||t===void 0)&&process.nextTick(xg,this),e};function xg(t){var e=t._readableState;e.readableListening=t.listenerCount("readable")>0,e.resumeScheduled&&!e.paused?e.flowing=!0:t.listenerCount("data")>0&&t.resume()}function rE(t){ee("readable nexttick read 0"),t.read(0)}ne.prototype.resume=function(){var t=this._readableState;return t.flowing||(ee("resume"),t.flowing=!t.readableListening,nE(this,t)),t.paused=!1,this};function nE(t,e){e.resumeScheduled||(e.resumeScheduled=!0,process.nextTick(iE,t,e))}function iE(t,e){ee("resume",e.reading),e.reading||t.read(0),e.resumeScheduled=!1,t.emit("resume"),uu(t),e.flowing&&!e.reading&&t.read(0)}ne.prototype.pause=function(){return ee("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(ee("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function uu(t){var e=t._readableState;for(ee("flow",e.flowing);e.flowing&&t.read()!==null;);}ne.prototype.wrap=function(t){var e=this,r=this._readableState,n=!1;t.on("end",function(){if(ee("wrapped end"),r.decoder&&!r.ended){var s=r.decoder.end();s&&s.length&&e.push(s)}e.push(null)}),t.on("data",function(s){if(ee("wrapped data"),r.decoder&&(s=r.decoder.write(s)),!(r.objectMode&&s==null)&&!(!r.objectMode&&(!s||!s.length))){var d=e.push(s);d||(n=!0,t.pause())}});for(var i in t)this[i]===void 0&&typeof t[i]=="function"&&(this[i]=function(d){return function(){return t[d].apply(t,arguments)}}(i));for(var o=0;o<ou.length;o++)t.on(ou[o],this.emit.bind(this,ou[o]));return this._read=function(s){ee("wrapped _read",s),n&&(n=!1,t.resume())},this};typeof Symbol=="function"&&(ne.prototype[Symbol.asyncIterator]=function(){return nu===void 0&&(nu=Rg()),nu(this)});Object.defineProperty(ne.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}});Object.defineProperty(ne.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}});Object.defineProperty(ne.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}});ne._fromList=kg;Object.defineProperty(ne.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function kg(t,e){if(e.length===0)return null;var r;return e.objectMode?r=e.buffer.shift():!t||t>=e.length?(e.decoder?r=e.buffer.join(""):e.buffer.length===1?r=e.buffer.first():r=e.buffer.concat(e.length),e.buffer.clear()):r=e.buffer.consume(t,e.decoder),r}function cu(t){var e=t._readableState;ee("endReadable",e.endEmitted),e.endEmitted||(e.ended=!0,process.nextTick(oE,e,t))}function oE(t,e){if(ee("endReadableNT",t.endEmitted,t.length),!t.endEmitted&&t.length===0&&(t.endEmitted=!0,e.readable=!1,e.emit("end"),t.autoDestroy)){var r=e._writableState;(!r||r.autoDestroy&&r.finished)&&e.destroy()}}typeof Symbol=="function"&&(ne.from=function(t,e){return iu===void 0&&(iu=Sg()),iu(ne,t,e)});function Ng(t,e){for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r;return-1}});var lu=E((F0,Lg)=>{"use strict";Lg.exports=or;var Ko=wr().codes,sE=Ko.ERR_METHOD_NOT_IMPLEMENTED,aE=Ko.ERR_MULTIPLE_CALLBACK,uE=Ko.ERR_TRANSFORM_ALREADY_TRANSFORMING,cE=Ko.ERR_TRANSFORM_WITH_LENGTH_0,Bo=Zr();br()(or,Bo);function lE(t,e){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(n===null)return this.emit("error",new aE);r.writechunk=null,r.writecb=null,e!=null&&this.push(e),n(t);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function or(t){if(!(this instanceof or))return new or(t);Bo.call(this,t),this._transformState={afterTransform:lE.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&(typeof t.transform=="function"&&(this._transform=t.transform),typeof t.flush=="function"&&(this._flush=t.flush)),this.on("prefinish",dE)}function dE(){var t=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(e,r){Fg(t,e,r)}):Fg(this,null,null)}or.prototype.push=function(t,e){return this._transformState.needTransform=!1,Bo.prototype.push.call(this,t,e)};or.prototype._transform=function(t,e,r){r(new sE("_transform()"))};or.prototype._write=function(t,e,r){var n=this._transformState;if(n.writecb=r,n.writechunk=t,n.writeencoding=e,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}};or.prototype._read=function(t){var e=this._transformState;e.writechunk!==null&&!e.transforming?(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform)):e.needTransform=!0};or.prototype._destroy=function(t,e){Bo.prototype._destroy.call(this,t,function(r){e(r)})};function Fg(t,e,r){if(e)return t.emit("error",e);if(r!=null&&t.push(r),t._writableState.length)throw new cE;if(t._transformState.transforming)throw new uE;return t.push(null)}});var jg=E((L0,Mg)=>{"use strict";Mg.exports=wi;var Ag=lu();br()(wi,Ag);function wi(t){if(!(this instanceof wi))return new wi(t);Ag.call(this,t)}wi.prototype._transform=function(t,e,r){r(null,t)}});var zg=E((A0,Ug)=>{"use strict";var du;function fE(t){var e=!1;return function(){e||(e=!0,t.apply(void 0,arguments))}}var $g=wr().codes,hE=$g.ERR_MISSING_ARGS,pE=$g.ERR_STREAM_DESTROYED;function Wg(t){if(t)throw t}function gE(t){return t.setHeader&&typeof t.abort=="function"}function mE(t,e,r,n){n=fE(n);var i=!1;t.on("close",function(){i=!0}),du===void 0&&(du=jo()),du(t,{readable:e,writable:r},function(s){if(s)return n(s);i=!0,n()});var o=!1;return function(s){if(!i&&!o){if(o=!0,gE(t))return t.abort();if(typeof t.destroy=="function")return t.destroy();n(s||new pE("pipe"))}}}function Hg(t){t()}function vE(t,e){return t.pipe(e)}function yE(t){return!t.length||typeof t[t.length-1]!="function"?Wg:t.pop()}function _E(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];var n=yE(e);if(Array.isArray(e[0])&&(e=e[0]),e.length<2)throw new hE("streams");var i,o=e.map(function(s,d){var c=d<e.length-1,h=d>0;return mE(s,c,h,function(m){i||(i=m),m&&o.forEach(Hg),!c&&(o.forEach(Hg),n(i))})});return e.reduce(vE)}Ug.exports=_E});var On=E((Tt,Ci)=>{var bi=require("stream");process.env.READABLE_STREAM==="disable"&&bi?(Ci.exports=bi.Readable,Object.assign(Ci.exports,bi),Ci.exports.Stream=bi):(Tt=Ci.exports=Xa(),Tt.Stream=bi||Tt,Tt.Readable=Tt,Tt.Writable=Ba(),Tt.Duplex=Zr(),Tt.Transform=lu(),Tt.PassThrough=jg(),Tt.finished=jo(),Tt.pipeline=zg())});var Gg=E((M0,Bg)=>{"use strict";var{Buffer:Ft}=require("buffer"),Kg=Symbol.for("BufferList");function ve(t){if(!(this instanceof ve))return new ve(t);ve._init.call(this,t)}ve._init=function(e){Object.defineProperty(this,Kg,{value:!0}),this._bufs=[],this.length=0,e&&this.append(e)};ve.prototype._new=function(e){return new ve(e)};ve.prototype._offset=function(e){if(e===0)return[0,0];let r=0;for(let n=0;n<this._bufs.length;n++){let i=r+this._bufs[n].length;if(e<i||n===this._bufs.length-1)return[n,e-r];r=i}};ve.prototype._reverseOffset=function(t){let e=t[0],r=t[1];for(let n=0;n<e;n++)r+=this._bufs[n].length;return r};ve.prototype.get=function(e){if(e>this.length||e<0)return;let r=this._offset(e);return this._bufs[r[0]][r[1]]};ve.prototype.slice=function(e,r){return typeof e=="number"&&e<0&&(e+=this.length),typeof r=="number"&&r<0&&(r+=this.length),this.copy(null,0,e,r)};ve.prototype.copy=function(e,r,n,i){if((typeof n!="number"||n<0)&&(n=0),(typeof i!="number"||i>this.length)&&(i=this.length),n>=this.length||i<=0)return e||Ft.alloc(0);let o=!!e,s=this._offset(n),d=i-n,c=d,h=o&&r||0,m=s[1];if(n===0&&i===this.length){if(!o)return this._bufs.length===1?this._bufs[0]:Ft.concat(this._bufs,this.length);for(let v=0;v<this._bufs.length;v++)this._bufs[v].copy(e,h),h+=this._bufs[v].length;return e}if(c<=this._bufs[s[0]].length-m)return o?this._bufs[s[0]].copy(e,r,m,m+c):this._bufs[s[0]].slice(m,m+c);o||(e=Ft.allocUnsafe(d));for(let v=s[0];v<this._bufs.length;v++){let w=this._bufs[v].length-m;if(c>w)this._bufs[v].copy(e,h,m),h+=w;else{this._bufs[v].copy(e,h,m,m+c),h+=w;break}c-=w,m&&(m=0)}return e.length>h?e.slice(0,h):e};ve.prototype.shallowSlice=function(e,r){if(e=e||0,r=typeof r!="number"?this.length:r,e<0&&(e+=this.length),r<0&&(r+=this.length),e===r)return this._new();let n=this._offset(e),i=this._offset(r),o=this._bufs.slice(n[0],i[0]+1);return i[1]===0?o.pop():o[o.length-1]=o[o.length-1].slice(0,i[1]),n[1]!==0&&(o[0]=o[0].slice(n[1])),this._new(o)};ve.prototype.toString=function(e,r,n){return this.slice(r,n).toString(e)};ve.prototype.consume=function(e){if(e=Math.trunc(e),Number.isNaN(e)||e<=0)return this;for(;this._bufs.length;)if(e>=this._bufs[0].length)e-=this._bufs[0].length,this.length-=this._bufs[0].length,this._bufs.shift();else{this._bufs[0]=this._bufs[0].slice(e),this.length-=e;break}return this};ve.prototype.duplicate=function(){let e=this._new();for(let r=0;r<this._bufs.length;r++)e.append(this._bufs[r]);return e};ve.prototype.append=function(e){if(e==null)return this;if(e.buffer)this._appendBuffer(Ft.from(e.buffer,e.byteOffset,e.byteLength));else if(Array.isArray(e))for(let r=0;r<e.length;r++)this.append(e[r]);else if(this._isBufferList(e))for(let r=0;r<e._bufs.length;r++)this.append(e._bufs[r]);else typeof e=="number"&&(e=e.toString()),this._appendBuffer(Ft.from(e));return this};ve.prototype._appendBuffer=function(e){this._bufs.push(e),this.length+=e.length};ve.prototype.indexOf=function(t,e,r){if(r===void 0&&typeof e=="string"&&(r=e,e=void 0),typeof t=="function"||Array.isArray(t))throw new TypeError('The "value" argument must be one of type string, Buffer, BufferList, or Uint8Array.');if(typeof t=="number"?t=Ft.from([t]):typeof t=="string"?t=Ft.from(t,r):this._isBufferList(t)?t=t.slice():Array.isArray(t.buffer)?t=Ft.from(t.buffer,t.byteOffset,t.byteLength):Ft.isBuffer(t)||(t=Ft.from(t)),e=Number(e||0),isNaN(e)&&(e=0),e<0&&(e=this.length+e),e<0&&(e=0),t.length===0)return e>this.length?this.length:e;let n=this._offset(e),i=n[0],o=n[1];for(;i<this._bufs.length;i++){let s=this._bufs[i];for(;o<s.length;)if(s.length-o>=t.length){let c=s.indexOf(t,o);if(c!==-1)return this._reverseOffset([i,c]);o=s.length-t.length+1}else{let c=this._reverseOffset([i,o]);if(this._match(c,t))return c;o++}o=0}return-1};ve.prototype._match=function(t,e){if(this.length-t<e.length)return!1;for(let r=0;r<e.length;r++)if(this.get(t+r)!==e[r])return!1;return!0};(function(){let t={readDoubleBE:8,readDoubleLE:8,readFloatBE:4,readFloatLE:4,readInt32BE:4,readInt32LE:4,readUInt32BE:4,readUInt32LE:4,readInt16BE:2,readInt16LE:2,readUInt16BE:2,readUInt16LE:2,readInt8:1,readUInt8:1,readIntBE:null,readIntLE:null,readUIntBE:null,readUIntLE:null};for(let e in t)(function(r){t[r]===null?ve.prototype[r]=function(n,i){return this.slice(n,n+i)[r](0,i)}:ve.prototype[r]=function(n=0){return this.slice(n,n+t[r])[r](0)}})(e)})();ve.prototype._isBufferList=function(e){return e instanceof ve||ve.isBufferList(e)};ve.isBufferList=function(e){return e!=null&&e[Kg]};Bg.exports=ve});var Vg=E((j0,Go)=>{"use strict";var fu=On().Duplex,RE=br(),Si=Gg();function Je(t){if(!(this instanceof Je))return new Je(t);if(typeof t=="function"){this._callback=t;let e=function(n){this._callback&&(this._callback(n),this._callback=null)}.bind(this);this.on("pipe",function(n){n.on("error",e)}),this.on("unpipe",function(n){n.removeListener("error",e)}),t=null}Si._init.call(this,t),fu.call(this)}RE(Je,fu);Object.assign(Je.prototype,Si.prototype);Je.prototype._new=function(e){return new Je(e)};Je.prototype._write=function(e,r,n){this._appendBuffer(e),typeof n=="function"&&n()};Je.prototype._read=function(e){if(!this.length)return this.push(null);e=Math.min(e,this.length),this.push(this.slice(0,e)),this.consume(e)};Je.prototype.end=function(e){fu.prototype.end.call(this,e),this._callback&&(this._callback(null,this.slice()),this._callback=null)};Je.prototype._destroy=function(e,r){this._bufs.length=0,this.length=0,r(e)};Je.prototype._isBufferList=function(e){return e instanceof Je||e instanceof Si||Je.isBufferList(e)};Je.isBufferList=Si.isBufferList;Go.exports=Je;Go.exports.BufferListStream=Je;Go.exports.BufferList=Si});var gu=E(kn=>{var wE=Buffer.alloc,bE="0000000000000000000",CE="7777777777777777777",Xg="0".charCodeAt(0),Jg=Buffer.from("ustar\0","binary"),SE=Buffer.from("00","binary"),TE=Buffer.from("ustar ","binary"),EE=Buffer.from(" \0","binary"),PE=parseInt("7777",8),Ti=257,hu=263,DE=function(t,e,r){return typeof t!="number"?r:(t=~~t,t>=e?e:t>=0||(t+=e,t>=0)?t:0)},qE=function(t){switch(t){case 0:return"file";case 1:return"link";case 2:return"symlink";case 3:return"character-device";case 4:return"block-device";case 5:return"directory";case 6:return"fifo";case 7:return"contiguous-file";case 72:return"pax-header";case 55:return"pax-global-header";case 27:return"gnu-long-link-path";case 28:case 30:return"gnu-long-path"}return null},OE=function(t){switch(t){case"file":return 0;case"link":return 1;case"symlink":return 2;case"character-device":return 3;case"block-device":return 4;case"directory":return 5;case"fifo":return 6;case"contiguous-file":return 7;case"pax-header":return 72}return 0},Yg=function(t,e,r,n){for(;r<n;r++)if(t[r]===e)return r;return n},Qg=function(t){for(var e=8*32,r=0;r<148;r++)e+=t[r];for(var n=156;n<512;n++)e+=t[n];return e},Pr=function(t,e){return t=t.toString(8),t.length>e?CE.slice(0,e)+" ":bE.slice(0,e-t.length)+t+" "};function xE(t){var e;if(t[0]===128)e=!0;else if(t[0]===255)e=!1;else return null;for(var r=[],n=t.length-1;n>0;n--){var i=t[n];e?r.push(i):r.push(255-i)}var o=0,s=r.length;for(n=0;n<s;n++)o+=r[n]*Math.pow(256,n);return e?o:-1*o}var Dr=function(t,e,r){if(t=t.slice(e,e+r),e=0,t[e]&128)return xE(t);for(;e<t.length&&t[e]===32;)e++;for(var n=DE(Yg(t,32,e,t.length),t.length,t.length);e<n&&t[e]===0;)e++;return n===e?0:parseInt(t.slice(e,n).toString(),8)},xn=function(t,e,r,n){return t.slice(e,Yg(t,0,e,e+r)).toString(n)},pu=function(t){var e=Buffer.byteLength(t),r=Math.floor(Math.log(e)/Math.log(10))+1;return e+r>=Math.pow(10,r)&&r++,e+r+t};kn.decodeLongPath=function(t,e){return xn(t,0,t.length,e)};kn.encodePax=function(t){var e="";t.name&&(e+=pu(" path="+t.name+`
`)),t.linkname&&(e+=pu(" linkpath="+t.linkname+`
`));var r=t.pax;if(r)for(var n in r)e+=pu(" "+n+"="+r[n]+`
`);return Buffer.from(e)};kn.decodePax=function(t){for(var e={};t.length;){for(var r=0;r<t.length&&t[r]!==32;)r++;var n=parseInt(t.slice(0,r).toString(),10);if(!n)return e;var i=t.slice(r+1,n-1).toString(),o=i.indexOf("=");if(o===-1)return e;e[i.slice(0,o)]=i.slice(o+1),t=t.slice(n)}return e};kn.encode=function(t){var e=wE(512),r=t.name,n="";if(t.typeflag===5&&r[r.length-1]!=="/"&&(r+="/"),Buffer.byteLength(r)!==r.length)return null;for(;Buffer.byteLength(r)>100;){var i=r.indexOf("/");if(i===-1)return null;n+=n?"/"+r.slice(0,i):r.slice(0,i),r=r.slice(i+1)}return Buffer.byteLength(r)>100||Buffer.byteLength(n)>155||t.linkname&&Buffer.byteLength(t.linkname)>100?null:(e.write(r),e.write(Pr(t.mode&PE,6),100),e.write(Pr(t.uid,6),108),e.write(Pr(t.gid,6),116),e.write(Pr(t.size,11),124),e.write(Pr(t.mtime.getTime()/1e3|0,11),136),e[156]=Xg+OE(t.type),t.linkname&&e.write(t.linkname,157),Jg.copy(e,Ti),SE.copy(e,hu),t.uname&&e.write(t.uname,265),t.gname&&e.write(t.gname,297),e.write(Pr(t.devmajor||0,6),329),e.write(Pr(t.devminor||0,6),337),n&&e.write(n,345),e.write(Pr(Qg(e),6),148),e)};kn.decode=function(t,e,r){var n=t[156]===0?0:t[156]-Xg,i=xn(t,0,100,e),o=Dr(t,100,8),s=Dr(t,108,8),d=Dr(t,116,8),c=Dr(t,124,12),h=Dr(t,136,12),m=qE(n),v=t[157]===0?null:xn(t,157,100,e),w=xn(t,265,32),C=xn(t,297,32),N=Dr(t,329,8),I=Dr(t,337,8),L=Qg(t);if(L===8*32)return null;if(L!==Dr(t,148,8))throw new Error("Invalid tar header. Maybe the tar is corrupted or it needs to be gunzipped?");if(Jg.compare(t,Ti,Ti+6)===0)t[345]&&(i=xn(t,345,155,e)+"/"+i);else if(!(TE.compare(t,Ti,Ti+6)===0&&EE.compare(t,hu,hu+2)===0)){if(!r)throw new Error("Invalid tar header: unknown format.")}return n===0&&i&&i[i.length-1]==="/"&&(n=5),{name:i,mode:o,uid:s,gid:d,size:c,mtime:new Date(1e3*h),type:m,linkname:v,uname:w,gname:C,devmajor:N,devminor:I}}});var om=E((W0,im)=>{var Zg=require("util"),kE=Vg(),Ei=gu(),em=On().Writable,tm=On().PassThrough,rm=function(){},nm=function(t){return t&=511,t&&512-t},NE=function(t,e){var r=new Vo(t,e);return r.end(),r},IE=function(t,e){return e.path&&(t.name=e.path),e.linkpath&&(t.linkname=e.linkpath),e.size&&(t.size=parseInt(e.size,10)),t.pax=e,t},Vo=function(t,e){this._parent=t,this.offset=e,tm.call(this,{autoDestroy:!1})};Zg.inherits(Vo,tm);Vo.prototype.destroy=function(t){this._parent.destroy(t)};var sr=function(t){if(!(this instanceof sr))return new sr(t);em.call(this,t),t=t||{},this._offset=0,this._buffer=kE(),this._missing=0,this._partial=!1,this._onparse=rm,this._header=null,this._stream=null,this._overflow=null,this._cb=null,this._locked=!1,this._destroyed=!1,this._pax=null,this._paxGlobal=null,this._gnuLongPath=null,this._gnuLongLinkPath=null;var e=this,r=e._buffer,n=function(){e._continue()},i=function(w){if(e._locked=!1,w)return e.destroy(w);e._stream||n()},o=function(){e._stream=null;var w=nm(e._header.size);w?e._parse(w,s):e._parse(512,v),e._locked||n()},s=function(){e._buffer.consume(nm(e._header.size)),e._parse(512,v),n()},d=function(){var w=e._header.size;e._paxGlobal=Ei.decodePax(r.slice(0,w)),r.consume(w),o()},c=function(){var w=e._header.size;e._pax=Ei.decodePax(r.slice(0,w)),e._paxGlobal&&(e._pax=Object.assign({},e._paxGlobal,e._pax)),r.consume(w),o()},h=function(){var w=e._header.size;this._gnuLongPath=Ei.decodeLongPath(r.slice(0,w),t.filenameEncoding),r.consume(w),o()},m=function(){var w=e._header.size;this._gnuLongLinkPath=Ei.decodeLongPath(r.slice(0,w),t.filenameEncoding),r.consume(w),o()},v=function(){var w=e._offset,C;try{C=e._header=Ei.decode(r.slice(0,512),t.filenameEncoding,t.allowUnknownFormat)}catch(N){e.emit("error",N)}if(r.consume(512),!C){e._parse(512,v),n();return}if(C.type==="gnu-long-path"){e._parse(C.size,h),n();return}if(C.type==="gnu-long-link-path"){e._parse(C.size,m),n();return}if(C.type==="pax-global-header"){e._parse(C.size,d),n();return}if(C.type==="pax-header"){e._parse(C.size,c),n();return}if(e._gnuLongPath&&(C.name=e._gnuLongPath,e._gnuLongPath=null),e._gnuLongLinkPath&&(C.linkname=e._gnuLongLinkPath,e._gnuLongLinkPath=null),e._pax&&(e._header=C=IE(C,e._pax),e._pax=null),e._locked=!0,!C.size||C.type==="directory"){e._parse(512,v),e.emit("entry",C,NE(e,w),i);return}e._stream=new Vo(e,w),e.emit("entry",C,e._stream,i),e._parse(C.size,o),n()};this._onheader=v,this._parse(512,v)};Zg.inherits(sr,em);sr.prototype.destroy=function(t){this._destroyed||(this._destroyed=!0,t&&this.emit("error",t),this.emit("close"),this._stream&&this._stream.emit("close"))};sr.prototype._parse=function(t,e){this._destroyed||(this._offset+=t,this._missing=t,e===this._onheader&&(this._partial=!1),this._onparse=e)};sr.prototype._continue=function(){if(!this._destroyed){var t=this._cb;this._cb=rm,this._overflow?this._write(this._overflow,void 0,t):t()}};sr.prototype._write=function(t,e,r){if(!this._destroyed){var n=this._stream,i=this._buffer,o=this._missing;if(t.length&&(this._partial=!0),t.length<o)return this._missing-=t.length,this._overflow=null,n?n.write(t,r):(i.append(t),r());this._cb=r,this._missing=0;var s=null;t.length>o&&(s=t.slice(o),t=t.slice(0,o)),n?n.end(t):i.append(t),this._overflow=s,this._onparse()}};sr.prototype._final=function(t){if(this._partial)return this.destroy(new Error("Unexpected end of data"));t()};im.exports=sr});var am=E((H0,sm)=>{sm.exports=require("fs").constants||require("constants")});var lm=E((U0,cm)=>{cm.exports=um;function um(t,e){if(t&&e)return um(t)(e);if(typeof t!="function")throw new TypeError("need wrapper function");return Object.keys(t).forEach(function(n){r[n]=t[n]}),r;function r(){for(var n=new Array(arguments.length),i=0;i<n.length;i++)n[i]=arguments[i];var o=t.apply(this,n),s=n[n.length-1];return typeof o=="function"&&o!==s&&Object.keys(s).forEach(function(d){o[d]=s[d]}),o}}});var vu=E((z0,mu)=>{var dm=lm();mu.exports=dm(Xo);mu.exports.strict=dm(fm);Xo.proto=Xo(function(){Object.defineProperty(Function.prototype,"once",{value:function(){return Xo(this)},configurable:!0}),Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return fm(this)},configurable:!0})});function Xo(t){var e=function(){return e.called?e.value:(e.called=!0,e.value=t.apply(this,arguments))};return e.called=!1,e}function fm(t){var e=function(){if(e.called)throw new Error(e.onceError);return e.called=!0,e.value=t.apply(this,arguments)},r=t.name||"Function wrapped with `once`";return e.onceError=r+" shouldn't be called more than once",e.called=!1,e}});var yu=E((K0,pm)=>{var FE=vu(),LE=function(){},AE=function(t){return t.setHeader&&typeof t.abort=="function"},ME=function(t){return t.stdio&&Array.isArray(t.stdio)&&t.stdio.length===3},hm=function(t,e,r){if(typeof e=="function")return hm(t,null,e);e||(e={}),r=FE(r||LE);var n=t._writableState,i=t._readableState,o=e.readable||e.readable!==!1&&t.readable,s=e.writable||e.writable!==!1&&t.writable,d=!1,c=function(){t.writable||h()},h=function(){s=!1,o||r.call(t)},m=function(){o=!1,s||r.call(t)},v=function(L){r.call(t,L?new Error("exited with error code: "+L):null)},w=function(L){r.call(t,L)},C=function(){process.nextTick(N)},N=function(){if(!d){if(o&&!(i&&i.ended&&!i.destroyed))return r.call(t,new Error("premature close"));if(s&&!(n&&n.ended&&!n.destroyed))return r.call(t,new Error("premature close"))}},I=function(){t.req.on("finish",h)};return AE(t)?(t.on("complete",h),t.on("abort",C),t.req?I():t.on("request",I)):s&&!n&&(t.on("end",c),t.on("close",c)),ME(t)&&t.on("exit",v),t.on("end",m),t.on("finish",h),e.error!==!1&&t.on("error",w),t.on("close",C),function(){d=!0,t.removeListener("complete",h),t.removeListener("abort",C),t.removeListener("request",I),t.req&&t.req.removeListener("finish",h),t.removeListener("end",c),t.removeListener("close",c),t.removeListener("finish",h),t.removeListener("exit",v),t.removeListener("end",m),t.removeListener("error",w),t.removeListener("close",C)}};pm.exports=hm});var _m=E((B0,ym)=>{var Nn=am(),gm=yu(),Jo=br(),jE=Buffer.alloc,mm=On().Readable,In=On().Writable,$E=require("string_decoder").StringDecoder,Yo=gu(),WE=parseInt("755",8),HE=parseInt("644",8),vm=jE(1024),_u=function(){},Ru=function(t,e){e&=511,e&&t.push(vm.slice(0,512-e))};function UE(t){switch(t&Nn.S_IFMT){case Nn.S_IFBLK:return"block-device";case Nn.S_IFCHR:return"character-device";case Nn.S_IFDIR:return"directory";case Nn.S_IFIFO:return"fifo";case Nn.S_IFLNK:return"symlink"}return"file"}var Qo=function(t){In.call(this),this.written=0,this._to=t,this._destroyed=!1};Jo(Qo,In);Qo.prototype._write=function(t,e,r){if(this.written+=t.length,this._to.push(t))return r();this._to._drain=r};Qo.prototype.destroy=function(){this._destroyed||(this._destroyed=!0,this.emit("close"))};var Zo=function(){In.call(this),this.linkname="",this._decoder=new $E("utf-8"),this._destroyed=!1};Jo(Zo,In);Zo.prototype._write=function(t,e,r){this.linkname+=this._decoder.write(t),r()};Zo.prototype.destroy=function(){this._destroyed||(this._destroyed=!0,this.emit("close"))};var Pi=function(){In.call(this),this._destroyed=!1};Jo(Pi,In);Pi.prototype._write=function(t,e,r){r(new Error("No body allowed for this entry"))};Pi.prototype.destroy=function(){this._destroyed||(this._destroyed=!0,this.emit("close"))};var zt=function(t){if(!(this instanceof zt))return new zt(t);mm.call(this,t),this._drain=_u,this._finalized=!1,this._finalizing=!1,this._destroyed=!1,this._stream=null};Jo(zt,mm);zt.prototype.entry=function(t,e,r){if(this._stream)throw new Error("already piping an entry");if(!(this._finalized||this._destroyed)){typeof e=="function"&&(r=e,e=null),r||(r=_u);var n=this;if((!t.size||t.type==="symlink")&&(t.size=0),t.type||(t.type=UE(t.mode)),t.mode||(t.mode=t.type==="directory"?WE:HE),t.uid||(t.uid=0),t.gid||(t.gid=0),t.mtime||(t.mtime=new Date),typeof e=="string"&&(e=Buffer.from(e)),Buffer.isBuffer(e)){t.size=e.length,this._encode(t);var i=this.push(e);return Ru(n,t.size),i?process.nextTick(r):this._drain=r,new Pi}if(t.type==="symlink"&&!t.linkname){var o=new Zo;return gm(o,function(d){if(d)return n.destroy(),r(d);t.linkname=o.linkname,n._encode(t),r()}),o}if(this._encode(t),t.type!=="file"&&t.type!=="contiguous-file")return process.nextTick(r),new Pi;var s=new Qo(this);return this._stream=s,gm(s,function(d){if(n._stream=null,d)return n.destroy(),r(d);if(s.written!==t.size)return n.destroy(),r(new Error("size mismatch"));Ru(n,t.size),n._finalizing&&n.finalize(),r()}),s}};zt.prototype.finalize=function(){if(this._stream){this._finalizing=!0;return}this._finalized||(this._finalized=!0,this.push(vm),this.push(null))};zt.prototype.destroy=function(t){this._destroyed||(this._destroyed=!0,t&&this.emit("error",t),this.emit("close"),this._stream&&this._stream.destroy&&this._stream.destroy())};zt.prototype._encode=function(t){if(!t.pax){var e=Yo.encode(t);if(e){this.push(e);return}}this._encodePax(t)};zt.prototype._encodePax=function(t){var e=Yo.encodePax({name:t.name,linkname:t.linkname,pax:t.pax}),r={name:"PaxHeader",mode:t.mode,uid:t.uid,gid:t.gid,size:e.length,mtime:t.mtime,type:"pax-header",linkname:t.linkname&&"PaxHeader",uname:t.uname,gname:t.gname,devmajor:t.devmajor,devminor:t.devminor};this.push(Yo.encode(r)),this.push(e),Ru(this,e.length),r.size=t.size,r.type=t.type,this.push(Yo.encode(r))};zt.prototype._read=function(t){var e=this._drain;this._drain=_u,e()};ym.exports=zt});var Rm=E(wu=>{wu.extract=om();wu.pack=_m()});var Cm=E((V0,bm)=>{var zE=vu(),KE=yu(),bu=require("fs"),Di=function(){},BE=/^v?\.0/.test(process.version),es=function(t){return typeof t=="function"},GE=function(t){return!BE||!bu?!1:(t instanceof(bu.ReadStream||Di)||t instanceof(bu.WriteStream||Di))&&es(t.close)},VE=function(t){return t.setHeader&&es(t.abort)},XE=function(t,e,r,n){n=zE(n);var i=!1;t.on("close",function(){i=!0}),KE(t,{readable:e,writable:r},function(s){if(s)return n(s);i=!0,n()});var o=!1;return function(s){if(!i&&!o){if(o=!0,GE(t))return t.close(Di);if(VE(t))return t.abort();if(es(t.destroy))return t.destroy();n(s||new Error("stream was destroyed"))}}},wm=function(t){t()},JE=function(t,e){return t.pipe(e)},YE=function(){var t=Array.prototype.slice.call(arguments),e=es(t[t.length-1]||Di)&&t.pop()||Di;if(Array.isArray(t[0])&&(t=t[0]),t.length<2)throw new Error("pump requires two streams per minimum");var r,n=t.map(function(i,o){var s=o<t.length-1,d=o>0;return XE(i,s,d,function(c){r||(r=c),c&&n.forEach(wm),!s&&(n.forEach(wm),e(r))})});return t.reduce(JE)};bm.exports=YE});var Pm=E((X0,Em)=>{var ts=require("path"),Sm=require("fs"),Tm=parseInt("0777",8);Em.exports=Fn.mkdirp=Fn.mkdirP=Fn;function Fn(t,e,r,n){typeof e=="function"?(r=e,e={}):(!e||typeof e!="object")&&(e={mode:e});var i=e.mode,o=e.fs||Sm;i===void 0&&(i=Tm&~process.umask()),n||(n=null);var s=r||function(){};t=ts.resolve(t),o.mkdir(t,i,function(d){if(!d)return n=n||t,s(null,n);switch(d.code){case"ENOENT":Fn(ts.dirname(t),e,function(c,h){c?s(c,h):Fn(t,e,s,h)});break;default:o.stat(t,function(c,h){c||!h.isDirectory()?s(d,n):s(null,n)});break}})}Fn.sync=function t(e,r,n){(!r||typeof r!="object")&&(r={mode:r});var i=r.mode,o=r.fs||Sm;i===void 0&&(i=Tm&~process.umask()),n||(n=null),e=ts.resolve(e);try{o.mkdirSync(e,i),n=n||e}catch(d){switch(d.code){case"ENOENT":n=t(ts.dirname(e),r,n),t(e,r,n);break;default:var s;try{s=o.statSync(e)}catch{throw d}if(!s.isDirectory())throw d;break}}return n}});var Fm=E(Tu=>{var QE=Hp(),Dm=Rm(),qm=Cm(),ZE=Pm(),Om=require("fs"),ct=require("path"),eP=require("os"),qi=eP.platform()==="win32",Oi=function(){},Cu=function(t){return t},Su=qi?function(t){return t.replace(/\\/g,"/").replace(/[:?<>|]/g,"_")}:Cu,tP=function(t,e,r,n,i,o){var s=i||["."];return function(c){if(!s.length)return c();var h=s.shift(),m=ct.join(r,h);e.call(t,m,function(v,w){if(v)return c(v);if(!w.isDirectory())return c(null,h,w);t.readdir(m,function(C,N){if(C)return c(C);o&&N.sort();for(var I=0;I<N.length;I++)n(ct.join(r,h,N[I]))||s.push(ct.join(h,N[I]));c(null,h,w)})})}},xm=function(t,e){return function(r){r.name=r.name.split("/").slice(e).join("/");var n=r.linkname;return n&&(r.type==="link"||ct.isAbsolute(n))&&(r.linkname=n.split("/").slice(e).join("/")),t(r)}};Tu.pack=function(t,e){t||(t="."),e||(e={});var r=e.fs||Om,n=e.ignore||e.filter||Oi,i=e.map||Oi,o=e.mapStream||Cu,s=tP(r,e.dereference?r.stat:r.lstat,t,n,e.entries,e.sort),d=e.strict!==!1,c=typeof e.umask=="number"?~e.umask:~km(),h=typeof e.dmode=="number"?e.dmode:0,m=typeof e.fmode=="number"?e.fmode:0,v=e.pack||Dm.pack(),w=e.finish||Oi;e.strip&&(i=xm(i,e.strip)),e.readable&&(h|=parseInt(555,8),m|=parseInt(444,8)),e.writable&&(h|=parseInt(333,8),m|=parseInt(222,8));var C=function(L,O){r.readlink(ct.join(t,L),function(x,P){if(x)return v.destroy(x);O.linkname=Su(P),v.entry(O,I)})},N=function(L,O,x){if(L)return v.destroy(L);if(!O)return e.finalize!==!1&&v.finalize(),w(v);if(x.isSocket())return I();var P={name:Su(O),mode:(x.mode|(x.isDirectory()?h:m))&c,mtime:x.mtime,size:x.size,type:"file",uid:x.uid,gid:x.gid};if(x.isDirectory())return P.size=0,P.type="directory",P=i(P)||P,v.entry(P,I);if(x.isSymbolicLink())return P.size=0,P.type="symlink",P=i(P)||P,C(O,P);if(P=i(P)||P,!x.isFile())return d?v.destroy(new Error("unsupported type for "+O)):I();var q=v.entry(P,I);if(!!q){var U=o(r.createReadStream(ct.join(t,O),{start:0,end:P.size>0?P.size-1:P.size}),P);U.on("error",function(he){q.destroy(he)}),qm(U,q)}},I=function(L){if(L)return v.destroy(L);s(N)};return I(),v};var rP=function(t){return t.length?t[t.length-1]:null},nP=function(){return process.getuid?process.getuid():-1},km=function(){return process.umask?process.umask():0};Tu.extract=function(t,e){t||(t="."),e||(e={});var r=e.fs||Om,n=e.ignore||e.filter||Oi,i=e.map||Oi,o=e.mapStream||Cu,s=e.chown!==!1&&!qi&&nP()===0,d=e.extract||Dm.extract(),c=[],h=new Date,m=typeof e.umask=="number"?~e.umask:~km(),v=typeof e.dmode=="number"?e.dmode:0,w=typeof e.fmode=="number"?e.fmode:0,C=e.strict!==!1;e.strip&&(i=xm(i,e.strip)),e.readable&&(v|=parseInt(555,8),w|=parseInt(444,8)),e.writable&&(v|=parseInt(333,8),w|=parseInt(222,8));var N=function(O,x){for(var P;(P=rP(c))&&O.slice(0,P[0].length)!==P[0];)c.pop();if(!P)return x();r.utimes(P[0],h,P[1],x)},I=function(O,x,P){if(e.utimes===!1)return P();if(x.type==="directory")return r.utimes(O,h,x.mtime,P);if(x.type==="symlink")return N(O,P);r.utimes(O,h,x.mtime,function(q){if(q)return P(q);N(O,P)})},L=function(O,x,P){var q=x.type==="symlink",U=q?r.lchmod:r.chmod,he=q?r.lchown:r.chown;if(!U)return P();var be=(x.mode|(x.type==="directory"?v:w))&m;he&&s?he.call(r,O,x.uid,x.gid,ye):ye(null);function ye(ce){if(ce)return P(ce);if(!U)return P();U.call(r,O,be,P)}};return d.on("entry",function(O,x,P){O=i(O)||O,O.name=Su(O.name);var q=ct.join(t,ct.join("/",O.name));if(n(q,O))return x.resume(),P();var U=function(oe){if(oe)return P(oe);I(q,O,function(ae){if(ae)return P(ae);if(qi)return P();L(q,O,P)})},he=function(){if(qi)return P();r.unlink(q,function(){r.symlink(O.linkname,q,U)})},be=function(){if(qi)return P();r.unlink(q,function(){var oe=ct.join(t,ct.join("/",O.linkname));r.link(oe,q,function(ae){if(ae&&ae.code==="EPERM"&&e.hardlinkAsFilesFallback)return x=r.createReadStream(oe),ye();U(ae)})})},ye=function(){var oe=r.createWriteStream(q),ae=o(x,O);oe.on("error",function(Te){ae.destroy(Te)}),qm(ae,oe,function(Te){if(Te)return P(Te);oe.on("close",U)})};if(O.type==="directory")return c.push([q,O.mtime]),Im(q,{fs:r,own:s,uid:O.uid,gid:O.gid},U);var ce=ct.dirname(q);Nm(r,ce,ct.join(t,"."),function(oe,ae){if(oe)return P(oe);if(!ae)return P(new Error(ce+" is not a valid path"));Im(ce,{fs:r,own:s,uid:O.uid,gid:O.gid},function(Te){if(Te)return P(Te);switch(O.type){case"file":return ye();case"link":return be();case"symlink":return he()}if(C)return P(new Error("unsupported type for "+q+" ("+O.type+")"));x.resume(),P()})})}),e.finish&&d.on("finish",e.finish),d};function Nm(t,e,r,n){if(e===r)return n(null,!0);t.lstat(e,function(i,o){if(i&&i.code!=="ENOENT")return n(i);if(i||o.isDirectory())return Nm(t,ct.join(e,".."),r,n);n(null,!1)})}function Im(t,e,r){ZE(t,{fs:e.fs},function(n,i){!n&&i&&e.own?QE(i,e.uid,e.gid,r):r(n)})}});tv(exports,{activate:()=>iP,deactivate:()=>oP});var Wm=Ir(require("fs")),Hm=Ir(require("path")),Um=Ir(require("vscode")),zm=Ir(Fp());var Lm=Ir(require("path")),Am=Ir(require("https")),Mm=Ir(Fm());function jm(t,e){let r=Lm.join(`${t}-${e}`,"bin",t);return process.platform==="win32"?`${r}.bat`:r}function $m(t,e){return`https://github.com/tricktron/frege-lsp-server/releases/download/v${e}/${t}-${e}.tar`}function Eu(t,e){return new Promise((r,n)=>{Am.get(t,i=>{let{statusCode:o,headers:s}=i;if(o===301||o===302)r(Eu(s.location,e));else{let d=i.pipe((0,Mm.extract)(e));i.resume(),i.on("error",c=>{n(new Error(c.message))}),i.on("end",()=>{d.end(),d.on("error",c=>n(c)),d.on("finish",()=>r(d))})}})})}var rs,Pu="frege-lsp-server",Km="2.1.8-alpha",Bm=".frege";async function iP(t){let e=t.asAbsolutePath(Hm.join(Bm,jm(Pu,Km)));if(!(0,Wm.existsSync)(e)){let i=$m(Pu,Km);await Eu(i,t.asAbsolutePath(Bm))}let r={run:{command:"sh",args:[e]},debug:{command:"sh",args:[e]}},n={documentSelector:[{scheme:"file",language:"frege"}],synchronize:{fileEvents:Um.workspace.createFileSystemWatcher("**/.clientrc")}};rs=new zm.LanguageClient(Pu,"frege lsp server",r,n),rs.start()}function oP(){if(!!rs)return rs.stop()}0&&(module.exports={activate,deactivate});
/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */
